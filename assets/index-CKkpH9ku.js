function DS(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function Bp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Pf={exports:{}},Cl={},Rf={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function MS(){if(av)return Ve;av=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function w(U){return U===null||typeof U!="object"?null:(U=x&&U[x]||U["@@iterator"],typeof U=="function"?U:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,I={};function A(U,J,pe){this.props=U,this.context=J,this.refs=I,this.updater=pe||C}A.prototype.isReactComponent={},A.prototype.setState=function(U,J){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,J,"setState")},A.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function N(){}N.prototype=A.prototype;function D(U,J,pe){this.props=U,this.context=J,this.refs=I,this.updater=pe||C}var z=D.prototype=new N;z.constructor=D,k(z,A.prototype),z.isPureReactComponent=!0;var K=Array.isArray,X=Object.prototype.hasOwnProperty,ne={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function R(U,J,pe){var Ee,Se={},Ae=null,ce=null;if(J!=null)for(Ee in J.ref!==void 0&&(ce=J.ref),J.key!==void 0&&(Ae=""+J.key),J)X.call(J,Ee)&&!b.hasOwnProperty(Ee)&&(Se[Ee]=J[Ee]);var _e=arguments.length-2;if(_e===1)Se.children=pe;else if(1<_e){for(var Oe=Array(_e),$e=0;$e<_e;$e++)Oe[$e]=arguments[$e+2];Se.children=Oe}if(U&&U.defaultProps)for(Ee in _e=U.defaultProps,_e)Se[Ee]===void 0&&(Se[Ee]=_e[Ee]);return{$$typeof:n,type:U,key:Ae,ref:ce,props:Se,_owner:ne.current}}function $(U,J){return{$$typeof:n,type:U.type,key:J,ref:U.ref,props:U.props,_owner:U._owner}}function O(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function V(U){var J={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(pe){return J[pe]})}var M=/\/+/g;function F(U,J){return typeof U=="object"&&U!==null&&U.key!=null?V(""+U.key):J.toString(36)}function ve(U,J,pe,Ee,Se){var Ae=typeof U;(Ae==="undefined"||Ae==="boolean")&&(U=null);var ce=!1;if(U===null)ce=!0;else switch(Ae){case"string":case"number":ce=!0;break;case"object":switch(U.$$typeof){case n:case e:ce=!0}}if(ce)return ce=U,Se=Se(ce),U=Ee===""?"."+F(ce,0):Ee,K(Se)?(pe="",U!=null&&(pe=U.replace(M,"$&/")+"/"),ve(Se,J,pe,"",function($e){return $e})):Se!=null&&(O(Se)&&(Se=$(Se,pe+(!Se.key||ce&&ce.key===Se.key?"":(""+Se.key).replace(M,"$&/")+"/")+U)),J.push(Se)),1;if(ce=0,Ee=Ee===""?".":Ee+":",K(U))for(var _e=0;_e<U.length;_e++){Ae=U[_e];var Oe=Ee+F(Ae,_e);ce+=ve(Ae,J,pe,Oe,Se)}else if(Oe=w(U),typeof Oe=="function")for(U=Oe.call(U),_e=0;!(Ae=U.next()).done;)Ae=Ae.value,Oe=Ee+F(Ae,_e++),ce+=ve(Ae,J,pe,Oe,Se);else if(Ae==="object")throw J=String(U),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return ce}function Fe(U,J,pe){if(U==null)return U;var Ee=[],Se=0;return ve(U,Ee,"","",function(Ae){return J.call(pe,Ae,Se++)}),Ee}function we(U){if(U._status===-1){var J=U._result;J=J(),J.then(function(pe){(U._status===0||U._status===-1)&&(U._status=1,U._result=pe)},function(pe){(U._status===0||U._status===-1)&&(U._status=2,U._result=pe)}),U._status===-1&&(U._status=0,U._result=J)}if(U._status===1)return U._result.default;throw U._result}var ge={current:null},q={transition:null},ie={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:q,ReactCurrentOwner:ne};function ee(){throw Error("act(...) is not supported in production builds of React.")}return Ve.Children={map:Fe,forEach:function(U,J,pe){Fe(U,function(){J.apply(this,arguments)},pe)},count:function(U){var J=0;return Fe(U,function(){J++}),J},toArray:function(U){return Fe(U,function(J){return J})||[]},only:function(U){if(!O(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ve.Component=A,Ve.Fragment=t,Ve.Profiler=o,Ve.PureComponent=D,Ve.StrictMode=r,Ve.Suspense=h,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,Ve.act=ee,Ve.cloneElement=function(U,J,pe){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Ee=k({},U.props),Se=U.key,Ae=U.ref,ce=U._owner;if(J!=null){if(J.ref!==void 0&&(Ae=J.ref,ce=ne.current),J.key!==void 0&&(Se=""+J.key),U.type&&U.type.defaultProps)var _e=U.type.defaultProps;for(Oe in J)X.call(J,Oe)&&!b.hasOwnProperty(Oe)&&(Ee[Oe]=J[Oe]===void 0&&_e!==void 0?_e[Oe]:J[Oe])}var Oe=arguments.length-2;if(Oe===1)Ee.children=pe;else if(1<Oe){_e=Array(Oe);for(var $e=0;$e<Oe;$e++)_e[$e]=arguments[$e+2];Ee.children=_e}return{$$typeof:n,type:U.type,key:Se,ref:Ae,props:Ee,_owner:ce}},Ve.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},Ve.createElement=R,Ve.createFactory=function(U){var J=R.bind(null,U);return J.type=U,J},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(U){return{$$typeof:c,render:U}},Ve.isValidElement=O,Ve.lazy=function(U){return{$$typeof:g,_payload:{_status:-1,_result:U},_init:we}},Ve.memo=function(U,J){return{$$typeof:p,type:U,compare:J===void 0?null:J}},Ve.startTransition=function(U){var J=q.transition;q.transition={};try{U()}finally{q.transition=J}},Ve.unstable_act=ee,Ve.useCallback=function(U,J){return ge.current.useCallback(U,J)},Ve.useContext=function(U){return ge.current.useContext(U)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(U){return ge.current.useDeferredValue(U)},Ve.useEffect=function(U,J){return ge.current.useEffect(U,J)},Ve.useId=function(){return ge.current.useId()},Ve.useImperativeHandle=function(U,J,pe){return ge.current.useImperativeHandle(U,J,pe)},Ve.useInsertionEffect=function(U,J){return ge.current.useInsertionEffect(U,J)},Ve.useLayoutEffect=function(U,J){return ge.current.useLayoutEffect(U,J)},Ve.useMemo=function(U,J){return ge.current.useMemo(U,J)},Ve.useReducer=function(U,J,pe){return ge.current.useReducer(U,J,pe)},Ve.useRef=function(U){return ge.current.useRef(U)},Ve.useState=function(U){return ge.current.useState(U)},Ve.useSyncExternalStore=function(U,J,pe){return ge.current.useSyncExternalStore(U,J,pe)},Ve.useTransition=function(){return ge.current.useTransition()},Ve.version="18.3.1",Ve}var lv;function zp(){return lv||(lv=1,Rf.exports=MS()),Rf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function VS(){if(uv)return Cl;uv=1;var n=zp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(c,h,p){var g,x={},w=null,C=null;p!==void 0&&(w=""+p),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(C=h.ref);for(g in h)r.call(h,g)&&!a.hasOwnProperty(g)&&(x[g]=h[g]);if(c&&c.defaultProps)for(g in h=c.defaultProps,h)x[g]===void 0&&(x[g]=h[g]);return{$$typeof:e,type:c,key:w,ref:C,props:x,_owner:o.current}}return Cl.Fragment=t,Cl.jsx=u,Cl.jsxs=u,Cl}var cv;function jS(){return cv||(cv=1,Pf.exports=VS()),Pf.exports}var _=jS(),T=zp();const Qt=Bp(T),US=DS({__proto__:null,default:Qt},[T]);var Pc={},bf={exports:{}},cn={},$f={exports:{}},Nf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function BS(){return dv||(dv=1,function(n){function e(q,ie){var ee=q.length;q.push(ie);e:for(;0<ee;){var U=ee-1>>>1,J=q[U];if(0<o(J,ie))q[U]=ie,q[ee]=J,ee=U;else break e}}function t(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var ie=q[0],ee=q.pop();if(ee!==ie){q[0]=ee;e:for(var U=0,J=q.length,pe=J>>>1;U<pe;){var Ee=2*(U+1)-1,Se=q[Ee],Ae=Ee+1,ce=q[Ae];if(0>o(Se,ee))Ae<J&&0>o(ce,Se)?(q[U]=ce,q[Ae]=ee,U=Ae):(q[U]=Se,q[Ee]=ee,U=Ee);else if(Ae<J&&0>o(ce,ee))q[U]=ce,q[Ae]=ee,U=Ae;else break e}}return ie}function o(q,ie){var ee=q.sortIndex-ie.sortIndex;return ee!==0?ee:q.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var h=[],p=[],g=1,x=null,w=3,C=!1,k=!1,I=!1,A=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(q){for(var ie=t(p);ie!==null;){if(ie.callback===null)r(p);else if(ie.startTime<=q)r(p),ie.sortIndex=ie.expirationTime,e(h,ie);else break;ie=t(p)}}function K(q){if(I=!1,z(q),!k)if(t(h)!==null)k=!0,we(X);else{var ie=t(p);ie!==null&&ge(K,ie.startTime-q)}}function X(q,ie){k=!1,I&&(I=!1,N(R),R=-1),C=!0;var ee=w;try{for(z(ie),x=t(h);x!==null&&(!(x.expirationTime>ie)||q&&!V());){var U=x.callback;if(typeof U=="function"){x.callback=null,w=x.priorityLevel;var J=U(x.expirationTime<=ie);ie=n.unstable_now(),typeof J=="function"?x.callback=J:x===t(h)&&r(h),z(ie)}else r(h);x=t(h)}if(x!==null)var pe=!0;else{var Ee=t(p);Ee!==null&&ge(K,Ee.startTime-ie),pe=!1}return pe}finally{x=null,w=ee,C=!1}}var ne=!1,b=null,R=-1,$=5,O=-1;function V(){return!(n.unstable_now()-O<$)}function M(){if(b!==null){var q=n.unstable_now();O=q;var ie=!0;try{ie=b(!0,q)}finally{ie?F():(ne=!1,b=null)}}else ne=!1}var F;if(typeof D=="function")F=function(){D(M)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Fe=ve.port2;ve.port1.onmessage=M,F=function(){Fe.postMessage(null)}}else F=function(){A(M,0)};function we(q){b=q,ne||(ne=!0,F())}function ge(q,ie){R=A(function(){q(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_continueExecution=function(){k||C||(k=!0,we(X))},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(q){switch(w){case 1:case 2:case 3:var ie=3;break;default:ie=w}var ee=w;w=ie;try{return q()}finally{w=ee}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(q,ie){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ee=w;w=q;try{return ie()}finally{w=ee}},n.unstable_scheduleCallback=function(q,ie,ee){var U=n.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?U+ee:U):ee=U,q){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ee+J,q={id:g++,callback:ie,priorityLevel:q,startTime:ee,expirationTime:J,sortIndex:-1},ee>U?(q.sortIndex=ee,e(p,q),t(h)===null&&q===t(p)&&(I?(N(R),R=-1):I=!0,ge(K,ee-U))):(q.sortIndex=J,e(h,q),k||C||(k=!0,we(X))),q},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(q){var ie=w;return function(){var ee=w;w=ie;try{return q.apply(this,arguments)}finally{w=ee}}}}(Nf)),Nf}var hv;function zS(){return hv||(hv=1,$f.exports=BS()),$f.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function WS(){if(fv)return cn;fv=1;var n=zp(),e=zS();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){u(i,s),u(i+"Capture",s)}function u(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},x={};function w(i){return h.call(x,i)?!0:h.call(g,i)?!1:p.test(i)?x[i]=!0:(g[i]=!0,!1)}function C(i,s,l,f){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return f?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function k(i,s,l,f){if(s===null||typeof s>"u"||C(i,s,l,f))return!0;if(f)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function I(i,s,l,f,m,v,S){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=i,this.type=s,this.sanitizeURL=v,this.removeEmptyString=S}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){A[i]=new I(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];A[s]=new I(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){A[i]=new I(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){A[i]=new I(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){A[i]=new I(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){A[i]=new I(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){A[i]=new I(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){A[i]=new I(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){A[i]=new I(i,5,!1,i.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function D(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(N,D);A[s]=new I(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(N,D);A[s]=new I(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(N,D);A[s]=new I(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){A[i]=new I(i,1,!1,i.toLowerCase(),null,!1,!1)}),A.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){A[i]=new I(i,1,!1,i.toLowerCase(),null,!0,!0)});function z(i,s,l,f){var m=A.hasOwnProperty(s)?A[s]:null;(m!==null?m.type!==0:f||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(k(s,l,m,f)&&(l=null),f||m===null?w(s)&&(l===null?i.removeAttribute(s):i.setAttribute(s,""+l)):m.mustUseProperty?i[m.propertyName]=l===null?m.type===3?!1:"":l:(s=m.attributeName,f=m.attributeNamespace,l===null?i.removeAttribute(s):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,f?i.setAttributeNS(f,s,l):i.setAttribute(s,l))))}var K=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),ne=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),V=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),Fe=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),q=Symbol.iterator;function ie(i){return i===null||typeof i!="object"?null:(i=q&&i[q]||i["@@iterator"],typeof i=="function"?i:null)}var ee=Object.assign,U;function J(i){if(U===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);U=s&&s[1]||""}return`
`+U+i}var pe=!1;function Ee(i,s){if(!i||pe)return"";pe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Q){var f=Q}Reflect.construct(i,[],s)}else{try{s.call()}catch(Q){f=Q}i.call(s.prototype)}else{try{throw Error()}catch(Q){f=Q}i()}}catch(Q){if(Q&&f&&typeof Q.stack=="string"){for(var m=Q.stack.split(`
`),v=f.stack.split(`
`),S=m.length-1,L=v.length-1;1<=S&&0<=L&&m[S]!==v[L];)L--;for(;1<=S&&0<=L;S--,L--)if(m[S]!==v[L]){if(S!==1||L!==1)do if(S--,L--,0>L||m[S]!==v[L]){var j=`
`+m[S].replace(" at new "," at ");return i.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",i.displayName)),j}while(1<=S&&0<=L);break}}}finally{pe=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?J(i):""}function Se(i){switch(i.tag){case 5:return J(i.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return i=Ee(i.type,!1),i;case 11:return i=Ee(i.type.render,!1),i;case 1:return i=Ee(i.type,!0),i;default:return""}}function Ae(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case b:return"Fragment";case ne:return"Portal";case $:return"Profiler";case R:return"StrictMode";case F:return"Suspense";case ve:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case V:return(i.displayName||"Context")+".Consumer";case O:return(i._context.displayName||"Context")+".Provider";case M:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Fe:return s=i.displayName||null,s!==null?s:Ae(i.type)||"Memo";case we:s=i._payload,i=i._init;try{return Ae(i(s))}catch{}}return null}function ce(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(s);case 8:return s===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function _e(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Oe(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function $e(i){var s=Oe(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),f=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,v=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(S){f=""+S,v.call(this,S)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(S){f=""+S},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Me(i){i._valueTracker||(i._valueTracker=$e(i))}function Be(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),f="";return i&&(f=Oe(i)?i.checked?"true":"false":i.value),i=f,i!==l?(s.setValue(i),!0):!1}function ct(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Pt(i,s){var l=s.checked;return ee({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Sn(i,s){var l=s.defaultValue==null?"":s.defaultValue,f=s.checked!=null?s.checked:s.defaultChecked;l=_e(s.value!=null?s.value:l),i._wrapperState={initialChecked:f,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function On(i,s){s=s.checked,s!=null&&z(i,"checked",s,!1)}function Dn(i,s){On(i,s);var l=_e(s.value),f=s.type;if(l!=null)f==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?Mn(i,s.type,l):s.hasOwnProperty("defaultValue")&&Mn(i,s.type,_e(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function no(i,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var f=s.type;if(!(f!=="submit"&&f!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,l||s===i.value||(i.value=s),i.defaultValue=s}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function Mn(i,s,l){(s!=="number"||ct(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Dr=Array.isArray;function Mr(i,s,l,f){if(i=i.options,s){s={};for(var m=0;m<l.length;m++)s["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=s.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&f&&(i[l].defaultSelected=!0)}else{for(l=""+_e(l),s=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,f&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function ba(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ee({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function ro(i,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Dr(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}i._wrapperState={initialValue:_e(l)}}function io(i,s){var l=_e(s.value),f=_e(s.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),s.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),f!=null&&(i.defaultValue=""+f)}function $a(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function _t(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Et(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?_t(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Vr,Na=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,f,m){MSApp.execUnsafeLocalFunction(function(){return i(s,l,f,m)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(Vr=Vr||document.createElement("div"),Vr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Vr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function gi(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var cs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ds=["Webkit","ms","Moz","O"];Object.keys(cs).forEach(function(i){ds.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),cs[s]=cs[i]})});function Fa(i,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||cs.hasOwnProperty(i)&&cs[i]?(""+s).trim():s+"px"}function La(i,s){i=i.style;for(var l in s)if(s.hasOwnProperty(l)){var f=l.indexOf("--")===0,m=Fa(l,s[l],f);l==="float"&&(l="cssFloat"),f?i.setProperty(l,m):i[l]=m}}var Oa=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Da(i,s){if(s){if(Oa[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ma(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hs=null;function so(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var oo=null,Tn=null,lr=null;function ao(i){if(i=ll(i)){if(typeof oo!="function")throw Error(t(280));var s=i.stateNode;s&&(s=Wu(s),oo(i.stateNode,i.type,s))}}function ur(i){Tn?lr?lr.push(i):lr=[i]:Tn=i}function Va(){if(Tn){var i=Tn,s=lr;if(lr=Tn=null,ao(i),s)for(i=0;i<s.length;i++)ao(s[i])}}function fs(i,s){return i(s)}function ja(){}var jr=!1;function Ua(i,s,l){if(jr)return i(s,l);jr=!0;try{return fs(i,s,l)}finally{jr=!1,(Tn!==null||lr!==null)&&(ja(),Va())}}function ht(i,s){var l=i.stateNode;if(l===null)return null;var f=Wu(l);if(f===null)return null;l=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var lo=!1;if(c)try{var Vn={};Object.defineProperty(Vn,"passive",{get:function(){lo=!0}}),window.addEventListener("test",Vn,Vn),window.removeEventListener("test",Vn,Vn)}catch{lo=!1}function ps(i,s,l,f,m,v,S,L,j){var Q=Array.prototype.slice.call(arguments,3);try{s.apply(l,Q)}catch(re){this.onError(re)}}var ms=!1,uo=null,jn=!1,Ba=null,nh={onError:function(i){ms=!0,uo=i}};function co(i,s,l,f,m,v,S,L,j){ms=!1,uo=null,ps.apply(nh,arguments)}function mu(i,s,l,f,m,v,S,L,j){if(co.apply(this,arguments),ms){if(ms){var Q=uo;ms=!1,uo=null}else throw Error(t(198));jn||(jn=!0,Ba=Q)}}function Un(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function gs(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Bn(i){if(Un(i)!==i)throw Error(t(188))}function gu(i){var s=i.alternate;if(!s){if(s=Un(i),s===null)throw Error(t(188));return s!==i?null:i}for(var l=i,f=s;;){var m=l.return;if(m===null)break;var v=m.alternate;if(v===null){if(f=m.return,f!==null){l=f;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===l)return Bn(m),i;if(v===f)return Bn(m),s;v=v.sibling}throw Error(t(188))}if(l.return!==f.return)l=m,f=v;else{for(var S=!1,L=m.child;L;){if(L===l){S=!0,l=m,f=v;break}if(L===f){S=!0,f=m,l=v;break}L=L.sibling}if(!S){for(L=v.child;L;){if(L===l){S=!0,l=v,f=m;break}if(L===f){S=!0,f=v,l=m;break}L=L.sibling}if(!S)throw Error(t(189))}}if(l.alternate!==f)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:s}function za(i){return i=gu(i),i!==null?ho(i):null}function ho(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=ho(i);if(s!==null)return s;i=i.sibling}return null}var fo=e.unstable_scheduleCallback,Wa=e.unstable_cancelCallback,yu=e.unstable_shouldYield,rh=e.unstable_requestPaint,Je=e.unstable_now,vu=e.unstable_getCurrentPriorityLevel,ys=e.unstable_ImmediatePriority,yi=e.unstable_UserBlockingPriority,In=e.unstable_NormalPriority,Ha=e.unstable_LowPriority,xu=e.unstable_IdlePriority,vs=null,hn=null;function wu(i){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(vs,i,void 0,(i.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:Eu,qa=Math.log,_u=Math.LN2;function Eu(i){return i>>>=0,i===0?32:31-(qa(i)/_u|0)|0}var po=64,mo=4194304;function vi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function xs(i,s){var l=i.pendingLanes;if(l===0)return 0;var f=0,m=i.suspendedLanes,v=i.pingedLanes,S=l&268435455;if(S!==0){var L=S&~m;L!==0?f=vi(L):(v&=S,v!==0&&(f=vi(v)))}else S=l&~m,S!==0?f=vi(S):v!==0&&(f=vi(v));if(f===0)return 0;if(s!==0&&s!==f&&(s&m)===0&&(m=f&-f,v=s&-s,m>=v||m===16&&(v&4194240)!==0))return s;if((f&4)!==0&&(f|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=f;0<s;)l=31-Jt(s),m=1<<l,f|=i[l],s&=~m;return f}function ih(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ur(i,s){for(var l=i.suspendedLanes,f=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var S=31-Jt(v),L=1<<S,j=m[S];j===-1?((L&l)===0||(L&f)!==0)&&(m[S]=ih(L,s)):j<=s&&(i.expiredLanes|=L),v&=~L}}function fn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function ws(){var i=po;return po<<=1,(po&4194240)===0&&(po=64),i}function xi(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function wi(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Jt(s),i[s]=l}function Xe(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<l;){var m=31-Jt(l),v=1<<m;s[m]=0,f[m]=-1,i[m]=-1,l&=~v}}function _i(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var f=31-Jt(l),m=1<<f;m&s|i[f]&s&&(i[f]|=s),l&=~m}}var ze=0;function Ei(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Cu,go,Su,Tu,Iu,Ga=!1,cr=[],Lt=null,zn=null,Wn=null,Ci=new Map,kn=new Map,dr=[],sh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ku(i,s){switch(i){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":Ci.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":kn.delete(s.pointerId)}}function nn(i,s,l,f,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:s,domEventName:l,eventSystemFlags:f,nativeEvent:v,targetContainers:[m]},s!==null&&(s=ll(s),s!==null&&go(s)),i):(i.eventSystemFlags|=f,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function oh(i,s,l,f,m){switch(s){case"focusin":return Lt=nn(Lt,i,s,l,f,m),!0;case"dragenter":return zn=nn(zn,i,s,l,f,m),!0;case"mouseover":return Wn=nn(Wn,i,s,l,f,m),!0;case"pointerover":var v=m.pointerId;return Ci.set(v,nn(Ci.get(v)||null,i,s,l,f,m)),!0;case"gotpointercapture":return v=m.pointerId,kn.set(v,nn(kn.get(v)||null,i,s,l,f,m)),!0}return!1}function Au(i){var s=Ts(i.target);if(s!==null){var l=Un(s);if(l!==null){if(s=l.tag,s===13){if(s=gs(l),s!==null){i.blockedOn=s,Iu(i.priority,function(){Su(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Br(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=yo(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var f=new l.constructor(l.type,l);hs=f,l.target.dispatchEvent(f),hs=null}else return s=ll(l),s!==null&&go(s),i.blockedOn=l,!1;s.shift()}return!0}function _s(i,s,l){Br(i)&&l.delete(s)}function Pu(){Ga=!1,Lt!==null&&Br(Lt)&&(Lt=null),zn!==null&&Br(zn)&&(zn=null),Wn!==null&&Br(Wn)&&(Wn=null),Ci.forEach(_s),kn.forEach(_s)}function Hn(i,s){i.blockedOn===s&&(i.blockedOn=null,Ga||(Ga=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Pu)))}function qn(i){function s(m){return Hn(m,i)}if(0<cr.length){Hn(cr[0],i);for(var l=1;l<cr.length;l++){var f=cr[l];f.blockedOn===i&&(f.blockedOn=null)}}for(Lt!==null&&Hn(Lt,i),zn!==null&&Hn(zn,i),Wn!==null&&Hn(Wn,i),Ci.forEach(s),kn.forEach(s),l=0;l<dr.length;l++)f=dr[l],f.blockedOn===i&&(f.blockedOn=null);for(;0<dr.length&&(l=dr[0],l.blockedOn===null);)Au(l),l.blockedOn===null&&dr.shift()}var zr=K.ReactCurrentBatchConfig,Si=!0;function rt(i,s,l,f){var m=ze,v=zr.transition;zr.transition=null;try{ze=1,Ka(i,s,l,f)}finally{ze=m,zr.transition=v}}function ah(i,s,l,f){var m=ze,v=zr.transition;zr.transition=null;try{ze=4,Ka(i,s,l,f)}finally{ze=m,zr.transition=v}}function Ka(i,s,l,f){if(Si){var m=yo(i,s,l,f);if(m===null)vh(i,s,f,Es,l),ku(i,f);else if(oh(m,i,s,l,f))f.stopPropagation();else if(ku(i,f),s&4&&-1<sh.indexOf(i)){for(;m!==null;){var v=ll(m);if(v!==null&&Cu(v),v=yo(i,s,l,f),v===null&&vh(i,s,f,Es,l),v===m)break;m=v}m!==null&&f.stopPropagation()}else vh(i,s,f,null,l)}}var Es=null;function yo(i,s,l,f){if(Es=null,i=so(f),i=Ts(i),i!==null)if(s=Un(i),s===null)i=null;else if(l=s.tag,l===13){if(i=gs(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return Es=i,null}function Qa(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vu()){case ys:return 1;case yi:return 4;case In:case Ha:return 16;case xu:return 536870912;default:return 16}default:return 16}}var pn=null,vo=null,rn=null;function Ya(){if(rn)return rn;var i,s=vo,l=s.length,f,m="value"in pn?pn.value:pn.textContent,v=m.length;for(i=0;i<l&&s[i]===m[i];i++);var S=l-i;for(f=1;f<=S&&s[l-f]===m[v-f];f++);return rn=m.slice(i,1<f?1-f:void 0)}function xo(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function hr(){return!0}function Xa(){return!1}function Ot(i){function s(l,f,m,v,S){this._reactName=l,this._targetInst=m,this.type=f,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var L in i)i.hasOwnProperty(L)&&(l=i[L],this[L]=l?l(v):v[L]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?hr:Xa,this.isPropagationStopped=Xa,this}return ee(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),s}var Gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wo=Ot(Gn),fr=ee({},Gn,{view:0,detail:0}),lh=Ot(fr),_o,Wr,Ti,Cs=ee({},fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ti&&(Ti&&i.type==="mousemove"?(_o=i.screenX-Ti.screenX,Wr=i.screenY-Ti.screenY):Wr=_o=0,Ti=i),_o)},movementY:function(i){return"movementY"in i?i.movementY:Wr}}),Eo=Ot(Cs),Ja=ee({},Cs,{dataTransfer:0}),Ru=Ot(Ja),Co=ee({},fr,{relatedTarget:0}),So=Ot(Co),bu=ee({},Gn,{animationName:0,elapsedTime:0,pseudoElement:0}),Hr=Ot(bu),$u=ee({},Gn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Nu=Ot($u),Fu=ee({},Gn,{data:0}),Za=Ot(Fu),To={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ou(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Lu[i])?!!s[i]:!1}function pr(){return Ou}var d=ee({},fr,{key:function(i){if(i.key){var s=To[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=xo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Zt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pr,charCode:function(i){return i.type==="keypress"?xo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?xo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=Ot(d),E=ee({},Cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P=Ot(E),W=ee({},fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pr}),Y=Ot(W),ue=ee({},Gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ye=Ot(ue),Ct=ee({},Cs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),He=Ot(Ct),Rt=[9,13,27,32],gt=c&&"CompositionEvent"in window,An=null;c&&"documentMode"in document&&(An=document.documentMode);var mn=c&&"TextEvent"in window&&!An,Ss=c&&(!gt||An&&8<An&&11>=An),Io=" ",tg=!1;function ng(i,s){switch(i){case"keyup":return Rt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ko=!1;function FC(i,s){switch(i){case"compositionend":return rg(s);case"keypress":return s.which!==32?null:(tg=!0,Io);case"textInput":return i=s.data,i===Io&&tg?null:i;default:return null}}function LC(i,s){if(ko)return i==="compositionend"||!gt&&ng(i,s)?(i=Ya(),rn=vo=pn=null,ko=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ss&&s.locale!=="ko"?null:s.data;default:return null}}var OC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ig(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!OC[i.type]:s==="textarea"}function sg(i,s,l,f){ur(f),s=Uu(s,"onChange"),0<s.length&&(l=new wo("onChange","change",null,l,f),i.push({event:l,listeners:s}))}var el=null,tl=null;function DC(i){Cg(i,0)}function Du(i){var s=$o(i);if(Be(s))return i}function MC(i,s){if(i==="change")return s}var og=!1;if(c){var uh;if(c){var ch="oninput"in document;if(!ch){var ag=document.createElement("div");ag.setAttribute("oninput","return;"),ch=typeof ag.oninput=="function"}uh=ch}else uh=!1;og=uh&&(!document.documentMode||9<document.documentMode)}function lg(){el&&(el.detachEvent("onpropertychange",ug),tl=el=null)}function ug(i){if(i.propertyName==="value"&&Du(tl)){var s=[];sg(s,tl,i,so(i)),Ua(DC,s)}}function VC(i,s,l){i==="focusin"?(lg(),el=s,tl=l,el.attachEvent("onpropertychange",ug)):i==="focusout"&&lg()}function jC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Du(tl)}function UC(i,s){if(i==="click")return Du(s)}function BC(i,s){if(i==="input"||i==="change")return Du(s)}function zC(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Kn=typeof Object.is=="function"?Object.is:zC;function nl(i,s){if(Kn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),f=Object.keys(s);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var m=l[f];if(!h.call(s,m)||!Kn(i[m],s[m]))return!1}return!0}function cg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function dg(i,s){var l=cg(i);i=0;for(var f;l;){if(l.nodeType===3){if(f=i+l.textContent.length,i<=s&&f>=s)return{node:l,offset:s-i};i=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=cg(l)}}function hg(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?hg(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function fg(){for(var i=window,s=ct();s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=ct(i.document)}return s}function dh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function WC(i){var s=fg(),l=i.focusedElem,f=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&hg(l.ownerDocument.documentElement,l)){if(f!==null&&dh(l)){if(s=f.start,i=f.end,i===void 0&&(i=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(i,l.value.length);else if(i=(s=l.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var m=l.textContent.length,v=Math.min(f.start,m);f=f.end===void 0?v:Math.min(f.end,m),!i.extend&&v>f&&(m=f,f=v,v=m),m=dg(l,v);var S=dg(l,f);m&&S&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==S.node||i.focusOffset!==S.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),i.removeAllRanges(),v>f?(i.addRange(s),i.extend(S.node,S.offset)):(s.setEnd(S.node,S.offset),i.addRange(s)))}}for(s=[],i=l;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)i=s[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var HC=c&&"documentMode"in document&&11>=document.documentMode,Ao=null,hh=null,rl=null,fh=!1;function pg(i,s,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;fh||Ao==null||Ao!==ct(f)||(f=Ao,"selectionStart"in f&&dh(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),rl&&nl(rl,f)||(rl=f,f=Uu(hh,"onSelect"),0<f.length&&(s=new wo("onSelect","select",null,s,l),i.push({event:s,listeners:f}),s.target=Ao)))}function Mu(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Po={animationend:Mu("Animation","AnimationEnd"),animationiteration:Mu("Animation","AnimationIteration"),animationstart:Mu("Animation","AnimationStart"),transitionend:Mu("Transition","TransitionEnd")},ph={},mg={};c&&(mg=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function Vu(i){if(ph[i])return ph[i];if(!Po[i])return i;var s=Po[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in mg)return ph[i]=s[l];return i}var gg=Vu("animationend"),yg=Vu("animationiteration"),vg=Vu("animationstart"),xg=Vu("transitionend"),wg=new Map,_g="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ii(i,s){wg.set(i,s),a(s,[i])}for(var mh=0;mh<_g.length;mh++){var gh=_g[mh],qC=gh.toLowerCase(),GC=gh[0].toUpperCase()+gh.slice(1);Ii(qC,"on"+GC)}Ii(gg,"onAnimationEnd"),Ii(yg,"onAnimationIteration"),Ii(vg,"onAnimationStart"),Ii("dblclick","onDoubleClick"),Ii("focusin","onFocus"),Ii("focusout","onBlur"),Ii(xg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KC=new Set("cancel close invalid load scroll toggle".split(" ").concat(il));function Eg(i,s,l){var f=i.type||"unknown-event";i.currentTarget=l,mu(f,s,void 0,i),i.currentTarget=null}function Cg(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var f=i[l],m=f.event;f=f.listeners;e:{var v=void 0;if(s)for(var S=f.length-1;0<=S;S--){var L=f[S],j=L.instance,Q=L.currentTarget;if(L=L.listener,j!==v&&m.isPropagationStopped())break e;Eg(m,L,Q),v=j}else for(S=0;S<f.length;S++){if(L=f[S],j=L.instance,Q=L.currentTarget,L=L.listener,j!==v&&m.isPropagationStopped())break e;Eg(m,L,Q),v=j}}}if(jn)throw i=Ba,jn=!1,Ba=null,i}function et(i,s){var l=s[Sh];l===void 0&&(l=s[Sh]=new Set);var f=i+"__bubble";l.has(f)||(Sg(s,i,2,!1),l.add(f))}function yh(i,s,l){var f=0;s&&(f|=4),Sg(l,i,f,s)}var ju="_reactListening"+Math.random().toString(36).slice(2);function sl(i){if(!i[ju]){i[ju]=!0,r.forEach(function(l){l!=="selectionchange"&&(KC.has(l)||yh(l,!1,i),yh(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[ju]||(s[ju]=!0,yh("selectionchange",!1,s))}}function Sg(i,s,l,f){switch(Qa(s)){case 1:var m=rt;break;case 4:m=ah;break;default:m=Ka}l=m.bind(null,s,l,i),m=void 0,!lo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),f?m!==void 0?i.addEventListener(s,l,{capture:!0,passive:m}):i.addEventListener(s,l,!0):m!==void 0?i.addEventListener(s,l,{passive:m}):i.addEventListener(s,l,!1)}function vh(i,s,l,f,m){var v=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var L=f.stateNode.containerInfo;if(L===m||L.nodeType===8&&L.parentNode===m)break;if(S===4)for(S=f.return;S!==null;){var j=S.tag;if((j===3||j===4)&&(j=S.stateNode.containerInfo,j===m||j.nodeType===8&&j.parentNode===m))return;S=S.return}for(;L!==null;){if(S=Ts(L),S===null)return;if(j=S.tag,j===5||j===6){f=v=S;continue e}L=L.parentNode}}f=f.return}Ua(function(){var Q=v,re=so(l),se=[];e:{var te=wg.get(i);if(te!==void 0){var de=wo,me=i;switch(i){case"keypress":if(xo(l)===0)break e;case"keydown":case"keyup":de=y;break;case"focusin":me="focus",de=So;break;case"focusout":me="blur",de=So;break;case"beforeblur":case"afterblur":de=So;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Eo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Y;break;case gg:case yg:case vg:de=Hr;break;case xg:de=Ye;break;case"scroll":de=lh;break;case"wheel":de=He;break;case"copy":case"cut":case"paste":de=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=P}var ye=(s&4)!==0,ft=!ye&&i==="scroll",H=ye?te!==null?te+"Capture":null:te;ye=[];for(var B=Q,G;B!==null;){G=B;var le=G.stateNode;if(G.tag===5&&le!==null&&(G=le,H!==null&&(le=ht(B,H),le!=null&&ye.push(ol(B,le,G)))),ft)break;B=B.return}0<ye.length&&(te=new de(te,me,null,l,re),se.push({event:te,listeners:ye}))}}if((s&7)===0){e:{if(te=i==="mouseover"||i==="pointerover",de=i==="mouseout"||i==="pointerout",te&&l!==hs&&(me=l.relatedTarget||l.fromElement)&&(Ts(me)||me[qr]))break e;if((de||te)&&(te=re.window===re?re:(te=re.ownerDocument)?te.defaultView||te.parentWindow:window,de?(me=l.relatedTarget||l.toElement,de=Q,me=me?Ts(me):null,me!==null&&(ft=Un(me),me!==ft||me.tag!==5&&me.tag!==6)&&(me=null)):(de=null,me=Q),de!==me)){if(ye=Eo,le="onMouseLeave",H="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(ye=P,le="onPointerLeave",H="onPointerEnter",B="pointer"),ft=de==null?te:$o(de),G=me==null?te:$o(me),te=new ye(le,B+"leave",de,l,re),te.target=ft,te.relatedTarget=G,le=null,Ts(re)===Q&&(ye=new ye(H,B+"enter",me,l,re),ye.target=G,ye.relatedTarget=ft,le=ye),ft=le,de&&me)t:{for(ye=de,H=me,B=0,G=ye;G;G=Ro(G))B++;for(G=0,le=H;le;le=Ro(le))G++;for(;0<B-G;)ye=Ro(ye),B--;for(;0<G-B;)H=Ro(H),G--;for(;B--;){if(ye===H||H!==null&&ye===H.alternate)break t;ye=Ro(ye),H=Ro(H)}ye=null}else ye=null;de!==null&&Tg(se,te,de,ye,!1),me!==null&&ft!==null&&Tg(se,ft,me,ye,!0)}}e:{if(te=Q?$o(Q):window,de=te.nodeName&&te.nodeName.toLowerCase(),de==="select"||de==="input"&&te.type==="file")var xe=MC;else if(ig(te))if(og)xe=BC;else{xe=jC;var Te=VC}else(de=te.nodeName)&&de.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(xe=UC);if(xe&&(xe=xe(i,Q))){sg(se,xe,l,re);break e}Te&&Te(i,te,Q),i==="focusout"&&(Te=te._wrapperState)&&Te.controlled&&te.type==="number"&&Mn(te,"number",te.value)}switch(Te=Q?$o(Q):window,i){case"focusin":(ig(Te)||Te.contentEditable==="true")&&(Ao=Te,hh=Q,rl=null);break;case"focusout":rl=hh=Ao=null;break;case"mousedown":fh=!0;break;case"contextmenu":case"mouseup":case"dragend":fh=!1,pg(se,l,re);break;case"selectionchange":if(HC)break;case"keydown":case"keyup":pg(se,l,re)}var Ie;if(gt)e:{switch(i){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else ko?ng(i,l)&&(Pe="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Pe="onCompositionStart");Pe&&(Ss&&l.locale!=="ko"&&(ko||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&ko&&(Ie=Ya()):(pn=re,vo="value"in pn?pn.value:pn.textContent,ko=!0)),Te=Uu(Q,Pe),0<Te.length&&(Pe=new Za(Pe,i,null,l,re),se.push({event:Pe,listeners:Te}),Ie?Pe.data=Ie:(Ie=rg(l),Ie!==null&&(Pe.data=Ie)))),(Ie=mn?FC(i,l):LC(i,l))&&(Q=Uu(Q,"onBeforeInput"),0<Q.length&&(re=new Za("onBeforeInput","beforeinput",null,l,re),se.push({event:re,listeners:Q}),re.data=Ie))}Cg(se,s)})}function ol(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Uu(i,s){for(var l=s+"Capture",f=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=ht(i,l),v!=null&&f.unshift(ol(i,v,m)),v=ht(i,s),v!=null&&f.push(ol(i,v,m))),i=i.return}return f}function Ro(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Tg(i,s,l,f,m){for(var v=s._reactName,S=[];l!==null&&l!==f;){var L=l,j=L.alternate,Q=L.stateNode;if(j!==null&&j===f)break;L.tag===5&&Q!==null&&(L=Q,m?(j=ht(l,v),j!=null&&S.unshift(ol(l,j,L))):m||(j=ht(l,v),j!=null&&S.push(ol(l,j,L)))),l=l.return}S.length!==0&&i.push({event:s,listeners:S})}var QC=/\r\n?/g,YC=/\u0000|\uFFFD/g;function Ig(i){return(typeof i=="string"?i:""+i).replace(QC,`
`).replace(YC,"")}function Bu(i,s,l){if(s=Ig(s),Ig(i)!==s&&l)throw Error(t(425))}function zu(){}var xh=null,wh=null;function _h(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Eh=typeof setTimeout=="function"?setTimeout:void 0,XC=typeof clearTimeout=="function"?clearTimeout:void 0,kg=typeof Promise=="function"?Promise:void 0,JC=typeof queueMicrotask=="function"?queueMicrotask:typeof kg<"u"?function(i){return kg.resolve(null).then(i).catch(ZC)}:Eh;function ZC(i){setTimeout(function(){throw i})}function Ch(i,s){var l=s,f=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(f===0){i.removeChild(m),qn(s);return}f--}else l!=="$"&&l!=="$?"&&l!=="$!"||f++;l=m}while(l);qn(s)}function ki(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Ag(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}var bo=Math.random().toString(36).slice(2),mr="__reactFiber$"+bo,al="__reactProps$"+bo,qr="__reactContainer$"+bo,Sh="__reactEvents$"+bo,eS="__reactListeners$"+bo,tS="__reactHandles$"+bo;function Ts(i){var s=i[mr];if(s)return s;for(var l=i.parentNode;l;){if(s=l[qr]||l[mr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=Ag(i);i!==null;){if(l=i[mr])return l;i=Ag(i)}return s}i=l,l=i.parentNode}return null}function ll(i){return i=i[mr]||i[qr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function $o(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Wu(i){return i[al]||null}var Th=[],No=-1;function Ai(i){return{current:i}}function tt(i){0>No||(i.current=Th[No],Th[No]=null,No--)}function Ze(i,s){No++,Th[No]=i.current,i.current=s}var Pi={},zt=Ai(Pi),sn=Ai(!1),Is=Pi;function Fo(i,s){var l=i.type.contextTypes;if(!l)return Pi;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===s)return f.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in l)m[v]=s[v];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=m),m}function on(i){return i=i.childContextTypes,i!=null}function Hu(){tt(sn),tt(zt)}function Pg(i,s,l){if(zt.current!==Pi)throw Error(t(168));Ze(zt,s),Ze(sn,l)}function Rg(i,s,l){var f=i.stateNode;if(s=s.childContextTypes,typeof f.getChildContext!="function")return l;f=f.getChildContext();for(var m in f)if(!(m in s))throw Error(t(108,ce(i)||"Unknown",m));return ee({},l,f)}function qu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Pi,Is=zt.current,Ze(zt,i),Ze(sn,sn.current),!0}function bg(i,s,l){var f=i.stateNode;if(!f)throw Error(t(169));l?(i=Rg(i,s,Is),f.__reactInternalMemoizedMergedChildContext=i,tt(sn),tt(zt),Ze(zt,i)):tt(sn),Ze(sn,l)}var Gr=null,Gu=!1,Ih=!1;function $g(i){Gr===null?Gr=[i]:Gr.push(i)}function nS(i){Gu=!0,$g(i)}function Ri(){if(!Ih&&Gr!==null){Ih=!0;var i=0,s=ze;try{var l=Gr;for(ze=1;i<l.length;i++){var f=l[i];do f=f(!0);while(f!==null)}Gr=null,Gu=!1}catch(m){throw Gr!==null&&(Gr=Gr.slice(i+1)),fo(ys,Ri),m}finally{ze=s,Ih=!1}}return null}var Lo=[],Oo=0,Ku=null,Qu=0,Pn=[],Rn=0,ks=null,Kr=1,Qr="";function As(i,s){Lo[Oo++]=Qu,Lo[Oo++]=Ku,Ku=i,Qu=s}function Ng(i,s,l){Pn[Rn++]=Kr,Pn[Rn++]=Qr,Pn[Rn++]=ks,ks=i;var f=Kr;i=Qr;var m=32-Jt(f)-1;f&=~(1<<m),l+=1;var v=32-Jt(s)+m;if(30<v){var S=m-m%5;v=(f&(1<<S)-1).toString(32),f>>=S,m-=S,Kr=1<<32-Jt(s)+m|l<<m|f,Qr=v+i}else Kr=1<<v|l<<m|f,Qr=i}function kh(i){i.return!==null&&(As(i,1),Ng(i,1,0))}function Ah(i){for(;i===Ku;)Ku=Lo[--Oo],Lo[Oo]=null,Qu=Lo[--Oo],Lo[Oo]=null;for(;i===ks;)ks=Pn[--Rn],Pn[Rn]=null,Qr=Pn[--Rn],Pn[Rn]=null,Kr=Pn[--Rn],Pn[Rn]=null}var gn=null,yn=null,it=!1,Qn=null;function Fg(i,s){var l=Fn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function Lg(i,s){switch(i.tag){case 5:var l=i.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,gn=i,yn=ki(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,gn=i,yn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=ks!==null?{id:Kr,overflow:Qr}:null,i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Fn(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,gn=i,yn=null,!0):!1;default:return!1}}function Ph(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Rh(i){if(it){var s=yn;if(s){var l=s;if(!Lg(i,s)){if(Ph(i))throw Error(t(418));s=ki(l.nextSibling);var f=gn;s&&Lg(i,s)?Fg(f,l):(i.flags=i.flags&-4097|2,it=!1,gn=i)}}else{if(Ph(i))throw Error(t(418));i.flags=i.flags&-4097|2,it=!1,gn=i}}}function Og(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;gn=i}function Yu(i){if(i!==gn)return!1;if(!it)return Og(i),it=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!_h(i.type,i.memoizedProps)),s&&(s=yn)){if(Ph(i))throw Dg(),Error(t(418));for(;s;)Fg(i,s),s=ki(s.nextSibling)}if(Og(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(s===0){yn=ki(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}i=i.nextSibling}yn=null}}else yn=gn?ki(i.stateNode.nextSibling):null;return!0}function Dg(){for(var i=yn;i;)i=ki(i.nextSibling)}function Do(){yn=gn=null,it=!1}function bh(i){Qn===null?Qn=[i]:Qn.push(i)}var rS=K.ReactCurrentBatchConfig;function ul(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var f=l.stateNode}if(!f)throw Error(t(147,i));var m=f,v=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===v?s.ref:(s=function(S){var L=m.refs;S===null?delete L[v]:L[v]=S},s._stringRef=v,s)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function Xu(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Mg(i){var s=i._init;return s(i._payload)}function Vg(i){function s(H,B){if(i){var G=H.deletions;G===null?(H.deletions=[B],H.flags|=16):G.push(B)}}function l(H,B){if(!i)return null;for(;B!==null;)s(H,B),B=B.sibling;return null}function f(H,B){for(H=new Map;B!==null;)B.key!==null?H.set(B.key,B):H.set(B.index,B),B=B.sibling;return H}function m(H,B){return H=Mi(H,B),H.index=0,H.sibling=null,H}function v(H,B,G){return H.index=G,i?(G=H.alternate,G!==null?(G=G.index,G<B?(H.flags|=2,B):G):(H.flags|=2,B)):(H.flags|=1048576,B)}function S(H){return i&&H.alternate===null&&(H.flags|=2),H}function L(H,B,G,le){return B===null||B.tag!==6?(B=Cf(G,H.mode,le),B.return=H,B):(B=m(B,G),B.return=H,B)}function j(H,B,G,le){var xe=G.type;return xe===b?re(H,B,G.props.children,le,G.key):B!==null&&(B.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===we&&Mg(xe)===B.type)?(le=m(B,G.props),le.ref=ul(H,B,G),le.return=H,le):(le=_c(G.type,G.key,G.props,null,H.mode,le),le.ref=ul(H,B,G),le.return=H,le)}function Q(H,B,G,le){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=Sf(G,H.mode,le),B.return=H,B):(B=m(B,G.children||[]),B.return=H,B)}function re(H,B,G,le,xe){return B===null||B.tag!==7?(B=Os(G,H.mode,le,xe),B.return=H,B):(B=m(B,G),B.return=H,B)}function se(H,B,G){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Cf(""+B,H.mode,G),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case X:return G=_c(B.type,B.key,B.props,null,H.mode,G),G.ref=ul(H,null,B),G.return=H,G;case ne:return B=Sf(B,H.mode,G),B.return=H,B;case we:var le=B._init;return se(H,le(B._payload),G)}if(Dr(B)||ie(B))return B=Os(B,H.mode,G,null),B.return=H,B;Xu(H,B)}return null}function te(H,B,G,le){var xe=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return xe!==null?null:L(H,B,""+G,le);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case X:return G.key===xe?j(H,B,G,le):null;case ne:return G.key===xe?Q(H,B,G,le):null;case we:return xe=G._init,te(H,B,xe(G._payload),le)}if(Dr(G)||ie(G))return xe!==null?null:re(H,B,G,le,null);Xu(H,G)}return null}function de(H,B,G,le,xe){if(typeof le=="string"&&le!==""||typeof le=="number")return H=H.get(G)||null,L(B,H,""+le,xe);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case X:return H=H.get(le.key===null?G:le.key)||null,j(B,H,le,xe);case ne:return H=H.get(le.key===null?G:le.key)||null,Q(B,H,le,xe);case we:var Te=le._init;return de(H,B,G,Te(le._payload),xe)}if(Dr(le)||ie(le))return H=H.get(G)||null,re(B,H,le,xe,null);Xu(B,le)}return null}function me(H,B,G,le){for(var xe=null,Te=null,Ie=B,Pe=B=0,Nt=null;Ie!==null&&Pe<G.length;Pe++){Ie.index>Pe?(Nt=Ie,Ie=null):Nt=Ie.sibling;var Ke=te(H,Ie,G[Pe],le);if(Ke===null){Ie===null&&(Ie=Nt);break}i&&Ie&&Ke.alternate===null&&s(H,Ie),B=v(Ke,B,Pe),Te===null?xe=Ke:Te.sibling=Ke,Te=Ke,Ie=Nt}if(Pe===G.length)return l(H,Ie),it&&As(H,Pe),xe;if(Ie===null){for(;Pe<G.length;Pe++)Ie=se(H,G[Pe],le),Ie!==null&&(B=v(Ie,B,Pe),Te===null?xe=Ie:Te.sibling=Ie,Te=Ie);return it&&As(H,Pe),xe}for(Ie=f(H,Ie);Pe<G.length;Pe++)Nt=de(Ie,H,Pe,G[Pe],le),Nt!==null&&(i&&Nt.alternate!==null&&Ie.delete(Nt.key===null?Pe:Nt.key),B=v(Nt,B,Pe),Te===null?xe=Nt:Te.sibling=Nt,Te=Nt);return i&&Ie.forEach(function(Vi){return s(H,Vi)}),it&&As(H,Pe),xe}function ye(H,B,G,le){var xe=ie(G);if(typeof xe!="function")throw Error(t(150));if(G=xe.call(G),G==null)throw Error(t(151));for(var Te=xe=null,Ie=B,Pe=B=0,Nt=null,Ke=G.next();Ie!==null&&!Ke.done;Pe++,Ke=G.next()){Ie.index>Pe?(Nt=Ie,Ie=null):Nt=Ie.sibling;var Vi=te(H,Ie,Ke.value,le);if(Vi===null){Ie===null&&(Ie=Nt);break}i&&Ie&&Vi.alternate===null&&s(H,Ie),B=v(Vi,B,Pe),Te===null?xe=Vi:Te.sibling=Vi,Te=Vi,Ie=Nt}if(Ke.done)return l(H,Ie),it&&As(H,Pe),xe;if(Ie===null){for(;!Ke.done;Pe++,Ke=G.next())Ke=se(H,Ke.value,le),Ke!==null&&(B=v(Ke,B,Pe),Te===null?xe=Ke:Te.sibling=Ke,Te=Ke);return it&&As(H,Pe),xe}for(Ie=f(H,Ie);!Ke.done;Pe++,Ke=G.next())Ke=de(Ie,H,Pe,Ke.value,le),Ke!==null&&(i&&Ke.alternate!==null&&Ie.delete(Ke.key===null?Pe:Ke.key),B=v(Ke,B,Pe),Te===null?xe=Ke:Te.sibling=Ke,Te=Ke);return i&&Ie.forEach(function(OS){return s(H,OS)}),it&&As(H,Pe),xe}function ft(H,B,G,le){if(typeof G=="object"&&G!==null&&G.type===b&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case X:e:{for(var xe=G.key,Te=B;Te!==null;){if(Te.key===xe){if(xe=G.type,xe===b){if(Te.tag===7){l(H,Te.sibling),B=m(Te,G.props.children),B.return=H,H=B;break e}}else if(Te.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===we&&Mg(xe)===Te.type){l(H,Te.sibling),B=m(Te,G.props),B.ref=ul(H,Te,G),B.return=H,H=B;break e}l(H,Te);break}else s(H,Te);Te=Te.sibling}G.type===b?(B=Os(G.props.children,H.mode,le,G.key),B.return=H,H=B):(le=_c(G.type,G.key,G.props,null,H.mode,le),le.ref=ul(H,B,G),le.return=H,H=le)}return S(H);case ne:e:{for(Te=G.key;B!==null;){if(B.key===Te)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){l(H,B.sibling),B=m(B,G.children||[]),B.return=H,H=B;break e}else{l(H,B);break}else s(H,B);B=B.sibling}B=Sf(G,H.mode,le),B.return=H,H=B}return S(H);case we:return Te=G._init,ft(H,B,Te(G._payload),le)}if(Dr(G))return me(H,B,G,le);if(ie(G))return ye(H,B,G,le);Xu(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,B!==null&&B.tag===6?(l(H,B.sibling),B=m(B,G),B.return=H,H=B):(l(H,B),B=Cf(G,H.mode,le),B.return=H,H=B),S(H)):l(H,B)}return ft}var Mo=Vg(!0),jg=Vg(!1),Ju=Ai(null),Zu=null,Vo=null,$h=null;function Nh(){$h=Vo=Zu=null}function Fh(i){var s=Ju.current;tt(Ju),i._currentValue=s}function Lh(i,s,l){for(;i!==null;){var f=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),i===l)break;i=i.return}}function jo(i,s){Zu=i,$h=Vo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(an=!0),i.firstContext=null)}function bn(i){var s=i._currentValue;if($h!==i)if(i={context:i,memoizedValue:s,next:null},Vo===null){if(Zu===null)throw Error(t(308));Vo=i,Zu.dependencies={lanes:0,firstContext:i}}else Vo=Vo.next=i;return s}var Ps=null;function Oh(i){Ps===null?Ps=[i]:Ps.push(i)}function Ug(i,s,l,f){var m=s.interleaved;return m===null?(l.next=l,Oh(s)):(l.next=m.next,m.next=l),s.interleaved=l,Yr(i,f)}function Yr(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var bi=!1;function Dh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bg(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Xr(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function $i(i,s,l){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Ge&2)!==0){var m=f.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),f.pending=s,Yr(i,l)}return m=f.interleaved,m===null?(s.next=s,Oh(f)):(s.next=m.next,m.next=s),f.interleaved=s,Yr(i,l)}function ec(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var f=s.lanes;f&=i.pendingLanes,l|=f,s.lanes=l,_i(i,l)}}function zg(i,s){var l=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var m=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var S={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?m=v=S:v=v.next=S,l=l.next}while(l!==null);v===null?m=v=s:v=v.next=s}else m=v=s;l={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:f.shared,effects:f.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function tc(i,s,l,f){var m=i.updateQueue;bi=!1;var v=m.firstBaseUpdate,S=m.lastBaseUpdate,L=m.shared.pending;if(L!==null){m.shared.pending=null;var j=L,Q=j.next;j.next=null,S===null?v=Q:S.next=Q,S=j;var re=i.alternate;re!==null&&(re=re.updateQueue,L=re.lastBaseUpdate,L!==S&&(L===null?re.firstBaseUpdate=Q:L.next=Q,re.lastBaseUpdate=j))}if(v!==null){var se=m.baseState;S=0,re=Q=j=null,L=v;do{var te=L.lane,de=L.eventTime;if((f&te)===te){re!==null&&(re=re.next={eventTime:de,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var me=i,ye=L;switch(te=s,de=l,ye.tag){case 1:if(me=ye.payload,typeof me=="function"){se=me.call(de,se,te);break e}se=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ye.payload,te=typeof me=="function"?me.call(de,se,te):me,te==null)break e;se=ee({},se,te);break e;case 2:bi=!0}}L.callback!==null&&L.lane!==0&&(i.flags|=64,te=m.effects,te===null?m.effects=[L]:te.push(L))}else de={eventTime:de,lane:te,tag:L.tag,payload:L.payload,callback:L.callback,next:null},re===null?(Q=re=de,j=se):re=re.next=de,S|=te;if(L=L.next,L===null){if(L=m.shared.pending,L===null)break;te=L,L=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);if(re===null&&(j=se),m.baseState=j,m.firstBaseUpdate=Q,m.lastBaseUpdate=re,s=m.shared.interleaved,s!==null){m=s;do S|=m.lane,m=m.next;while(m!==s)}else v===null&&(m.shared.lanes=0);$s|=S,i.lanes=S,i.memoizedState=se}}function Wg(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var f=i[s],m=f.callback;if(m!==null){if(f.callback=null,f=l,typeof m!="function")throw Error(t(191,m));m.call(f)}}}var cl={},gr=Ai(cl),dl=Ai(cl),hl=Ai(cl);function Rs(i){if(i===cl)throw Error(t(174));return i}function Mh(i,s){switch(Ze(hl,s),Ze(dl,i),Ze(gr,cl),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Et(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=Et(s,i)}tt(gr),Ze(gr,s)}function Uo(){tt(gr),tt(dl),tt(hl)}function Hg(i){Rs(hl.current);var s=Rs(gr.current),l=Et(s,i.type);s!==l&&(Ze(dl,i),Ze(gr,l))}function Vh(i){dl.current===i&&(tt(gr),tt(dl))}var ot=Ai(0);function nc(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var jh=[];function Uh(){for(var i=0;i<jh.length;i++)jh[i]._workInProgressVersionPrimary=null;jh.length=0}var rc=K.ReactCurrentDispatcher,Bh=K.ReactCurrentBatchConfig,bs=0,at=null,St=null,bt=null,ic=!1,fl=!1,pl=0,iS=0;function Wt(){throw Error(t(321))}function zh(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Kn(i[l],s[l]))return!1;return!0}function Wh(i,s,l,f,m,v){if(bs=v,at=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,rc.current=i===null||i.memoizedState===null?lS:uS,i=l(f,m),fl){v=0;do{if(fl=!1,pl=0,25<=v)throw Error(t(301));v+=1,bt=St=null,s.updateQueue=null,rc.current=cS,i=l(f,m)}while(fl)}if(rc.current=ac,s=St!==null&&St.next!==null,bs=0,bt=St=at=null,ic=!1,s)throw Error(t(300));return i}function Hh(){var i=pl!==0;return pl=0,i}function yr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?at.memoizedState=bt=i:bt=bt.next=i,bt}function $n(){if(St===null){var i=at.alternate;i=i!==null?i.memoizedState:null}else i=St.next;var s=bt===null?at.memoizedState:bt.next;if(s!==null)bt=s,St=i;else{if(i===null)throw Error(t(310));St=i,i={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},bt===null?at.memoizedState=bt=i:bt=bt.next=i}return bt}function ml(i,s){return typeof s=="function"?s(i):s}function qh(i){var s=$n(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var f=St,m=f.baseQueue,v=l.pending;if(v!==null){if(m!==null){var S=m.next;m.next=v.next,v.next=S}f.baseQueue=m=v,l.pending=null}if(m!==null){v=m.next,f=f.baseState;var L=S=null,j=null,Q=v;do{var re=Q.lane;if((bs&re)===re)j!==null&&(j=j.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),f=Q.hasEagerState?Q.eagerState:i(f,Q.action);else{var se={lane:re,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};j===null?(L=j=se,S=f):j=j.next=se,at.lanes|=re,$s|=re}Q=Q.next}while(Q!==null&&Q!==v);j===null?S=f:j.next=L,Kn(f,s.memoizedState)||(an=!0),s.memoizedState=f,s.baseState=S,s.baseQueue=j,l.lastRenderedState=f}if(i=l.interleaved,i!==null){m=i;do v=m.lane,at.lanes|=v,$s|=v,m=m.next;while(m!==i)}else m===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Gh(i){var s=$n(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var f=l.dispatch,m=l.pending,v=s.memoizedState;if(m!==null){l.pending=null;var S=m=m.next;do v=i(v,S.action),S=S.next;while(S!==m);Kn(v,s.memoizedState)||(an=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),l.lastRenderedState=v}return[v,f]}function qg(){}function Gg(i,s){var l=at,f=$n(),m=s(),v=!Kn(f.memoizedState,m);if(v&&(f.memoizedState=m,an=!0),f=f.queue,Kh(Yg.bind(null,l,f,i),[i]),f.getSnapshot!==s||v||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,gl(9,Qg.bind(null,l,f,m,s),void 0,null),$t===null)throw Error(t(349));(bs&30)!==0||Kg(l,s,m)}return m}function Kg(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=at.updateQueue,s===null?(s={lastEffect:null,stores:null},at.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function Qg(i,s,l,f){s.value=l,s.getSnapshot=f,Xg(s)&&Jg(i)}function Yg(i,s,l){return l(function(){Xg(s)&&Jg(i)})}function Xg(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Kn(i,l)}catch{return!0}}function Jg(i){var s=Yr(i,1);s!==null&&Zn(s,i,1,-1)}function Zg(i){var s=yr();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:i},s.queue=i,i=i.dispatch=aS.bind(null,at,i),[s.memoizedState,i]}function gl(i,s,l,f){return i={tag:i,create:s,destroy:l,deps:f,next:null},s=at.updateQueue,s===null?(s={lastEffect:null,stores:null},at.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(f=l.next,l.next=i,i.next=f,s.lastEffect=i)),i}function ey(){return $n().memoizedState}function sc(i,s,l,f){var m=yr();at.flags|=i,m.memoizedState=gl(1|s,l,void 0,f===void 0?null:f)}function oc(i,s,l,f){var m=$n();f=f===void 0?null:f;var v=void 0;if(St!==null){var S=St.memoizedState;if(v=S.destroy,f!==null&&zh(f,S.deps)){m.memoizedState=gl(s,l,v,f);return}}at.flags|=i,m.memoizedState=gl(1|s,l,v,f)}function ty(i,s){return sc(8390656,8,i,s)}function Kh(i,s){return oc(2048,8,i,s)}function ny(i,s){return oc(4,2,i,s)}function ry(i,s){return oc(4,4,i,s)}function iy(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function sy(i,s,l){return l=l!=null?l.concat([i]):null,oc(4,4,iy.bind(null,s,i),l)}function Qh(){}function oy(i,s){var l=$n();s=s===void 0?null:s;var f=l.memoizedState;return f!==null&&s!==null&&zh(s,f[1])?f[0]:(l.memoizedState=[i,s],i)}function ay(i,s){var l=$n();s=s===void 0?null:s;var f=l.memoizedState;return f!==null&&s!==null&&zh(s,f[1])?f[0]:(i=i(),l.memoizedState=[i,s],i)}function ly(i,s,l){return(bs&21)===0?(i.baseState&&(i.baseState=!1,an=!0),i.memoizedState=l):(Kn(l,s)||(l=ws(),at.lanes|=l,$s|=l,i.baseState=!0),s)}function sS(i,s){var l=ze;ze=l!==0&&4>l?l:4,i(!0);var f=Bh.transition;Bh.transition={};try{i(!1),s()}finally{ze=l,Bh.transition=f}}function uy(){return $n().memoizedState}function oS(i,s,l){var f=Oi(i);if(l={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null},cy(i))dy(s,l);else if(l=Ug(i,s,l,f),l!==null){var m=tn();Zn(l,i,f,m),hy(l,s,f)}}function aS(i,s,l){var f=Oi(i),m={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null};if(cy(i))dy(s,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var S=s.lastRenderedState,L=v(S,l);if(m.hasEagerState=!0,m.eagerState=L,Kn(L,S)){var j=s.interleaved;j===null?(m.next=m,Oh(s)):(m.next=j.next,j.next=m),s.interleaved=m;return}}catch{}finally{}l=Ug(i,s,m,f),l!==null&&(m=tn(),Zn(l,i,f,m),hy(l,s,f))}}function cy(i){var s=i.alternate;return i===at||s!==null&&s===at}function dy(i,s){fl=ic=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function hy(i,s,l){if((l&4194240)!==0){var f=s.lanes;f&=i.pendingLanes,l|=f,s.lanes=l,_i(i,l)}}var ac={readContext:bn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},lS={readContext:bn,useCallback:function(i,s){return yr().memoizedState=[i,s===void 0?null:s],i},useContext:bn,useEffect:ty,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,sc(4194308,4,iy.bind(null,s,i),l)},useLayoutEffect:function(i,s){return sc(4194308,4,i,s)},useInsertionEffect:function(i,s){return sc(4,2,i,s)},useMemo:function(i,s){var l=yr();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var f=yr();return s=l!==void 0?l(s):s,f.memoizedState=f.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},f.queue=i,i=i.dispatch=oS.bind(null,at,i),[f.memoizedState,i]},useRef:function(i){var s=yr();return i={current:i},s.memoizedState=i},useState:Zg,useDebugValue:Qh,useDeferredValue:function(i){return yr().memoizedState=i},useTransition:function(){var i=Zg(!1),s=i[0];return i=sS.bind(null,i[1]),yr().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var f=at,m=yr();if(it){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),$t===null)throw Error(t(349));(bs&30)!==0||Kg(f,s,l)}m.memoizedState=l;var v={value:l,getSnapshot:s};return m.queue=v,ty(Yg.bind(null,f,v,i),[i]),f.flags|=2048,gl(9,Qg.bind(null,f,v,l,s),void 0,null),l},useId:function(){var i=yr(),s=$t.identifierPrefix;if(it){var l=Qr,f=Kr;l=(f&~(1<<32-Jt(f)-1)).toString(32)+l,s=":"+s+"R"+l,l=pl++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=iS++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},uS={readContext:bn,useCallback:oy,useContext:bn,useEffect:Kh,useImperativeHandle:sy,useInsertionEffect:ny,useLayoutEffect:ry,useMemo:ay,useReducer:qh,useRef:ey,useState:function(){return qh(ml)},useDebugValue:Qh,useDeferredValue:function(i){var s=$n();return ly(s,St.memoizedState,i)},useTransition:function(){var i=qh(ml)[0],s=$n().memoizedState;return[i,s]},useMutableSource:qg,useSyncExternalStore:Gg,useId:uy,unstable_isNewReconciler:!1},cS={readContext:bn,useCallback:oy,useContext:bn,useEffect:Kh,useImperativeHandle:sy,useInsertionEffect:ny,useLayoutEffect:ry,useMemo:ay,useReducer:Gh,useRef:ey,useState:function(){return Gh(ml)},useDebugValue:Qh,useDeferredValue:function(i){var s=$n();return St===null?s.memoizedState=i:ly(s,St.memoizedState,i)},useTransition:function(){var i=Gh(ml)[0],s=$n().memoizedState;return[i,s]},useMutableSource:qg,useSyncExternalStore:Gg,useId:uy,unstable_isNewReconciler:!1};function Yn(i,s){if(i&&i.defaultProps){s=ee({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function Yh(i,s,l,f){s=i.memoizedState,l=l(f,s),l=l==null?s:ee({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var lc={isMounted:function(i){return(i=i._reactInternals)?Un(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var f=tn(),m=Oi(i),v=Xr(f,m);v.payload=s,l!=null&&(v.callback=l),s=$i(i,v,m),s!==null&&(Zn(s,i,m,f),ec(s,i,m))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var f=tn(),m=Oi(i),v=Xr(f,m);v.tag=1,v.payload=s,l!=null&&(v.callback=l),s=$i(i,v,m),s!==null&&(Zn(s,i,m,f),ec(s,i,m))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=tn(),f=Oi(i),m=Xr(l,f);m.tag=2,s!=null&&(m.callback=s),s=$i(i,m,f),s!==null&&(Zn(s,i,f,l),ec(s,i,f))}};function fy(i,s,l,f,m,v,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,v,S):s.prototype&&s.prototype.isPureReactComponent?!nl(l,f)||!nl(m,v):!0}function py(i,s,l){var f=!1,m=Pi,v=s.contextType;return typeof v=="object"&&v!==null?v=bn(v):(m=on(s)?Is:zt.current,f=s.contextTypes,v=(f=f!=null)?Fo(i,m):Pi),s=new s(l,v),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=lc,i.stateNode=s,s._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),s}function my(i,s,l,f){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,f),s.state!==i&&lc.enqueueReplaceState(s,s.state,null)}function Xh(i,s,l,f){var m=i.stateNode;m.props=l,m.state=i.memoizedState,m.refs={},Dh(i);var v=s.contextType;typeof v=="object"&&v!==null?m.context=bn(v):(v=on(s)?Is:zt.current,m.context=Fo(i,v)),m.state=i.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Yh(i,s,v,l),m.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(s=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),s!==m.state&&lc.enqueueReplaceState(m,m.state,null),tc(i,l,m,f),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Bo(i,s){try{var l="",f=s;do l+=Se(f),f=f.return;while(f);var m=l}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:s,stack:m,digest:null}}function Jh(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function Zh(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var dS=typeof WeakMap=="function"?WeakMap:Map;function gy(i,s,l){l=Xr(-1,l),l.tag=3,l.payload={element:null};var f=s.value;return l.callback=function(){mc||(mc=!0,mf=f),Zh(i,s)},l}function yy(i,s,l){l=Xr(-1,l),l.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var m=s.value;l.payload=function(){return f(m)},l.callback=function(){Zh(i,s)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){Zh(i,s),typeof f!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var S=s.stack;this.componentDidCatch(s.value,{componentStack:S!==null?S:""})}),l}function vy(i,s,l){var f=i.pingCache;if(f===null){f=i.pingCache=new dS;var m=new Set;f.set(s,m)}else m=f.get(s),m===void 0&&(m=new Set,f.set(s,m));m.has(l)||(m.add(l),i=TS.bind(null,i,s,l),s.then(i,i))}function xy(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function wy(i,s,l,f,m){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Xr(-1,1),s.tag=2,$i(l,s,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var hS=K.ReactCurrentOwner,an=!1;function en(i,s,l,f){s.child=i===null?jg(s,null,l,f):Mo(s,i.child,l,f)}function _y(i,s,l,f,m){l=l.render;var v=s.ref;return jo(s,m),f=Wh(i,s,l,f,v,m),l=Hh(),i!==null&&!an?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~m,Jr(i,s,m)):(it&&l&&kh(s),s.flags|=1,en(i,s,f,m),s.child)}function Ey(i,s,l,f,m){if(i===null){var v=l.type;return typeof v=="function"&&!Ef(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=v,Cy(i,s,v,f,m)):(i=_c(l.type,null,f,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(v=i.child,(i.lanes&m)===0){var S=v.memoizedProps;if(l=l.compare,l=l!==null?l:nl,l(S,f)&&i.ref===s.ref)return Jr(i,s,m)}return s.flags|=1,i=Mi(v,f),i.ref=s.ref,i.return=s,s.child=i}function Cy(i,s,l,f,m){if(i!==null){var v=i.memoizedProps;if(nl(v,f)&&i.ref===s.ref)if(an=!1,s.pendingProps=f=v,(i.lanes&m)!==0)(i.flags&131072)!==0&&(an=!0);else return s.lanes=i.lanes,Jr(i,s,m)}return ef(i,s,l,f,m)}function Sy(i,s,l){var f=s.pendingProps,m=f.children,v=i!==null?i.memoizedState:null;if(f.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Wo,vn),vn|=l;else{if((l&1073741824)===0)return i=v!==null?v.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,Ze(Wo,vn),vn|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:l,Ze(Wo,vn),vn|=f}else v!==null?(f=v.baseLanes|l,s.memoizedState=null):f=l,Ze(Wo,vn),vn|=f;return en(i,s,m,l),s.child}function Ty(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function ef(i,s,l,f,m){var v=on(l)?Is:zt.current;return v=Fo(s,v),jo(s,m),l=Wh(i,s,l,f,v,m),f=Hh(),i!==null&&!an?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~m,Jr(i,s,m)):(it&&f&&kh(s),s.flags|=1,en(i,s,l,m),s.child)}function Iy(i,s,l,f,m){if(on(l)){var v=!0;qu(s)}else v=!1;if(jo(s,m),s.stateNode===null)cc(i,s),py(s,l,f),Xh(s,l,f,m),f=!0;else if(i===null){var S=s.stateNode,L=s.memoizedProps;S.props=L;var j=S.context,Q=l.contextType;typeof Q=="object"&&Q!==null?Q=bn(Q):(Q=on(l)?Is:zt.current,Q=Fo(s,Q));var re=l.getDerivedStateFromProps,se=typeof re=="function"||typeof S.getSnapshotBeforeUpdate=="function";se||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(L!==f||j!==Q)&&my(s,S,f,Q),bi=!1;var te=s.memoizedState;S.state=te,tc(s,f,S,m),j=s.memoizedState,L!==f||te!==j||sn.current||bi?(typeof re=="function"&&(Yh(s,l,re,f),j=s.memoizedState),(L=bi||fy(s,l,L,f,te,j,Q))?(se||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=j),S.props=f,S.state=j,S.context=Q,f=L):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{S=s.stateNode,Bg(i,s),L=s.memoizedProps,Q=s.type===s.elementType?L:Yn(s.type,L),S.props=Q,se=s.pendingProps,te=S.context,j=l.contextType,typeof j=="object"&&j!==null?j=bn(j):(j=on(l)?Is:zt.current,j=Fo(s,j));var de=l.getDerivedStateFromProps;(re=typeof de=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(L!==se||te!==j)&&my(s,S,f,j),bi=!1,te=s.memoizedState,S.state=te,tc(s,f,S,m);var me=s.memoizedState;L!==se||te!==me||sn.current||bi?(typeof de=="function"&&(Yh(s,l,de,f),me=s.memoizedState),(Q=bi||fy(s,l,Q,f,te,me,j)||!1)?(re||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(f,me,j),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(f,me,j)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||L===i.memoizedProps&&te===i.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&te===i.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=me),S.props=f,S.state=me,S.context=j,f=Q):(typeof S.componentDidUpdate!="function"||L===i.memoizedProps&&te===i.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&te===i.memoizedState||(s.flags|=1024),f=!1)}return tf(i,s,l,f,v,m)}function tf(i,s,l,f,m,v){Ty(i,s);var S=(s.flags&128)!==0;if(!f&&!S)return m&&bg(s,l,!1),Jr(i,s,v);f=s.stateNode,hS.current=s;var L=S&&typeof l.getDerivedStateFromError!="function"?null:f.render();return s.flags|=1,i!==null&&S?(s.child=Mo(s,i.child,null,v),s.child=Mo(s,null,L,v)):en(i,s,L,v),s.memoizedState=f.state,m&&bg(s,l,!0),s.child}function ky(i){var s=i.stateNode;s.pendingContext?Pg(i,s.pendingContext,s.pendingContext!==s.context):s.context&&Pg(i,s.context,!1),Mh(i,s.containerInfo)}function Ay(i,s,l,f,m){return Do(),bh(m),s.flags|=256,en(i,s,l,f),s.child}var nf={dehydrated:null,treeContext:null,retryLane:0};function rf(i){return{baseLanes:i,cachePool:null,transitions:null}}function Py(i,s,l){var f=s.pendingProps,m=ot.current,v=!1,S=(s.flags&128)!==0,L;if((L=S)||(L=i!==null&&i.memoizedState===null?!1:(m&2)!==0),L?(v=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Ze(ot,m&1),i===null)return Rh(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(S=f.children,i=f.fallback,v?(f=s.mode,v=s.child,S={mode:"hidden",children:S},(f&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=S):v=Ec(S,f,0,null),i=Os(i,f,l,null),v.return=s,i.return=s,v.sibling=i,s.child=v,s.child.memoizedState=rf(l),s.memoizedState=nf,i):sf(s,S));if(m=i.memoizedState,m!==null&&(L=m.dehydrated,L!==null))return fS(i,s,S,f,L,m,l);if(v){v=f.fallback,S=s.mode,m=i.child,L=m.sibling;var j={mode:"hidden",children:f.children};return(S&1)===0&&s.child!==m?(f=s.child,f.childLanes=0,f.pendingProps=j,s.deletions=null):(f=Mi(m,j),f.subtreeFlags=m.subtreeFlags&14680064),L!==null?v=Mi(L,v):(v=Os(v,S,l,null),v.flags|=2),v.return=s,f.return=s,f.sibling=v,s.child=f,f=v,v=s.child,S=i.child.memoizedState,S=S===null?rf(l):{baseLanes:S.baseLanes|l,cachePool:null,transitions:S.transitions},v.memoizedState=S,v.childLanes=i.childLanes&~l,s.memoizedState=nf,f}return v=i.child,i=v.sibling,f=Mi(v,{mode:"visible",children:f.children}),(s.mode&1)===0&&(f.lanes=l),f.return=s,f.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=f,s.memoizedState=null,f}function sf(i,s){return s=Ec({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function uc(i,s,l,f){return f!==null&&bh(f),Mo(s,i.child,null,l),i=sf(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function fS(i,s,l,f,m,v,S){if(l)return s.flags&256?(s.flags&=-257,f=Jh(Error(t(422))),uc(i,s,S,f)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(v=f.fallback,m=s.mode,f=Ec({mode:"visible",children:f.children},m,0,null),v=Os(v,m,S,null),v.flags|=2,f.return=s,v.return=s,f.sibling=v,s.child=f,(s.mode&1)!==0&&Mo(s,i.child,null,S),s.child.memoizedState=rf(S),s.memoizedState=nf,v);if((s.mode&1)===0)return uc(i,s,S,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var L=f.dgst;return f=L,v=Error(t(419)),f=Jh(v,f,void 0),uc(i,s,S,f)}if(L=(S&i.childLanes)!==0,an||L){if(f=$t,f!==null){switch(S&-S){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(f.suspendedLanes|S))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Yr(i,m),Zn(f,i,m,-1))}return _f(),f=Jh(Error(t(421))),uc(i,s,S,f)}return m.data==="$?"?(s.flags|=128,s.child=i.child,s=IS.bind(null,i),m._reactRetry=s,null):(i=v.treeContext,yn=ki(m.nextSibling),gn=s,it=!0,Qn=null,i!==null&&(Pn[Rn++]=Kr,Pn[Rn++]=Qr,Pn[Rn++]=ks,Kr=i.id,Qr=i.overflow,ks=s),s=sf(s,f.children),s.flags|=4096,s)}function Ry(i,s,l){i.lanes|=s;var f=i.alternate;f!==null&&(f.lanes|=s),Lh(i.return,s,l)}function of(i,s,l,f,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:m}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=l,v.tailMode=m)}function by(i,s,l){var f=s.pendingProps,m=f.revealOrder,v=f.tail;if(en(i,s,f.children,l),f=ot.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Ry(i,l,s);else if(i.tag===19)Ry(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(Ze(ot,f),(s.mode&1)===0)s.memoizedState=null;else switch(m){case"forwards":for(l=s.child,m=null;l!==null;)i=l.alternate,i!==null&&nc(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=s.child,s.child=null):(m=l.sibling,l.sibling=null),of(s,!1,m,l,v);break;case"backwards":for(l=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&nc(i)===null){s.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}of(s,!0,l,null,v);break;case"together":of(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function cc(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Jr(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),$s|=s.lanes,(l&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,l=Mi(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Mi(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function pS(i,s,l){switch(s.tag){case 3:ky(s),Do();break;case 5:Hg(s);break;case 1:on(s.type)&&qu(s);break;case 4:Mh(s,s.stateNode.containerInfo);break;case 10:var f=s.type._context,m=s.memoizedProps.value;Ze(Ju,f._currentValue),f._currentValue=m;break;case 13:if(f=s.memoizedState,f!==null)return f.dehydrated!==null?(Ze(ot,ot.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?Py(i,s,l):(Ze(ot,ot.current&1),i=Jr(i,s,l),i!==null?i.sibling:null);Ze(ot,ot.current&1);break;case 19:if(f=(l&s.childLanes)!==0,(i.flags&128)!==0){if(f)return by(i,s,l);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ze(ot,ot.current),f)break;return null;case 22:case 23:return s.lanes=0,Sy(i,s,l)}return Jr(i,s,l)}var $y,af,Ny,Fy;$y=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},af=function(){},Ny=function(i,s,l,f){var m=i.memoizedProps;if(m!==f){i=s.stateNode,Rs(gr.current);var v=null;switch(l){case"input":m=Pt(i,m),f=Pt(i,f),v=[];break;case"select":m=ee({},m,{value:void 0}),f=ee({},f,{value:void 0}),v=[];break;case"textarea":m=ba(i,m),f=ba(i,f),v=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=zu)}Da(l,f);var S;l=null;for(Q in m)if(!f.hasOwnProperty(Q)&&m.hasOwnProperty(Q)&&m[Q]!=null)if(Q==="style"){var L=m[Q];for(S in L)L.hasOwnProperty(S)&&(l||(l={}),l[S]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(o.hasOwnProperty(Q)?v||(v=[]):(v=v||[]).push(Q,null));for(Q in f){var j=f[Q];if(L=m!=null?m[Q]:void 0,f.hasOwnProperty(Q)&&j!==L&&(j!=null||L!=null))if(Q==="style")if(L){for(S in L)!L.hasOwnProperty(S)||j&&j.hasOwnProperty(S)||(l||(l={}),l[S]="");for(S in j)j.hasOwnProperty(S)&&L[S]!==j[S]&&(l||(l={}),l[S]=j[S])}else l||(v||(v=[]),v.push(Q,l)),l=j;else Q==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,L=L?L.__html:void 0,j!=null&&L!==j&&(v=v||[]).push(Q,j)):Q==="children"?typeof j!="string"&&typeof j!="number"||(v=v||[]).push(Q,""+j):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(o.hasOwnProperty(Q)?(j!=null&&Q==="onScroll"&&et("scroll",i),v||L===j||(v=[])):(v=v||[]).push(Q,j))}l&&(v=v||[]).push("style",l);var Q=v;(s.updateQueue=Q)&&(s.flags|=4)}},Fy=function(i,s,l,f){l!==f&&(s.flags|=4)};function yl(i,s){if(!it)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Ht(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,f=0;if(s)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=f,i.childLanes=l,s}function mS(i,s,l){var f=s.pendingProps;switch(Ah(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(s),null;case 1:return on(s.type)&&Hu(),Ht(s),null;case 3:return f=s.stateNode,Uo(),tt(sn),tt(zt),Uh(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(Yu(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Qn!==null&&(vf(Qn),Qn=null))),af(i,s),Ht(s),null;case 5:Vh(s);var m=Rs(hl.current);if(l=s.type,i!==null&&s.stateNode!=null)Ny(i,s,l,f,m),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!f){if(s.stateNode===null)throw Error(t(166));return Ht(s),null}if(i=Rs(gr.current),Yu(s)){f=s.stateNode,l=s.type;var v=s.memoizedProps;switch(f[mr]=s,f[al]=v,i=(s.mode&1)!==0,l){case"dialog":et("cancel",f),et("close",f);break;case"iframe":case"object":case"embed":et("load",f);break;case"video":case"audio":for(m=0;m<il.length;m++)et(il[m],f);break;case"source":et("error",f);break;case"img":case"image":case"link":et("error",f),et("load",f);break;case"details":et("toggle",f);break;case"input":Sn(f,v),et("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},et("invalid",f);break;case"textarea":ro(f,v),et("invalid",f)}Da(l,v),m=null;for(var S in v)if(v.hasOwnProperty(S)){var L=v[S];S==="children"?typeof L=="string"?f.textContent!==L&&(v.suppressHydrationWarning!==!0&&Bu(f.textContent,L,i),m=["children",L]):typeof L=="number"&&f.textContent!==""+L&&(v.suppressHydrationWarning!==!0&&Bu(f.textContent,L,i),m=["children",""+L]):o.hasOwnProperty(S)&&L!=null&&S==="onScroll"&&et("scroll",f)}switch(l){case"input":Me(f),no(f,v,!0);break;case"textarea":Me(f),$a(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=zu)}f=m,s.updateQueue=f,f!==null&&(s.flags|=4)}else{S=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=_t(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=S.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=S.createElement(l,{is:f.is}):(i=S.createElement(l),l==="select"&&(S=i,f.multiple?S.multiple=!0:f.size&&(S.size=f.size))):i=S.createElementNS(i,l),i[mr]=s,i[al]=f,$y(i,s,!1,!1),s.stateNode=i;e:{switch(S=Ma(l,f),l){case"dialog":et("cancel",i),et("close",i),m=f;break;case"iframe":case"object":case"embed":et("load",i),m=f;break;case"video":case"audio":for(m=0;m<il.length;m++)et(il[m],i);m=f;break;case"source":et("error",i),m=f;break;case"img":case"image":case"link":et("error",i),et("load",i),m=f;break;case"details":et("toggle",i),m=f;break;case"input":Sn(i,f),m=Pt(i,f),et("invalid",i);break;case"option":m=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},m=ee({},f,{value:void 0}),et("invalid",i);break;case"textarea":ro(i,f),m=ba(i,f),et("invalid",i);break;default:m=f}Da(l,m),L=m;for(v in L)if(L.hasOwnProperty(v)){var j=L[v];v==="style"?La(i,j):v==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&Na(i,j)):v==="children"?typeof j=="string"?(l!=="textarea"||j!=="")&&gi(i,j):typeof j=="number"&&gi(i,""+j):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?j!=null&&v==="onScroll"&&et("scroll",i):j!=null&&z(i,v,j,S))}switch(l){case"input":Me(i),no(i,f,!1);break;case"textarea":Me(i),$a(i);break;case"option":f.value!=null&&i.setAttribute("value",""+_e(f.value));break;case"select":i.multiple=!!f.multiple,v=f.value,v!=null?Mr(i,!!f.multiple,v,!1):f.defaultValue!=null&&Mr(i,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=zu)}switch(l){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ht(s),null;case 6:if(i&&s.stateNode!=null)Fy(i,s,i.memoizedProps,f);else{if(typeof f!="string"&&s.stateNode===null)throw Error(t(166));if(l=Rs(hl.current),Rs(gr.current),Yu(s)){if(f=s.stateNode,l=s.memoizedProps,f[mr]=s,(v=f.nodeValue!==l)&&(i=gn,i!==null))switch(i.tag){case 3:Bu(f.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Bu(f.nodeValue,l,(i.mode&1)!==0)}v&&(s.flags|=4)}else f=(l.nodeType===9?l:l.ownerDocument).createTextNode(f),f[mr]=s,s.stateNode=f}return Ht(s),null;case 13:if(tt(ot),f=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(it&&yn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Dg(),Do(),s.flags|=98560,v=!1;else if(v=Yu(s),f!==null&&f.dehydrated!==null){if(i===null){if(!v)throw Error(t(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[mr]=s}else Do(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ht(s),v=!1}else Qn!==null&&(vf(Qn),Qn=null),v=!0;if(!v)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(ot.current&1)!==0?Tt===0&&(Tt=3):_f())),s.updateQueue!==null&&(s.flags|=4),Ht(s),null);case 4:return Uo(),af(i,s),i===null&&sl(s.stateNode.containerInfo),Ht(s),null;case 10:return Fh(s.type._context),Ht(s),null;case 17:return on(s.type)&&Hu(),Ht(s),null;case 19:if(tt(ot),v=s.memoizedState,v===null)return Ht(s),null;if(f=(s.flags&128)!==0,S=v.rendering,S===null)if(f)yl(v,!1);else{if(Tt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(S=nc(i),S!==null){for(s.flags|=128,yl(v,!1),f=S.updateQueue,f!==null&&(s.updateQueue=f,s.flags|=4),s.subtreeFlags=0,f=l,l=s.child;l!==null;)v=l,i=f,v.flags&=14680066,S=v.alternate,S===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=S.childLanes,v.lanes=S.lanes,v.child=S.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=S.memoizedProps,v.memoizedState=S.memoizedState,v.updateQueue=S.updateQueue,v.type=S.type,i=S.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Ze(ot,ot.current&1|2),s.child}i=i.sibling}v.tail!==null&&Je()>Ho&&(s.flags|=128,f=!0,yl(v,!1),s.lanes=4194304)}else{if(!f)if(i=nc(S),i!==null){if(s.flags|=128,f=!0,l=i.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),yl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!it)return Ht(s),null}else 2*Je()-v.renderingStartTime>Ho&&l!==1073741824&&(s.flags|=128,f=!0,yl(v,!1),s.lanes=4194304);v.isBackwards?(S.sibling=s.child,s.child=S):(l=v.last,l!==null?l.sibling=S:s.child=S,v.last=S)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=Je(),s.sibling=null,l=ot.current,Ze(ot,f?l&1|2:l&1),s):(Ht(s),null);case 22:case 23:return wf(),f=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(s.flags|=8192),f&&(s.mode&1)!==0?(vn&1073741824)!==0&&(Ht(s),s.subtreeFlags&6&&(s.flags|=8192)):Ht(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function gS(i,s){switch(Ah(s),s.tag){case 1:return on(s.type)&&Hu(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Uo(),tt(sn),tt(zt),Uh(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return Vh(s),null;case 13:if(tt(ot),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Do()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return tt(ot),null;case 4:return Uo(),null;case 10:return Fh(s.type._context),null;case 22:case 23:return wf(),null;case 24:return null;default:return null}}var dc=!1,qt=!1,yS=typeof WeakSet=="function"?WeakSet:Set,fe=null;function zo(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(f){dt(i,s,f)}else l.current=null}function lf(i,s,l){try{l()}catch(f){dt(i,s,f)}}var Ly=!1;function vS(i,s){if(xh=Si,i=fg(),dh(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var m=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var S=0,L=-1,j=-1,Q=0,re=0,se=i,te=null;t:for(;;){for(var de;se!==l||m!==0&&se.nodeType!==3||(L=S+m),se!==v||f!==0&&se.nodeType!==3||(j=S+f),se.nodeType===3&&(S+=se.nodeValue.length),(de=se.firstChild)!==null;)te=se,se=de;for(;;){if(se===i)break t;if(te===l&&++Q===m&&(L=S),te===v&&++re===f&&(j=S),(de=se.nextSibling)!==null)break;se=te,te=se.parentNode}se=de}l=L===-1||j===-1?null:{start:L,end:j}}else l=null}l=l||{start:0,end:0}}else l=null;for(wh={focusedElem:i,selectionRange:l},Si=!1,fe=s;fe!==null;)if(s=fe,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,fe=i;else for(;fe!==null;){s=fe;try{var me=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ye=me.memoizedProps,ft=me.memoizedState,H=s.stateNode,B=H.getSnapshotBeforeUpdate(s.elementType===s.type?ye:Yn(s.type,ye),ft);H.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var G=s.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(le){dt(s,s.return,le)}if(i=s.sibling,i!==null){i.return=s.return,fe=i;break}fe=s.return}return me=Ly,Ly=!1,me}function vl(i,s,l){var f=s.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&lf(s,l,v)}m=m.next}while(m!==f)}}function hc(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var f=l.create;l.destroy=f()}l=l.next}while(l!==s)}}function uf(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof s=="function"?s(i):s.current=i}}function Oy(i){var s=i.alternate;s!==null&&(i.alternate=null,Oy(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[mr],delete s[al],delete s[Sh],delete s[eS],delete s[tS])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Dy(i){return i.tag===5||i.tag===3||i.tag===4}function My(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Dy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function cf(i,s,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=zu));else if(f!==4&&(i=i.child,i!==null))for(cf(i,s,l),i=i.sibling;i!==null;)cf(i,s,l),i=i.sibling}function df(i,s,l){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(df(i,s,l),i=i.sibling;i!==null;)df(i,s,l),i=i.sibling}var Dt=null,Xn=!1;function Ni(i,s,l){for(l=l.child;l!==null;)Vy(i,s,l),l=l.sibling}function Vy(i,s,l){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(vs,l)}catch{}switch(l.tag){case 5:qt||zo(l,s);case 6:var f=Dt,m=Xn;Dt=null,Ni(i,s,l),Dt=f,Xn=m,Dt!==null&&(Xn?(i=Dt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Dt.removeChild(l.stateNode));break;case 18:Dt!==null&&(Xn?(i=Dt,l=l.stateNode,i.nodeType===8?Ch(i.parentNode,l):i.nodeType===1&&Ch(i,l),qn(i)):Ch(Dt,l.stateNode));break;case 4:f=Dt,m=Xn,Dt=l.stateNode.containerInfo,Xn=!0,Ni(i,s,l),Dt=f,Xn=m;break;case 0:case 11:case 14:case 15:if(!qt&&(f=l.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var v=m,S=v.destroy;v=v.tag,S!==void 0&&((v&2)!==0||(v&4)!==0)&&lf(l,s,S),m=m.next}while(m!==f)}Ni(i,s,l);break;case 1:if(!qt&&(zo(l,s),f=l.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=l.memoizedProps,f.state=l.memoizedState,f.componentWillUnmount()}catch(L){dt(l,s,L)}Ni(i,s,l);break;case 21:Ni(i,s,l);break;case 22:l.mode&1?(qt=(f=qt)||l.memoizedState!==null,Ni(i,s,l),qt=f):Ni(i,s,l);break;default:Ni(i,s,l)}}function jy(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new yS),s.forEach(function(f){var m=kS.bind(null,i,f);l.has(f)||(l.add(f),f.then(m,m))})}}function Jn(i,s){var l=s.deletions;if(l!==null)for(var f=0;f<l.length;f++){var m=l[f];try{var v=i,S=s,L=S;e:for(;L!==null;){switch(L.tag){case 5:Dt=L.stateNode,Xn=!1;break e;case 3:Dt=L.stateNode.containerInfo,Xn=!0;break e;case 4:Dt=L.stateNode.containerInfo,Xn=!0;break e}L=L.return}if(Dt===null)throw Error(t(160));Vy(v,S,m),Dt=null,Xn=!1;var j=m.alternate;j!==null&&(j.return=null),m.return=null}catch(Q){dt(m,s,Q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Uy(s,i),s=s.sibling}function Uy(i,s){var l=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Jn(s,i),vr(i),f&4){try{vl(3,i,i.return),hc(3,i)}catch(ye){dt(i,i.return,ye)}try{vl(5,i,i.return)}catch(ye){dt(i,i.return,ye)}}break;case 1:Jn(s,i),vr(i),f&512&&l!==null&&zo(l,l.return);break;case 5:if(Jn(s,i),vr(i),f&512&&l!==null&&zo(l,l.return),i.flags&32){var m=i.stateNode;try{gi(m,"")}catch(ye){dt(i,i.return,ye)}}if(f&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,S=l!==null?l.memoizedProps:v,L=i.type,j=i.updateQueue;if(i.updateQueue=null,j!==null)try{L==="input"&&v.type==="radio"&&v.name!=null&&On(m,v),Ma(L,S);var Q=Ma(L,v);for(S=0;S<j.length;S+=2){var re=j[S],se=j[S+1];re==="style"?La(m,se):re==="dangerouslySetInnerHTML"?Na(m,se):re==="children"?gi(m,se):z(m,re,se,Q)}switch(L){case"input":Dn(m,v);break;case"textarea":io(m,v);break;case"select":var te=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var de=v.value;de!=null?Mr(m,!!v.multiple,de,!1):te!==!!v.multiple&&(v.defaultValue!=null?Mr(m,!!v.multiple,v.defaultValue,!0):Mr(m,!!v.multiple,v.multiple?[]:"",!1))}m[al]=v}catch(ye){dt(i,i.return,ye)}}break;case 6:if(Jn(s,i),vr(i),f&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(ye){dt(i,i.return,ye)}}break;case 3:if(Jn(s,i),vr(i),f&4&&l!==null&&l.memoizedState.isDehydrated)try{qn(s.containerInfo)}catch(ye){dt(i,i.return,ye)}break;case 4:Jn(s,i),vr(i);break;case 13:Jn(s,i),vr(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(pf=Je())),f&4&&jy(i);break;case 22:if(re=l!==null&&l.memoizedState!==null,i.mode&1?(qt=(Q=qt)||re,Jn(s,i),qt=Q):Jn(s,i),vr(i),f&8192){if(Q=i.memoizedState!==null,(i.stateNode.isHidden=Q)&&!re&&(i.mode&1)!==0)for(fe=i,re=i.child;re!==null;){for(se=fe=re;fe!==null;){switch(te=fe,de=te.child,te.tag){case 0:case 11:case 14:case 15:vl(4,te,te.return);break;case 1:zo(te,te.return);var me=te.stateNode;if(typeof me.componentWillUnmount=="function"){f=te,l=te.return;try{s=f,me.props=s.memoizedProps,me.state=s.memoizedState,me.componentWillUnmount()}catch(ye){dt(f,l,ye)}}break;case 5:zo(te,te.return);break;case 22:if(te.memoizedState!==null){Wy(se);continue}}de!==null?(de.return=te,fe=de):Wy(se)}re=re.sibling}e:for(re=null,se=i;;){if(se.tag===5){if(re===null){re=se;try{m=se.stateNode,Q?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(L=se.stateNode,j=se.memoizedProps.style,S=j!=null&&j.hasOwnProperty("display")?j.display:null,L.style.display=Fa("display",S))}catch(ye){dt(i,i.return,ye)}}}else if(se.tag===6){if(re===null)try{se.stateNode.nodeValue=Q?"":se.memoizedProps}catch(ye){dt(i,i.return,ye)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===i)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===i)break e;for(;se.sibling===null;){if(se.return===null||se.return===i)break e;re===se&&(re=null),se=se.return}re===se&&(re=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:Jn(s,i),vr(i),f&4&&jy(i);break;case 21:break;default:Jn(s,i),vr(i)}}function vr(i){var s=i.flags;if(s&2){try{e:{for(var l=i.return;l!==null;){if(Dy(l)){var f=l;break e}l=l.return}throw Error(t(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(gi(m,""),f.flags&=-33);var v=My(i);df(i,v,m);break;case 3:case 4:var S=f.stateNode.containerInfo,L=My(i);cf(i,L,S);break;default:throw Error(t(161))}}catch(j){dt(i,i.return,j)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function xS(i,s,l){fe=i,By(i)}function By(i,s,l){for(var f=(i.mode&1)!==0;fe!==null;){var m=fe,v=m.child;if(m.tag===22&&f){var S=m.memoizedState!==null||dc;if(!S){var L=m.alternate,j=L!==null&&L.memoizedState!==null||qt;L=dc;var Q=qt;if(dc=S,(qt=j)&&!Q)for(fe=m;fe!==null;)S=fe,j=S.child,S.tag===22&&S.memoizedState!==null?Hy(m):j!==null?(j.return=S,fe=j):Hy(m);for(;v!==null;)fe=v,By(v),v=v.sibling;fe=m,dc=L,qt=Q}zy(i)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,fe=v):zy(i)}}function zy(i){for(;fe!==null;){var s=fe;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:qt||hc(5,s);break;case 1:var f=s.stateNode;if(s.flags&4&&!qt)if(l===null)f.componentDidMount();else{var m=s.elementType===s.type?l.memoizedProps:Yn(s.type,l.memoizedProps);f.componentDidUpdate(m,l.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=s.updateQueue;v!==null&&Wg(s,v,f);break;case 3:var S=s.updateQueue;if(S!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Wg(s,S,l)}break;case 5:var L=s.stateNode;if(l===null&&s.flags&4){l=L;var j=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&l.focus();break;case"img":j.src&&(l.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Q=s.alternate;if(Q!==null){var re=Q.memoizedState;if(re!==null){var se=re.dehydrated;se!==null&&qn(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}qt||s.flags&512&&uf(s)}catch(te){dt(s,s.return,te)}}if(s===i){fe=null;break}if(l=s.sibling,l!==null){l.return=s.return,fe=l;break}fe=s.return}}function Wy(i){for(;fe!==null;){var s=fe;if(s===i){fe=null;break}var l=s.sibling;if(l!==null){l.return=s.return,fe=l;break}fe=s.return}}function Hy(i){for(;fe!==null;){var s=fe;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{hc(4,s)}catch(j){dt(s,l,j)}break;case 1:var f=s.stateNode;if(typeof f.componentDidMount=="function"){var m=s.return;try{f.componentDidMount()}catch(j){dt(s,m,j)}}var v=s.return;try{uf(s)}catch(j){dt(s,v,j)}break;case 5:var S=s.return;try{uf(s)}catch(j){dt(s,S,j)}}}catch(j){dt(s,s.return,j)}if(s===i){fe=null;break}var L=s.sibling;if(L!==null){L.return=s.return,fe=L;break}fe=s.return}}var wS=Math.ceil,fc=K.ReactCurrentDispatcher,hf=K.ReactCurrentOwner,Nn=K.ReactCurrentBatchConfig,Ge=0,$t=null,yt=null,Mt=0,vn=0,Wo=Ai(0),Tt=0,xl=null,$s=0,pc=0,ff=0,wl=null,ln=null,pf=0,Ho=1/0,Zr=null,mc=!1,mf=null,Fi=null,gc=!1,Li=null,yc=0,_l=0,gf=null,vc=-1,xc=0;function tn(){return(Ge&6)!==0?Je():vc!==-1?vc:vc=Je()}function Oi(i){return(i.mode&1)===0?1:(Ge&2)!==0&&Mt!==0?Mt&-Mt:rS.transition!==null?(xc===0&&(xc=ws()),xc):(i=ze,i!==0||(i=window.event,i=i===void 0?16:Qa(i.type)),i)}function Zn(i,s,l,f){if(50<_l)throw _l=0,gf=null,Error(t(185));wi(i,l,f),((Ge&2)===0||i!==$t)&&(i===$t&&((Ge&2)===0&&(pc|=l),Tt===4&&Di(i,Mt)),un(i,f),l===1&&Ge===0&&(s.mode&1)===0&&(Ho=Je()+500,Gu&&Ri()))}function un(i,s){var l=i.callbackNode;Ur(i,s);var f=xs(i,i===$t?Mt:0);if(f===0)l!==null&&Wa(l),i.callbackNode=null,i.callbackPriority=0;else if(s=f&-f,i.callbackPriority!==s){if(l!=null&&Wa(l),s===1)i.tag===0?nS(Gy.bind(null,i)):$g(Gy.bind(null,i)),JC(function(){(Ge&6)===0&&Ri()}),l=null;else{switch(Ei(f)){case 1:l=ys;break;case 4:l=yi;break;case 16:l=In;break;case 536870912:l=xu;break;default:l=In}l=tv(l,qy.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function qy(i,s){if(vc=-1,xc=0,(Ge&6)!==0)throw Error(t(327));var l=i.callbackNode;if(qo()&&i.callbackNode!==l)return null;var f=xs(i,i===$t?Mt:0);if(f===0)return null;if((f&30)!==0||(f&i.expiredLanes)!==0||s)s=wc(i,f);else{s=f;var m=Ge;Ge|=2;var v=Qy();($t!==i||Mt!==s)&&(Zr=null,Ho=Je()+500,Fs(i,s));do try{CS();break}catch(L){Ky(i,L)}while(!0);Nh(),fc.current=v,Ge=m,yt!==null?s=0:($t=null,Mt=0,s=Tt)}if(s!==0){if(s===2&&(m=fn(i),m!==0&&(f=m,s=yf(i,m))),s===1)throw l=xl,Fs(i,0),Di(i,f),un(i,Je()),l;if(s===6)Di(i,f);else{if(m=i.current.alternate,(f&30)===0&&!_S(m)&&(s=wc(i,f),s===2&&(v=fn(i),v!==0&&(f=v,s=yf(i,v))),s===1))throw l=xl,Fs(i,0),Di(i,f),un(i,Je()),l;switch(i.finishedWork=m,i.finishedLanes=f,s){case 0:case 1:throw Error(t(345));case 2:Ls(i,ln,Zr);break;case 3:if(Di(i,f),(f&130023424)===f&&(s=pf+500-Je(),10<s)){if(xs(i,0)!==0)break;if(m=i.suspendedLanes,(m&f)!==f){tn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Eh(Ls.bind(null,i,ln,Zr),s);break}Ls(i,ln,Zr);break;case 4:if(Di(i,f),(f&4194240)===f)break;for(s=i.eventTimes,m=-1;0<f;){var S=31-Jt(f);v=1<<S,S=s[S],S>m&&(m=S),f&=~v}if(f=m,f=Je()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*wS(f/1960))-f,10<f){i.timeoutHandle=Eh(Ls.bind(null,i,ln,Zr),f);break}Ls(i,ln,Zr);break;case 5:Ls(i,ln,Zr);break;default:throw Error(t(329))}}}return un(i,Je()),i.callbackNode===l?qy.bind(null,i):null}function yf(i,s){var l=wl;return i.current.memoizedState.isDehydrated&&(Fs(i,s).flags|=256),i=wc(i,s),i!==2&&(s=ln,ln=l,s!==null&&vf(s)),i}function vf(i){ln===null?ln=i:ln.push.apply(ln,i)}function _S(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var f=0;f<l.length;f++){var m=l[f],v=m.getSnapshot;m=m.value;try{if(!Kn(v(),m))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Di(i,s){for(s&=~ff,s&=~pc,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-Jt(s),f=1<<l;i[l]=-1,s&=~f}}function Gy(i){if((Ge&6)!==0)throw Error(t(327));qo();var s=xs(i,0);if((s&1)===0)return un(i,Je()),null;var l=wc(i,s);if(i.tag!==0&&l===2){var f=fn(i);f!==0&&(s=f,l=yf(i,f))}if(l===1)throw l=xl,Fs(i,0),Di(i,s),un(i,Je()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Ls(i,ln,Zr),un(i,Je()),null}function xf(i,s){var l=Ge;Ge|=1;try{return i(s)}finally{Ge=l,Ge===0&&(Ho=Je()+500,Gu&&Ri())}}function Ns(i){Li!==null&&Li.tag===0&&(Ge&6)===0&&qo();var s=Ge;Ge|=1;var l=Nn.transition,f=ze;try{if(Nn.transition=null,ze=1,i)return i()}finally{ze=f,Nn.transition=l,Ge=s,(Ge&6)===0&&Ri()}}function wf(){vn=Wo.current,tt(Wo)}function Fs(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,XC(l)),yt!==null)for(l=yt.return;l!==null;){var f=l;switch(Ah(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Hu();break;case 3:Uo(),tt(sn),tt(zt),Uh();break;case 5:Vh(f);break;case 4:Uo();break;case 13:tt(ot);break;case 19:tt(ot);break;case 10:Fh(f.type._context);break;case 22:case 23:wf()}l=l.return}if($t=i,yt=i=Mi(i.current,null),Mt=vn=s,Tt=0,xl=null,ff=pc=$s=0,ln=wl=null,Ps!==null){for(s=0;s<Ps.length;s++)if(l=Ps[s],f=l.interleaved,f!==null){l.interleaved=null;var m=f.next,v=l.pending;if(v!==null){var S=v.next;v.next=m,f.next=S}l.pending=f}Ps=null}return i}function Ky(i,s){do{var l=yt;try{if(Nh(),rc.current=ac,ic){for(var f=at.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}ic=!1}if(bs=0,bt=St=at=null,fl=!1,pl=0,hf.current=null,l===null||l.return===null){Tt=1,xl=s,yt=null;break}e:{var v=i,S=l.return,L=l,j=s;if(s=Mt,L.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var Q=j,re=L,se=re.tag;if((re.mode&1)===0&&(se===0||se===11||se===15)){var te=re.alternate;te?(re.updateQueue=te.updateQueue,re.memoizedState=te.memoizedState,re.lanes=te.lanes):(re.updateQueue=null,re.memoizedState=null)}var de=xy(S);if(de!==null){de.flags&=-257,wy(de,S,L,v,s),de.mode&1&&vy(v,Q,s),s=de,j=Q;var me=s.updateQueue;if(me===null){var ye=new Set;ye.add(j),s.updateQueue=ye}else me.add(j);break e}else{if((s&1)===0){vy(v,Q,s),_f();break e}j=Error(t(426))}}else if(it&&L.mode&1){var ft=xy(S);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),wy(ft,S,L,v,s),bh(Bo(j,L));break e}}v=j=Bo(j,L),Tt!==4&&(Tt=2),wl===null?wl=[v]:wl.push(v),v=S;do{switch(v.tag){case 3:v.flags|=65536,s&=-s,v.lanes|=s;var H=gy(v,j,s);zg(v,H);break e;case 1:L=j;var B=v.type,G=v.stateNode;if((v.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Fi===null||!Fi.has(G)))){v.flags|=65536,s&=-s,v.lanes|=s;var le=yy(v,L,s);zg(v,le);break e}}v=v.return}while(v!==null)}Xy(l)}catch(xe){s=xe,yt===l&&l!==null&&(yt=l=l.return);continue}break}while(!0)}function Qy(){var i=fc.current;return fc.current=ac,i===null?ac:i}function _f(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),$t===null||($s&268435455)===0&&(pc&268435455)===0||Di($t,Mt)}function wc(i,s){var l=Ge;Ge|=2;var f=Qy();($t!==i||Mt!==s)&&(Zr=null,Fs(i,s));do try{ES();break}catch(m){Ky(i,m)}while(!0);if(Nh(),Ge=l,fc.current=f,yt!==null)throw Error(t(261));return $t=null,Mt=0,Tt}function ES(){for(;yt!==null;)Yy(yt)}function CS(){for(;yt!==null&&!yu();)Yy(yt)}function Yy(i){var s=ev(i.alternate,i,vn);i.memoizedProps=i.pendingProps,s===null?Xy(i):yt=s,hf.current=null}function Xy(i){var s=i;do{var l=s.alternate;if(i=s.return,(s.flags&32768)===0){if(l=mS(l,s,vn),l!==null){yt=l;return}}else{if(l=gS(l,s),l!==null){l.flags&=32767,yt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Tt=6,yt=null;return}}if(s=s.sibling,s!==null){yt=s;return}yt=s=i}while(s!==null);Tt===0&&(Tt=5)}function Ls(i,s,l){var f=ze,m=Nn.transition;try{Nn.transition=null,ze=1,SS(i,s,l,f)}finally{Nn.transition=m,ze=f}return null}function SS(i,s,l,f){do qo();while(Li!==null);if((Ge&6)!==0)throw Error(t(327));l=i.finishedWork;var m=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var v=l.lanes|l.childLanes;if(Xe(i,v),i===$t&&(yt=$t=null,Mt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||gc||(gc=!0,tv(In,function(){return qo(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=Nn.transition,Nn.transition=null;var S=ze;ze=1;var L=Ge;Ge|=4,hf.current=null,vS(i,l),Uy(l,i),WC(wh),Si=!!xh,wh=xh=null,i.current=l,xS(l),rh(),Ge=L,ze=S,Nn.transition=v}else i.current=l;if(gc&&(gc=!1,Li=i,yc=m),v=i.pendingLanes,v===0&&(Fi=null),wu(l.stateNode),un(i,Je()),s!==null)for(f=i.onRecoverableError,l=0;l<s.length;l++)m=s[l],f(m.value,{componentStack:m.stack,digest:m.digest});if(mc)throw mc=!1,i=mf,mf=null,i;return(yc&1)!==0&&i.tag!==0&&qo(),v=i.pendingLanes,(v&1)!==0?i===gf?_l++:(_l=0,gf=i):_l=0,Ri(),null}function qo(){if(Li!==null){var i=Ei(yc),s=Nn.transition,l=ze;try{if(Nn.transition=null,ze=16>i?16:i,Li===null)var f=!1;else{if(i=Li,Li=null,yc=0,(Ge&6)!==0)throw Error(t(331));var m=Ge;for(Ge|=4,fe=i.current;fe!==null;){var v=fe,S=v.child;if((fe.flags&16)!==0){var L=v.deletions;if(L!==null){for(var j=0;j<L.length;j++){var Q=L[j];for(fe=Q;fe!==null;){var re=fe;switch(re.tag){case 0:case 11:case 15:vl(8,re,v)}var se=re.child;if(se!==null)se.return=re,fe=se;else for(;fe!==null;){re=fe;var te=re.sibling,de=re.return;if(Oy(re),re===Q){fe=null;break}if(te!==null){te.return=de,fe=te;break}fe=de}}}var me=v.alternate;if(me!==null){var ye=me.child;if(ye!==null){me.child=null;do{var ft=ye.sibling;ye.sibling=null,ye=ft}while(ye!==null)}}fe=v}}if((v.subtreeFlags&2064)!==0&&S!==null)S.return=v,fe=S;else e:for(;fe!==null;){if(v=fe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:vl(9,v,v.return)}var H=v.sibling;if(H!==null){H.return=v.return,fe=H;break e}fe=v.return}}var B=i.current;for(fe=B;fe!==null;){S=fe;var G=S.child;if((S.subtreeFlags&2064)!==0&&G!==null)G.return=S,fe=G;else e:for(S=B;fe!==null;){if(L=fe,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:hc(9,L)}}catch(xe){dt(L,L.return,xe)}if(L===S){fe=null;break e}var le=L.sibling;if(le!==null){le.return=L.return,fe=le;break e}fe=L.return}}if(Ge=m,Ri(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(vs,i)}catch{}f=!0}return f}finally{ze=l,Nn.transition=s}}return!1}function Jy(i,s,l){s=Bo(l,s),s=gy(i,s,1),i=$i(i,s,1),s=tn(),i!==null&&(wi(i,1,s),un(i,s))}function dt(i,s,l){if(i.tag===3)Jy(i,i,l);else for(;s!==null;){if(s.tag===3){Jy(s,i,l);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Fi===null||!Fi.has(f))){i=Bo(l,i),i=yy(s,i,1),s=$i(s,i,1),i=tn(),s!==null&&(wi(s,1,i),un(s,i));break}}s=s.return}}function TS(i,s,l){var f=i.pingCache;f!==null&&f.delete(s),s=tn(),i.pingedLanes|=i.suspendedLanes&l,$t===i&&(Mt&l)===l&&(Tt===4||Tt===3&&(Mt&130023424)===Mt&&500>Je()-pf?Fs(i,0):ff|=l),un(i,s)}function Zy(i,s){s===0&&((i.mode&1)===0?s=1:(s=mo,mo<<=1,(mo&130023424)===0&&(mo=4194304)));var l=tn();i=Yr(i,s),i!==null&&(wi(i,s,l),un(i,l))}function IS(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),Zy(i,l)}function kS(i,s){var l=0;switch(i.tag){case 13:var f=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(s),Zy(i,l)}var ev;ev=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||sn.current)an=!0;else{if((i.lanes&l)===0&&(s.flags&128)===0)return an=!1,pS(i,s,l);an=(i.flags&131072)!==0}else an=!1,it&&(s.flags&1048576)!==0&&Ng(s,Qu,s.index);switch(s.lanes=0,s.tag){case 2:var f=s.type;cc(i,s),i=s.pendingProps;var m=Fo(s,zt.current);jo(s,l),m=Wh(null,s,f,i,m,l);var v=Hh();return s.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,on(f)?(v=!0,qu(s)):v=!1,s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Dh(s),m.updater=lc,s.stateNode=m,m._reactInternals=s,Xh(s,f,i,l),s=tf(null,s,f,!0,v,l)):(s.tag=0,it&&v&&kh(s),en(null,s,m,l),s=s.child),s;case 16:f=s.elementType;e:{switch(cc(i,s),i=s.pendingProps,m=f._init,f=m(f._payload),s.type=f,m=s.tag=PS(f),i=Yn(f,i),m){case 0:s=ef(null,s,f,i,l);break e;case 1:s=Iy(null,s,f,i,l);break e;case 11:s=_y(null,s,f,i,l);break e;case 14:s=Ey(null,s,f,Yn(f.type,i),l);break e}throw Error(t(306,f,""))}return s;case 0:return f=s.type,m=s.pendingProps,m=s.elementType===f?m:Yn(f,m),ef(i,s,f,m,l);case 1:return f=s.type,m=s.pendingProps,m=s.elementType===f?m:Yn(f,m),Iy(i,s,f,m,l);case 3:e:{if(ky(s),i===null)throw Error(t(387));f=s.pendingProps,v=s.memoizedState,m=v.element,Bg(i,s),tc(s,f,null,l);var S=s.memoizedState;if(f=S.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){m=Bo(Error(t(423)),s),s=Ay(i,s,f,l,m);break e}else if(f!==m){m=Bo(Error(t(424)),s),s=Ay(i,s,f,l,m);break e}else for(yn=ki(s.stateNode.containerInfo.firstChild),gn=s,it=!0,Qn=null,l=jg(s,null,f,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Do(),f===m){s=Jr(i,s,l);break e}en(i,s,f,l)}s=s.child}return s;case 5:return Hg(s),i===null&&Rh(s),f=s.type,m=s.pendingProps,v=i!==null?i.memoizedProps:null,S=m.children,_h(f,m)?S=null:v!==null&&_h(f,v)&&(s.flags|=32),Ty(i,s),en(i,s,S,l),s.child;case 6:return i===null&&Rh(s),null;case 13:return Py(i,s,l);case 4:return Mh(s,s.stateNode.containerInfo),f=s.pendingProps,i===null?s.child=Mo(s,null,f,l):en(i,s,f,l),s.child;case 11:return f=s.type,m=s.pendingProps,m=s.elementType===f?m:Yn(f,m),_y(i,s,f,m,l);case 7:return en(i,s,s.pendingProps,l),s.child;case 8:return en(i,s,s.pendingProps.children,l),s.child;case 12:return en(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(f=s.type._context,m=s.pendingProps,v=s.memoizedProps,S=m.value,Ze(Ju,f._currentValue),f._currentValue=S,v!==null)if(Kn(v.value,S)){if(v.children===m.children&&!sn.current){s=Jr(i,s,l);break e}}else for(v=s.child,v!==null&&(v.return=s);v!==null;){var L=v.dependencies;if(L!==null){S=v.child;for(var j=L.firstContext;j!==null;){if(j.context===f){if(v.tag===1){j=Xr(-1,l&-l),j.tag=2;var Q=v.updateQueue;if(Q!==null){Q=Q.shared;var re=Q.pending;re===null?j.next=j:(j.next=re.next,re.next=j),Q.pending=j}}v.lanes|=l,j=v.alternate,j!==null&&(j.lanes|=l),Lh(v.return,l,s),L.lanes|=l;break}j=j.next}}else if(v.tag===10)S=v.type===s.type?null:v.child;else if(v.tag===18){if(S=v.return,S===null)throw Error(t(341));S.lanes|=l,L=S.alternate,L!==null&&(L.lanes|=l),Lh(S,l,s),S=v.sibling}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===s){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}en(i,s,m.children,l),s=s.child}return s;case 9:return m=s.type,f=s.pendingProps.children,jo(s,l),m=bn(m),f=f(m),s.flags|=1,en(i,s,f,l),s.child;case 14:return f=s.type,m=Yn(f,s.pendingProps),m=Yn(f.type,m),Ey(i,s,f,m,l);case 15:return Cy(i,s,s.type,s.pendingProps,l);case 17:return f=s.type,m=s.pendingProps,m=s.elementType===f?m:Yn(f,m),cc(i,s),s.tag=1,on(f)?(i=!0,qu(s)):i=!1,jo(s,l),py(s,f,m),Xh(s,f,m,l),tf(null,s,f,!0,i,l);case 19:return by(i,s,l);case 22:return Sy(i,s,l)}throw Error(t(156,s.tag))};function tv(i,s){return fo(i,s)}function AS(i,s,l,f){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(i,s,l,f){return new AS(i,s,l,f)}function Ef(i){return i=i.prototype,!(!i||!i.isReactComponent)}function PS(i){if(typeof i=="function")return Ef(i)?1:0;if(i!=null){if(i=i.$$typeof,i===M)return 11;if(i===Fe)return 14}return 2}function Mi(i,s){var l=i.alternate;return l===null?(l=Fn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function _c(i,s,l,f,m,v){var S=2;if(f=i,typeof i=="function")Ef(i)&&(S=1);else if(typeof i=="string")S=5;else e:switch(i){case b:return Os(l.children,m,v,s);case R:S=8,m|=8;break;case $:return i=Fn(12,l,s,m|2),i.elementType=$,i.lanes=v,i;case F:return i=Fn(13,l,s,m),i.elementType=F,i.lanes=v,i;case ve:return i=Fn(19,l,s,m),i.elementType=ve,i.lanes=v,i;case ge:return Ec(l,m,v,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case O:S=10;break e;case V:S=9;break e;case M:S=11;break e;case Fe:S=14;break e;case we:S=16,f=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=Fn(S,l,s,m),s.elementType=i,s.type=f,s.lanes=v,s}function Os(i,s,l,f){return i=Fn(7,i,f,s),i.lanes=l,i}function Ec(i,s,l,f){return i=Fn(22,i,f,s),i.elementType=ge,i.lanes=l,i.stateNode={isHidden:!1},i}function Cf(i,s,l){return i=Fn(6,i,null,s),i.lanes=l,i}function Sf(i,s,l){return s=Fn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function RS(i,s,l,f,m){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xi(0),this.expirationTimes=xi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Tf(i,s,l,f,m,v,S,L,j){return i=new RS(i,s,l,L,j),s===1?(s=1,v===!0&&(s|=8)):s=0,v=Fn(3,null,null,s),i.current=v,v.stateNode=i,v.memoizedState={element:f,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dh(v),i}function bS(i,s,l){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:f==null?null:""+f,children:i,containerInfo:s,implementation:l}}function nv(i){if(!i)return Pi;i=i._reactInternals;e:{if(Un(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(on(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(on(l))return Rg(i,l,s)}return s}function rv(i,s,l,f,m,v,S,L,j){return i=Tf(l,f,!0,i,m,v,S,L,j),i.context=nv(null),l=i.current,f=tn(),m=Oi(l),v=Xr(f,m),v.callback=s??null,$i(l,v,m),i.current.lanes=m,wi(i,m,f),un(i,f),i}function Cc(i,s,l,f){var m=s.current,v=tn(),S=Oi(m);return l=nv(l),s.context===null?s.context=l:s.pendingContext=l,s=Xr(v,S),s.payload={element:i},f=f===void 0?null:f,f!==null&&(s.callback=f),i=$i(m,s,S),i!==null&&(Zn(i,m,S,v),ec(i,m,S)),S}function Sc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function iv(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function If(i,s){iv(i,s),(i=i.alternate)&&iv(i,s)}function $S(){return null}var sv=typeof reportError=="function"?reportError:function(i){console.error(i)};function kf(i){this._internalRoot=i}Tc.prototype.render=kf.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));Cc(i,s,null,null)},Tc.prototype.unmount=kf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Ns(function(){Cc(null,i,null,null)}),s[qr]=null}};function Tc(i){this._internalRoot=i}Tc.prototype.unstable_scheduleHydration=function(i){if(i){var s=Tu();i={blockedOn:null,target:i,priority:s};for(var l=0;l<dr.length&&s!==0&&s<dr[l].priority;l++);dr.splice(l,0,i),l===0&&Au(i)}};function Af(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Ic(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function ov(){}function NS(i,s,l,f,m){if(m){if(typeof f=="function"){var v=f;f=function(){var Q=Sc(S);v.call(Q)}}var S=rv(s,f,i,0,null,!1,!1,"",ov);return i._reactRootContainer=S,i[qr]=S.current,sl(i.nodeType===8?i.parentNode:i),Ns(),S}for(;m=i.lastChild;)i.removeChild(m);if(typeof f=="function"){var L=f;f=function(){var Q=Sc(j);L.call(Q)}}var j=Tf(i,0,!1,null,null,!1,!1,"",ov);return i._reactRootContainer=j,i[qr]=j.current,sl(i.nodeType===8?i.parentNode:i),Ns(function(){Cc(s,j,l,f)}),j}function kc(i,s,l,f,m){var v=l._reactRootContainer;if(v){var S=v;if(typeof m=="function"){var L=m;m=function(){var j=Sc(S);L.call(j)}}Cc(s,S,i,m)}else S=NS(l,s,i,m,f);return Sc(S)}Cu=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=vi(s.pendingLanes);l!==0&&(_i(s,l|1),un(s,Je()),(Ge&6)===0&&(Ho=Je()+500,Ri()))}break;case 13:Ns(function(){var f=Yr(i,1);if(f!==null){var m=tn();Zn(f,i,1,m)}}),If(i,1)}},go=function(i){if(i.tag===13){var s=Yr(i,134217728);if(s!==null){var l=tn();Zn(s,i,134217728,l)}If(i,134217728)}},Su=function(i){if(i.tag===13){var s=Oi(i),l=Yr(i,s);if(l!==null){var f=tn();Zn(l,i,s,f)}If(i,s)}},Tu=function(){return ze},Iu=function(i,s){var l=ze;try{return ze=i,s()}finally{ze=l}},oo=function(i,s,l){switch(s){case"input":if(Dn(i,l),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var f=l[s];if(f!==i&&f.form===i.form){var m=Wu(f);if(!m)throw Error(t(90));Be(f),Dn(f,m)}}}break;case"textarea":io(i,l);break;case"select":s=l.value,s!=null&&Mr(i,!!l.multiple,s,!1)}},fs=xf,ja=Ns;var FS={usingClientEntryPoint:!1,Events:[ll,$o,Wu,ur,Va,xf]},El={findFiberByHostInstance:Ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LS={bundleType:El.bundleType,version:El.version,rendererPackageName:El.rendererPackageName,rendererConfig:El.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=za(i),i===null?null:i.stateNode},findFiberByHostInstance:El.findFiberByHostInstance||$S,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{vs=Ac.inject(LS),hn=Ac}catch{}}return cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FS,cn.createPortal=function(i,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Af(s))throw Error(t(200));return bS(i,s,null,l)},cn.createRoot=function(i,s){if(!Af(i))throw Error(t(299));var l=!1,f="",m=sv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),s=Tf(i,1,!1,null,null,l,!1,f,m),i[qr]=s.current,sl(i.nodeType===8?i.parentNode:i),new kf(s)},cn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=za(s),i=i===null?null:i.stateNode,i},cn.flushSync=function(i){return Ns(i)},cn.hydrate=function(i,s,l){if(!Ic(s))throw Error(t(200));return kc(null,i,s,!0,l)},cn.hydrateRoot=function(i,s,l){if(!Af(i))throw Error(t(405));var f=l!=null&&l.hydratedSources||null,m=!1,v="",S=sv;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),s=rv(s,null,i,1,l??null,m,!1,v,S),i[qr]=s.current,sl(i),f)for(i=0;i<f.length;i++)l=f[i],m=l._getVersion,m=m(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,m]:s.mutableSourceEagerHydrationData.push(l,m);return new Tc(s)},cn.render=function(i,s,l){if(!Ic(s))throw Error(t(200));return kc(null,i,s,!1,l)},cn.unmountComponentAtNode=function(i){if(!Ic(i))throw Error(t(40));return i._reactRootContainer?(Ns(function(){kc(null,null,i,!1,function(){i._reactRootContainer=null,i[qr]=null})}),!0):!1},cn.unstable_batchedUpdates=xf,cn.unstable_renderSubtreeIntoContainer=function(i,s,l,f){if(!Ic(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return kc(i,s,l,!1,f)},cn.version="18.3.1-next-f1338f8080-20240426",cn}var pv;function hw(){if(pv)return bf.exports;pv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),bf.exports=WS(),bf.exports}var mv;function HS(){if(mv)return Pc;mv=1;var n=hw();return Pc.createRoot=n.createRoot,Pc.hydrateRoot=n.hydrateRoot,Pc}var qS=HS();const GS=Bp(qS);var Sl={},gv;function KS(){if(gv)return Sl;gv=1,Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.parse=u,Sl.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function u(w,C){const k=new a,I=w.length;if(I<2)return k;const A=(C==null?void 0:C.decode)||g;let N=0;do{const D=w.indexOf("=",N);if(D===-1)break;const z=w.indexOf(";",N),K=z===-1?I:z;if(D>K){N=w.lastIndexOf(";",D-1)+1;continue}const X=c(w,N,D),ne=h(w,D,X),b=w.slice(X,ne);if(k[b]===void 0){let R=c(w,D+1,K),$=h(w,K,R);const O=A(w.slice(R,$));k[b]=O}N=K+1}while(N<I);return k}function c(w,C,k){do{const I=w.charCodeAt(C);if(I!==32&&I!==9)return C}while(++C<k);return k}function h(w,C,k){for(;C>k;){const I=w.charCodeAt(--C);if(I!==32&&I!==9)return C+1}return k}function p(w,C,k){const I=(k==null?void 0:k.encode)||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const A=I(C);if(!e.test(A))throw new TypeError(`argument val is invalid: ${C}`);let N=w+"="+A;if(!k)return N;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);N+="; Max-Age="+k.maxAge}if(k.domain){if(!t.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);N+="; Domain="+k.domain}if(k.path){if(!r.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);N+="; Path="+k.path}if(k.expires){if(!x(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);N+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(N+="; HttpOnly"),k.secure&&(N+="; Secure"),k.partitioned&&(N+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return N}function g(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function x(w){return o.call(w)==="[object Date]"}return Sl}KS();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var yv="popstate";function QS(n={}){function e(o,a){let{pathname:u="/",search:c="",hash:h=""}=Ks(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),ip("",{pathname:u,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(o,a){let u=o.document.querySelector("base"),c="";if(u&&u.getAttribute("href")){let h=o.location.href,p=h.indexOf("#");c=p===-1?h:h.slice(0,p)}return c+"#"+(typeof a=="string"?a:Vl(a))}function r(o,a){ir(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return XS(e,t,r,n)}function lt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ir(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YS(){return Math.random().toString(36).substring(2,10)}function vv(n,e){return{usr:n.state,key:n.key,idx:e}}function ip(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ks(e):e,state:t,key:e&&e.key||r||YS()}}function Vl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ks(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function XS(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,c="POP",h=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function x(){c="POP";let A=g(),N=A==null?null:A-p;p=A,h&&h({action:c,location:I.location,delta:N})}function w(A,N){c="PUSH";let D=ip(I.location,A,N);t&&t(D,A),p=g()+1;let z=vv(D,p),K=I.createHref(D);try{u.pushState(z,"",K)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;o.location.assign(K)}a&&h&&h({action:c,location:I.location,delta:1})}function C(A,N){c="REPLACE";let D=ip(I.location,A,N);t&&t(D,A),p=g();let z=vv(D,p),K=I.createHref(D);u.replaceState(z,"",K),a&&h&&h({action:c,location:I.location,delta:0})}function k(A){let N=o.location.origin!=="null"?o.location.origin:o.location.href,D=typeof A=="string"?A:Vl(A);return D=D.replace(/ $/,"%20"),lt(N,`No window.location.(origin|href) available to create URL for href: ${D}`),new URL(D,N)}let I={get action(){return c},get location(){return n(o,u)},listen(A){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(yv,x),h=A,()=>{o.removeEventListener(yv,x),h=null}},createHref(A){return e(o,A)},createURL:k,encodeLocation(A){let N=k(A);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:w,replace:C,go(A){return u.go(A)}};return I}function fw(n,e,t="/"){return JS(n,e,t,!1)}function JS(n,e,t,r){let o=typeof e=="string"?Ks(e):e,a=Zi(o.pathname||"/",t);if(a==null)return null;let u=pw(n);ZS(u);let c=null;for(let h=0;c==null&&h<u.length;++h){let p=cT(a);c=lT(u[h],p,r)}return c}function pw(n,e=[],t=[],r=""){let o=(a,u,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};h.relativePath.startsWith("/")&&(lt(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=oi([r,h.relativePath]),g=t.concat(h);a.children&&a.children.length>0&&(lt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),pw(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:oT(p,a.index),routesMeta:g})};return n.forEach((a,u)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))o(a,u);else for(let h of mw(a.path))o(a,u,h)}),e}function mw(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=mw(r.join("/")),c=[];return c.push(...u.map(h=>h===""?a:[a,h].join("/"))),o&&c.push(...u),c.map(h=>n.startsWith("/")&&h===""?"/":h)}function ZS(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:aT(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var eT=/^:[\w-]+$/,tT=3,nT=2,rT=1,iT=10,sT=-2,xv=n=>n==="*";function oT(n,e){let t=n.split("/"),r=t.length;return t.some(xv)&&(r+=sT),e&&(r+=nT),t.filter(o=>!xv(o)).reduce((o,a)=>o+(eT.test(a)?tT:a===""?rT:iT),r)}function aT(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function lT(n,e,t=!1){let{routesMeta:r}=n,o={},a="/",u=[];for(let c=0;c<r.length;++c){let h=r[c],p=c===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",x=id({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),w=h.route;if(!x&&p&&t&&!r[r.length-1].route.index&&(x=id({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!x)return null;Object.assign(o,x.params),u.push({params:o,pathname:oi([a,x.pathname]),pathnameBase:pT(oi([a,x.pathnameBase])),route:w}),x.pathnameBase!=="/"&&(a=oi([a,x.pathnameBase]))}return u}function id(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=uT(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:x},w)=>{if(g==="*"){let k=c[w]||"";u=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const C=c[w];return x&&!C?p[g]=void 0:p[g]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function uT(n,e=!1,t=!0){ir(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function cT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ir(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Zi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function dT(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?Ks(n):n;return{pathname:t?t.startsWith("/")?t:hT(t,e):e,search:mT(r),hash:gT(o)}}function hT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Ff(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function gw(n){let e=fT(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function yw(n,e,t,r=!1){let o;typeof n=="string"?o=Ks(n):(o={...n},lt(!o.pathname||!o.pathname.includes("?"),Ff("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Ff("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Ff("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,c;if(u==null)c=t;else{let x=e.length-1;if(!r&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),x-=1;o.pathname=w.join("/")}c=x>=0?e[x]:"/"}let h=dT(o,c),p=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var oi=n=>n.join("/").replace(/\/\/+/g,"/"),pT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),mT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,gT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function yT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var vw=["POST","PUT","PATCH","DELETE"];new Set(vw);var vT=["GET",...vw];new Set(vT);var xa=T.createContext(null);xa.displayName="DataRouter";var Pd=T.createContext(null);Pd.displayName="DataRouterState";var xw=T.createContext({isTransitioning:!1});xw.displayName="ViewTransition";var xT=T.createContext(new Map);xT.displayName="Fetchers";var wT=T.createContext(null);wT.displayName="Await";var Fr=T.createContext(null);Fr.displayName="Navigation";var Xl=T.createContext(null);Xl.displayName="Location";var pi=T.createContext({outlet:null,matches:[],isDataRoute:!1});pi.displayName="Route";var Wp=T.createContext(null);Wp.displayName="RouteError";function _T(n,{relative:e}={}){lt(Jl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=T.useContext(Fr),{hash:o,pathname:a,search:u}=Zl(n,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:oi([t,a])),r.createHref({pathname:c,search:u,hash:o})}function Jl(){return T.useContext(Xl)!=null}function Qs(){return lt(Jl(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Xl).location}var ww="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _w(n){T.useContext(Fr).static||T.useLayoutEffect(n)}function Ew(){let{isDataRoute:n}=T.useContext(pi);return n?FT():ET()}function ET(){lt(Jl(),"useNavigate() may be used only in the context of a <Router> component.");let n=T.useContext(xa),{basename:e,navigator:t}=T.useContext(Fr),{matches:r}=T.useContext(pi),{pathname:o}=Qs(),a=JSON.stringify(gw(r)),u=T.useRef(!1);return _w(()=>{u.current=!0}),T.useCallback((h,p={})=>{if(ir(u.current,ww),!u.current)return;if(typeof h=="number"){t.go(h);return}let g=yw(h,JSON.parse(a),o,p.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:oi([e,g.pathname])),(p.replace?t.replace:t.push)(g,p.state,p)},[e,t,a,o,n])}T.createContext(null);function Zl(n,{relative:e}={}){let{matches:t}=T.useContext(pi),{pathname:r}=Qs(),o=JSON.stringify(gw(t));return T.useMemo(()=>yw(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function CT(n,e){return Cw(n,e)}function Cw(n,e,t,r){var N;lt(Jl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=T.useContext(Fr),{matches:a}=T.useContext(pi),u=a[a.length-1],c=u?u.params:{},h=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let D=g&&g.path||"";Sw(h,!g||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let x=Qs(),w;if(e){let D=typeof e=="string"?Ks(e):e;lt(p==="/"||((N=D.pathname)==null?void 0:N.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${D.pathname}" was given in the \`location\` prop.`),w=D}else w=x;let C=w.pathname||"/",k=C;if(p!=="/"){let D=p.replace(/^\//,"").split("/");k="/"+C.replace(/^\//,"").split("/").slice(D.length).join("/")}let I=fw(n,{pathname:k});ir(g||I!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),ir(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=AT(I&&I.map(D=>Object.assign({},D,{params:Object.assign({},c,D.params),pathname:oi([p,o.encodeLocation?o.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?p:oi([p,o.encodeLocation?o.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),a,t,r);return e&&A?T.createElement(Xl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},A):A}function ST(){let n=NT(),e=yT(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=T.createElement(T.Fragment,null,T.createElement("p",null,"💿 Hey developer 👋"),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:a},"ErrorBoundary")," or"," ",T.createElement("code",{style:a},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),t?T.createElement("pre",{style:o},t):null,u)}var TT=T.createElement(ST,null),IT=class extends T.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?T.createElement(pi.Provider,{value:this.props.routeContext},T.createElement(Wp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kT({routeContext:n,match:e,children:t}){let r=T.useContext(xa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(pi.Provider,{value:n},t)}function AT(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let h=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);lt(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,c=-1;if(t)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:g,errors:x}=t,w=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||w){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,p,g)=>{let x,w=!1,C=null,k=null;t&&(x=a&&p.route.id?a[p.route.id]:void 0,C=p.route.errorElement||TT,u&&(c<0&&g===0?(Sw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,k=null):c===g&&(w=!0,k=p.route.hydrateFallbackElement||null)));let I=e.concat(o.slice(0,g+1)),A=()=>{let N;return x?N=C:w?N=k:p.route.Component?N=T.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=h,T.createElement(kT,{match:p,routeContext:{outlet:h,matches:I,isDataRoute:t!=null},children:N})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?T.createElement(IT,{location:t.location,revalidation:t.revalidation,component:C,error:x,children:A(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):A()},null)}function Hp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PT(n){let e=T.useContext(xa);return lt(e,Hp(n)),e}function RT(n){let e=T.useContext(Pd);return lt(e,Hp(n)),e}function bT(n){let e=T.useContext(pi);return lt(e,Hp(n)),e}function qp(n){let e=bT(n),t=e.matches[e.matches.length-1];return lt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function $T(){return qp("useRouteId")}function NT(){var r;let n=T.useContext(Wp),e=RT("useRouteError"),t=qp("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function FT(){let{router:n}=PT("useNavigate"),e=qp("useNavigate"),t=T.useRef(!1);return _w(()=>{t.current=!0}),T.useCallback(async(o,a={})=>{ir(t.current,ww),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var wv={};function Sw(n,e,t){!e&&!wv[n]&&(wv[n]=!0,ir(!1,t))}T.memo(LT);function LT({routes:n,future:e,state:t}){return Cw(n,void 0,t,e)}function sp(n){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OT({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:a=!1}){lt(!Jl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof t=="string"&&(t=Ks(t));let{pathname:h="/",search:p="",hash:g="",state:x=null,key:w="default"}=t,C=T.useMemo(()=>{let k=Zi(h,u);return k==null?null:{location:{pathname:k,search:p,hash:g,state:x,key:w},navigationType:r}},[u,h,p,g,x,w,r]);return ir(C!=null,`<Router basename="${u}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:T.createElement(Fr.Provider,{value:c},T.createElement(Xl.Provider,{children:e,value:C}))}function DT({children:n,location:e}){return CT(op(n),e)}function op(n,e=[]){let t=[];return T.Children.forEach(n,(r,o)=>{if(!T.isValidElement(r))return;let a=[...e,o];if(r.type===T.Fragment){t.push.apply(t,op(r.props.children,a));return}lt(r.type===sp,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=op(r.props.children,a)),t.push(u)}),t}var Wc="get",Hc="application/x-www-form-urlencoded";function Rd(n){return n!=null&&typeof n.tagName=="string"}function MT(n){return Rd(n)&&n.tagName.toLowerCase()==="button"}function VT(n){return Rd(n)&&n.tagName.toLowerCase()==="form"}function jT(n){return Rd(n)&&n.tagName.toLowerCase()==="input"}function UT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function BT(n,e){return n.button===0&&(!e||e==="_self")&&!UT(n)}var Rc=null;function zT(){if(Rc===null)try{new FormData(document.createElement("form"),0),Rc=!1}catch{Rc=!0}return Rc}var WT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lf(n){return n!=null&&!WT.has(n)?(ir(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hc}"`),null):n}function HT(n,e){let t,r,o,a,u;if(VT(n)){let c=n.getAttribute("action");r=c?Zi(c,e):null,t=n.getAttribute("method")||Wc,o=Lf(n.getAttribute("enctype"))||Hc,a=new FormData(n)}else if(MT(n)||jT(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||c.getAttribute("action");if(r=h?Zi(h,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Wc,o=Lf(n.getAttribute("formenctype"))||Lf(c.getAttribute("enctype"))||Hc,a=new FormData(c,n),!zT()){let{name:p,type:g,value:x}=n;if(g==="image"){let w=p?`${p}.`:"";a.append(`${w}x`,"0"),a.append(`${w}y`,"0")}else p&&a.append(p,x)}}else{if(Rd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Wc,r=null,o=Hc,u=n}return a&&o==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:a,body:u}}function Gp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function qT(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function KT(n,e,t){let r=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await qT(a,t);return u.links?u.links():[]}return[]}));return JT(r.flat(1).filter(GT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function _v(n,e,t,r,o,a){let u=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,c=(h,p)=>{var g;return t[p].pathname!==h.pathname||((g=t[p].route.path)==null?void 0:g.endsWith("*"))&&t[p].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,p)=>u(h,p)||c(h,p)):a==="data"?e.filter((h,p)=>{var x;let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(u(h,p)||c(h,p))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((x=t[0])==null?void 0:x.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function QT(n,e){return YT(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let o=[r.module];return r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function YT(n){return[...new Set(n)]}function XT(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function JT(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let a=JSON.stringify(XT(o));return t.has(a)||(t.add(a),r.push({key:a,link:o})),r},[])}function ZT(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function eI(){let n=T.useContext(xa);return Gp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function tI(){let n=T.useContext(Pd);return Gp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Kp=T.createContext(void 0);Kp.displayName="FrameworkContext";function Tw(){let n=T.useContext(Kp);return Gp(n,"You must render this element inside a <HydratedRouter> element"),n}function nI(n,e){let t=T.useContext(Kp),[r,o]=T.useState(!1),[a,u]=T.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:x}=e,w=T.useRef(null);T.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let I=N=>{N.forEach(D=>{u(D.isIntersecting)})},A=new IntersectionObserver(I,{threshold:.5});return w.current&&A.observe(w.current),()=>{A.disconnect()}}},[n]),T.useEffect(()=>{if(r){let I=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(I)}}},[r]);let C=()=>{o(!0)},k=()=>{o(!1),u(!1)};return t?n!=="intent"?[a,w,{}]:[a,w,{onFocus:Tl(c,C),onBlur:Tl(h,k),onMouseEnter:Tl(p,C),onMouseLeave:Tl(g,k),onTouchStart:Tl(x,C)}]:[!1,w,{}]}function Tl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function rI({page:n,...e}){let{router:t}=eI(),r=T.useMemo(()=>fw(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?T.createElement(sI,{page:n,matches:r,...e}):null}function iI(n){let{manifest:e,routeModules:t}=Tw(),[r,o]=T.useState([]);return T.useEffect(()=>{let a=!1;return KT(n,e,t).then(u=>{a||o(u)}),()=>{a=!0}},[n,e,t]),r}function sI({page:n,matches:e,...t}){let r=Qs(),{manifest:o,routeModules:a}=Tw(),{loaderData:u,matches:c}=tI(),h=T.useMemo(()=>_v(n,e,c,o,r,"data"),[n,e,c,o,r]),p=T.useMemo(()=>_v(n,e,c,o,r,"assets"),[n,e,c,o,r]),g=T.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let C=new Set,k=!1;if(e.forEach(A=>{var D;let N=o.routes[A.route.id];!N||!N.hasLoader||(!h.some(z=>z.route.id===A.route.id)&&A.route.id in u&&((D=a[A.route.id])!=null&&D.shouldRevalidate)||N.hasClientLoader?k=!0:C.add(A.route.id))}),C.size===0)return[];let I=ZT(n);return k&&C.size>0&&I.searchParams.set("_routes",e.filter(A=>C.has(A.route.id)).map(A=>A.route.id).join(",")),[I.pathname+I.search]},[u,r,o,h,e,n,a]),x=T.useMemo(()=>QT(p,o),[p,o]),w=iI(p);return T.createElement(T.Fragment,null,g.map(C=>T.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),x.map(C=>T.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),w.map(({key:C,link:k})=>T.createElement("link",{key:C,...k})))}function oI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Iw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Iw&&(window.__reactRouterVersion="7.1.1")}catch{}function aI({basename:n,children:e,window:t}){let r=T.useRef();r.current==null&&(r.current=QS({window:t,v5Compat:!0}));let o=r.current,[a,u]=T.useState({action:o.action,location:o.location}),c=T.useCallback(h=>{T.startTransition(()=>u(h))},[u]);return T.useLayoutEffect(()=>o.listen(c),[o,c]),T.createElement(OT,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var kw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Aw=T.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:a,replace:u,state:c,target:h,to:p,preventScrollReset:g,viewTransition:x,...w},C){let{basename:k}=T.useContext(Fr),I=typeof p=="string"&&kw.test(p),A,N=!1;if(typeof p=="string"&&I&&(A=p,Iw))try{let $=new URL(window.location.href),O=p.startsWith("//")?new URL($.protocol+p):new URL(p),V=Zi(O.pathname,k);O.origin===$.origin&&V!=null?p=V+O.search+O.hash:N=!0}catch{ir(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=_T(p,{relative:o}),[z,K,X]=nI(r,w),ne=dI(p,{replace:u,state:c,target:h,preventScrollReset:g,relative:o,viewTransition:x});function b($){e&&e($),$.defaultPrevented||ne($)}let R=T.createElement("a",{...w,...X,href:A||D,onClick:N||a?e:b,ref:oI(C,K),target:h,"data-discover":!I&&t==="render"?"true":void 0});return z&&!I?T.createElement(T.Fragment,null,R,T.createElement(rI,{page:D})):R});Aw.displayName="Link";var lI=T.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:a,to:u,viewTransition:c,children:h,...p},g){let x=Zl(u,{relative:p.relative}),w=Qs(),C=T.useContext(Pd),{navigator:k,basename:I}=T.useContext(Fr),A=C!=null&&gI(x)&&c===!0,N=k.encodeLocation?k.encodeLocation(x).pathname:x.pathname,D=w.pathname,z=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(D=D.toLowerCase(),z=z?z.toLowerCase():null,N=N.toLowerCase()),z&&I&&(z=Zi(z,I)||z);const K=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let X=D===N||!o&&D.startsWith(N)&&D.charAt(K)==="/",ne=z!=null&&(z===N||!o&&z.startsWith(N)&&z.charAt(N.length)==="/"),b={isActive:X,isPending:ne,isTransitioning:A},R=X?e:void 0,$;typeof r=="function"?$=r(b):$=[r,X?"active":null,ne?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(b):a;return T.createElement(Aw,{...p,"aria-current":R,className:$,ref:g,style:O,to:u,viewTransition:c},typeof h=="function"?h(b):h)});lI.displayName="NavLink";var uI=T.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:a,method:u=Wc,action:c,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:x,...w},C)=>{let k=pI(),I=mI(c,{relative:p}),A=u.toLowerCase()==="get"?"get":"post",N=typeof c=="string"&&kw.test(c),D=z=>{if(h&&h(z),z.defaultPrevented)return;z.preventDefault();let K=z.nativeEvent.submitter,X=(K==null?void 0:K.getAttribute("formmethod"))||u;k(K||z.currentTarget,{fetcherKey:e,method:X,navigate:t,replace:o,state:a,relative:p,preventScrollReset:g,viewTransition:x})};return T.createElement("form",{ref:C,method:A,action:I,onSubmit:r?h:D,...w,"data-discover":!N&&n==="render"?"true":void 0})});uI.displayName="Form";function cI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pw(n){let e=T.useContext(xa);return lt(e,cI(n)),e}function dI(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:a,viewTransition:u}={}){let c=Ew(),h=Qs(),p=Zl(n,{relative:a});return T.useCallback(g=>{if(BT(g,e)){g.preventDefault();let x=t!==void 0?t:Vl(h)===Vl(p);c(n,{replace:x,state:r,preventScrollReset:o,relative:a,viewTransition:u})}},[h,c,p,t,r,e,n,o,a,u])}var hI=0,fI=()=>`__${String(++hI)}__`;function pI(){let{router:n}=Pw("useSubmit"),{basename:e}=T.useContext(Fr),t=$T();return T.useCallback(async(r,o={})=>{let{action:a,method:u,encType:c,formData:h,body:p}=HT(r,e);if(o.navigate===!1){let g=o.fetcherKey||fI();await n.fetch(g,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||c,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:p,formMethod:o.method||u,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function mI(n,{relative:e}={}){let{basename:t}=T.useContext(Fr),r=T.useContext(pi);lt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...Zl(n||".",{relative:e})},u=Qs();if(n==null){a.search=u.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(g=>g==="")){c.delete("index"),h.filter(x=>x).forEach(x=>c.append("index",x));let g=c.toString();a.search=g?`?${g}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:oi([t,a.pathname])),Vl(a)}function gI(n,e={}){let t=T.useContext(xw);lt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Pw("useViewTransitionState"),o=Zl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Zi(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Zi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return id(o.pathname,u)!=null||id(o.pathname,a)!=null}new TextEncoder;var eu=hw();const yI=Bp(eu);var Ev={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},vI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],c=n[t++],h=((o&7)<<18|(a&63)<<12|(u&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},bw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,c=u?n[o+1]:0,h=o+2<n.length,p=h?n[o+2]:0,g=a>>2,x=(a&3)<<4|c>>4;let w=(c&15)<<2|p>>6,C=p&63;h||(C=64,u||(w=64)),r.push(t[g],t[x],t[w],t[C])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Rw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):vI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],c=o<n.length?t[n.charAt(o)]:0;++o;const p=o<n.length?t[n.charAt(o)]:64;++o;const x=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||c==null||p==null||x==null)throw new xI;const w=a<<2|c>>4;if(r.push(w),p!==64){const C=c<<4&240|p>>2;if(r.push(C),x!==64){const k=p<<6&192|x;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class xI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wI=function(n){const e=Rw(n);return bw.encodeByteArray(e,!0)},sd=function(n){return wI(n).replace(/\./g,"")},$w=function(n){try{return bw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=()=>_I().__FIREBASE_DEFAULTS__,CI=()=>{if(typeof process>"u"||typeof Ev>"u")return;const n=Ev.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},SI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&$w(n[1]);return e&&JSON.parse(e)},bd=()=>{try{return EI()||CI()||SI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Nw=n=>{var e,t;return(t=(e=bd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},TI=n=>{const e=Nw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Fw=()=>{var n;return(n=bd())===null||n===void 0?void 0:n.config},Lw=n=>{var e;return(e=bd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[sd(JSON.stringify(t)),sd(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function PI(){var n;const e=(n=bd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function $I(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NI(){const n=Xt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function FI(){return!PI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LI(){try{return typeof indexedDB=="object"}catch{return!1}}function OI(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="FirebaseError";class mi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=DI,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?MI(a,r):"Error",c=`${this.serviceName}: ${u} (${o}).`;return new mi(o,c,r)}}function MI(n,e){return n.replace(VI,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const VI=/\{\$([^}]+)}/g;function jI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function od(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(Cv(a)&&Cv(u)){if(!od(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function Cv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function UI(n,e){const t=new BI(n,e);return t.subscribe.bind(t)}class BI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");zI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Of),o.error===void 0&&(o.error=Of),o.complete===void 0&&(o.complete=Of);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Of(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(n){return n&&n._delegate?n._delegate:n}class Bs{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new II;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qI(e))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ds){return this.instances.has(e)}getOptions(e=Ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&u.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HI(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ds){return this.component?this.component.multipleInstances?e:Ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HI(n){return n===Ds?void 0:n}function qI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new WI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const KI={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},QI=je.INFO,YI={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},XI=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=YI[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qp{constructor(e){this.name=e,this._logLevel=QI,this._logHandler=XI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const JI=(n,e)=>e.some(t=>n instanceof t);let Sv,Tv;function ZI(){return Sv||(Sv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function e1(){return Tv||(Tv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ow=new WeakMap,ap=new WeakMap,Dw=new WeakMap,Df=new WeakMap,Yp=new WeakMap;function t1(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Ki(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Ow.set(t,n)}).catch(()=>{}),Yp.set(e,n),e}function n1(n){if(ap.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});ap.set(n,e)}let lp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ap.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Dw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ki(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function r1(n){lp=n(lp)}function i1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Mf(this),e,...t);return Dw.set(r,e.sort?e.sort():[e]),Ki(r)}:e1().includes(n)?function(...e){return n.apply(Mf(this),e),Ki(Ow.get(this))}:function(...e){return Ki(n.apply(Mf(this),e))}}function s1(n){return typeof n=="function"?i1(n):(n instanceof IDBTransaction&&n1(n),JI(n,ZI())?new Proxy(n,lp):n)}function Ki(n){if(n instanceof IDBRequest)return t1(n);if(Df.has(n))return Df.get(n);const e=s1(n);return e!==n&&(Df.set(n,e),Yp.set(e,n)),e}const Mf=n=>Yp.get(n);function o1(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),c=Ki(u);return r&&u.addEventListener("upgradeneeded",h=>{r(Ki(u.result),h.oldVersion,h.newVersion,Ki(u.transaction),h)}),t&&u.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),o&&h.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const a1=["get","getKey","getAll","getAllKeys","count"],l1=["put","add","delete","clear"],Vf=new Map;function Iv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Vf.get(e))return Vf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=l1.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||a1.includes(t)))return;const a=async function(u,...c){const h=this.transaction(u,o?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),o&&h.done]))[0]};return Vf.set(e,a),a}r1(n=>({...n,get:(e,t,r)=>Iv(e,t)||n.get(e,t,r),has:(e,t)=>!!Iv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(c1(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function c1(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const up="@firebase/app",kv="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new Qp("@firebase/app"),d1="@firebase/app-compat",h1="@firebase/analytics-compat",f1="@firebase/analytics",p1="@firebase/app-check-compat",m1="@firebase/app-check",g1="@firebase/auth",y1="@firebase/auth-compat",v1="@firebase/database",x1="@firebase/data-connect",w1="@firebase/database-compat",_1="@firebase/functions",E1="@firebase/functions-compat",C1="@firebase/installations",S1="@firebase/installations-compat",T1="@firebase/messaging",I1="@firebase/messaging-compat",k1="@firebase/performance",A1="@firebase/performance-compat",P1="@firebase/remote-config",R1="@firebase/remote-config-compat",b1="@firebase/storage",$1="@firebase/storage-compat",N1="@firebase/firestore",F1="@firebase/vertexai",L1="@firebase/firestore-compat",O1="firebase",D1="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="[DEFAULT]",M1={[up]:"fire-core",[d1]:"fire-core-compat",[f1]:"fire-analytics",[h1]:"fire-analytics-compat",[m1]:"fire-app-check",[p1]:"fire-app-check-compat",[g1]:"fire-auth",[y1]:"fire-auth-compat",[v1]:"fire-rtdb",[x1]:"fire-data-connect",[w1]:"fire-rtdb-compat",[_1]:"fire-fn",[E1]:"fire-fn-compat",[C1]:"fire-iid",[S1]:"fire-iid-compat",[T1]:"fire-fcm",[I1]:"fire-fcm-compat",[k1]:"fire-perf",[A1]:"fire-perf-compat",[P1]:"fire-rc",[R1]:"fire-rc-compat",[b1]:"fire-gcs",[$1]:"fire-gcs-compat",[N1]:"fire-fst",[L1]:"fire-fst-compat",[F1]:"fire-vertex","fire-js":"fire-js",[O1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad=new Map,V1=new Map,dp=new Map;function Av(n,e){try{n.container.addComponent(e)}catch(t){ai.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function aa(n){const e=n.name;if(dp.has(e))return ai.debug(`There were multiple attempts to register component ${e}.`),!1;dp.set(e,n);for(const t of ad.values())Av(t,n);for(const t of V1.values())Av(t,n);return!0}function Xp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ni(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qi=new tu("app","Firebase",j1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=D1;function Mw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:cp,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Qi.create("bad-app-name",{appName:String(o)});if(t||(t=Fw()),!t)throw Qi.create("no-options");const a=ad.get(o);if(a){if(od(t,a.options)&&od(r,a.config))return a;throw Qi.create("duplicate-app",{appName:o})}const u=new GI(o);for(const h of dp.values())u.addComponent(h);const c=new U1(t,r,u);return ad.set(o,c),c}function Vw(n=cp){const e=ad.get(n);if(!e&&n===cp&&Fw())return Mw();if(!e)throw Qi.create("no-app",{appName:n});return e}function Yi(n,e,t){var r;let o=(r=M1[n])!==null&&r!==void 0?r:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const c=[`Unable to register library "${o}" with version "${e}":`];a&&c.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ai.warn(c.join(" "));return}aa(new Bs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="firebase-heartbeat-database",z1=1,jl="firebase-heartbeat-store";let jf=null;function jw(){return jf||(jf=o1(B1,z1,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(jl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Qi.create("idb-open",{originalErrorMessage:n.message})})),jf}async function W1(n){try{const t=(await jw()).transaction(jl),r=await t.objectStore(jl).get(Uw(n));return await t.done,r}catch(e){if(e instanceof mi)ai.warn(e.message);else{const t=Qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ai.warn(t.message)}}}async function Pv(n,e){try{const r=(await jw()).transaction(jl,"readwrite");await r.objectStore(jl).put(e,Uw(n)),await r.done}catch(t){if(t instanceof mi)ai.warn(t.message);else{const r=Qi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ai.warn(r.message)}}}function Uw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=1024,q1=30*24*60*60*1e3;class G1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Q1(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Rv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const c=new Date(u.date).valueOf();return Date.now()-c<=q1}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ai.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Rv(),{heartbeatsToSend:r,unsentEntries:o}=K1(this._heartbeatsCache.heartbeats),a=sd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ai.warn(t),""}}}function Rv(){return new Date().toISOString().substring(0,10)}function K1(n,e=H1){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),bv(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),bv(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Q1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LI()?OI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await W1(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Pv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Pv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function bv(n){return sd(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(n){aa(new Bs("platform-logger",e=>new u1(e),"PRIVATE")),aa(new Bs("heartbeat",e=>new G1(e),"PRIVATE")),Yi(up,kv,n),Yi(up,kv,"esm2017"),Yi("fire-js","")}Y1("");var X1="firebase",J1="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yi(X1,J1,"app");var Er=function(){return Er=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Er.apply(this,arguments)};function ru(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function Z1(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,a;r<o;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}function Bw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ek=Bw,zw=new tu("auth","Firebase",Bw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=new Qp("@firebase/auth");function tk(n,...e){ld.logLevel<=je.WARN&&ld.warn(`Auth (${wa}): ${n}`,...e)}function qc(n,...e){ld.logLevel<=je.ERROR&&ld.error(`Auth (${wa}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(n,...e){throw Zp(n,...e)}function rr(n,...e){return Zp(n,...e)}function Jp(n,e,t){const r=Object.assign(Object.assign({},ek()),{[e]:t});return new tu("auth","Firebase",r).create(e,{appName:n.name})}function js(n){return Jp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nk(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ar(n,"argument-error"),Jp(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zp(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return zw.create(n,...e)}function Re(n,e,...t){if(!n)throw Zp(e,...t)}function ri(n){const e="INTERNAL ASSERTION FAILED: "+n;throw qc(e),new Error(e)}function li(n,e){n||ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function rk(){return $v()==="http:"||$v()==="https:"}function $v(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rk()||bI()||"connection"in navigator)?navigator.onLine:!0}function sk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,t){this.shortDelay=e,this.longDelay=t,li(t>e,"Short delay should be less than long delay!"),this.isMobile=AI()||$I()}get(){return ik()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(n,e){li(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=new iu(3e4,6e4);function tm(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function _a(n,e,t,r,o={}){return Hw(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const c=nu(Object.assign({key:n.config.apiKey},u)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:h},a);return RI()||(p.referrerPolicy="no-referrer"),Ww.fetch()(qw(n,n.config.apiHost,t,c),p)})}async function Hw(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},ok),e);try{const o=new uk(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw bc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const c=a.ok?u.errorMessage:u.error.message,[h,p]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw bc(n,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw bc(n,"email-already-in-use",u);if(h==="USER_DISABLED")throw bc(n,"user-disabled",u);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Jp(n,g,p);Ar(n,g)}}catch(o){if(o instanceof mi)throw o;Ar(n,"network-request-failed",{message:String(o)})}}async function lk(n,e,t,r,o={}){const a=await _a(n,e,t,r,o);return"mfaPendingCredential"in a&&Ar(n,"multi-factor-auth-required",{_serverResponse:a}),a}function qw(n,e,t,r){const o=`${e}${t}?${r}`;return n.config.emulator?em(n.config,o):`${n.config.apiScheme}://${o}`}class uk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(rr(this.auth,"network-request-failed")),ak.get())})}}function bc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=rr(n,e,r);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ck(n,e){return _a(n,"POST","/v1/accounts:delete",e)}async function Gw(n,e){return _a(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dk(n,e=!1){const t=En(n),r=await t.getIdToken(e),o=nm(r);Re(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:r,authTime:Fl(Uf(o.auth_time)),issuedAtTime:Fl(Uf(o.iat)),expirationTime:Fl(Uf(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Uf(n){return Number(n)*1e3}function nm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=$w(t);return o?JSON.parse(o):(qc("Failed to decode base64 JWT payload"),null)}catch(o){return qc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Nv(n){const e=nm(n);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof mi&&hk(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function hk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fl(this.lastLoginAt),this.creationTime=Fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ud(n){var e;const t=n.auth,r=await n.getIdToken(),o=await Ul(n,Gw(t,{idToken:r}));Re(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Kw(a.providerUserInfo):[],c=mk(n.providerData,u),h=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(c!=null&&c.length),g=h?p:!1,x={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new fp(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,x)}async function pk(n){const e=En(n);await ud(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mk(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function Kw(n){return n.map(e=>{var{providerId:t}=e,r=ru(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gk(n,e){const t=await Hw(n,{},async()=>{const r=nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=qw(n,o,"/v1/token",`key=${a}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Ww.fetch()(u,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function yk(n,e){return _a(n,"POST","/v2/accounts:revokeToken",tm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Nv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const t=Nv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await gk(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new ea;return r&&(Re(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Re(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Re(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ea,this.toJSON())}_performRefresh(){return ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(n,e){Re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ii{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,a=ru(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new fp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Ul(this,this.stsTokenManager.getToken(this.auth,e));return Re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return dk(this,e)}reload(){return pk(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ii(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ud(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(js(this.auth));const e=await this.getIdToken();return await Ul(this,ck(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,a,u,c,h,p,g;const x=(r=t.displayName)!==null&&r!==void 0?r:void 0,w=(o=t.email)!==null&&o!==void 0?o:void 0,C=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,k=(u=t.photoURL)!==null&&u!==void 0?u:void 0,I=(c=t.tenantId)!==null&&c!==void 0?c:void 0,A=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,N=(p=t.createdAt)!==null&&p!==void 0?p:void 0,D=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:z,emailVerified:K,isAnonymous:X,providerData:ne,stsTokenManager:b}=t;Re(z&&b,e,"internal-error");const R=ea.fromJSON(this.name,b);Re(typeof z=="string",e,"internal-error"),ji(x,e.name),ji(w,e.name),Re(typeof K=="boolean",e,"internal-error"),Re(typeof X=="boolean",e,"internal-error"),ji(C,e.name),ji(k,e.name),ji(I,e.name),ji(A,e.name),ji(N,e.name),ji(D,e.name);const $=new ii({uid:z,auth:e,email:w,emailVerified:K,displayName:x,isAnonymous:X,photoURL:k,phoneNumber:C,tenantId:I,stsTokenManager:R,createdAt:N,lastLoginAt:D});return ne&&Array.isArray(ne)&&($.providerData=ne.map(O=>Object.assign({},O))),A&&($._redirectEventId=A),$}static async _fromIdTokenResponse(e,t,r=!1){const o=new ea;o.updateFromServerResponse(t);const a=new ii({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await ud(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Re(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?Kw(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),c=new ea;c.updateFromIdToken(r);const h=new ii({uid:o.localId,auth:e,stsTokenManager:c,isAnonymous:u}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new fp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=new Map;function si(n){li(n instanceof Function,"Expected a class definition");let e=Fv.get(n);return e?(li(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Fv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Qw.type="NONE";const Lv=Qw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(n,e,t){return`firebase:${n}:${e}:${t}`}class ta{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=Gc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Gc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ii._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ta(si(Lv),e,r);const o=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=o[0]||si(Lv);const u=Gc(r,e.config.apiKey,e.name);let c=null;for(const p of t)try{const g=await p._get(u);if(g){const x=ii._fromJSON(e,g);p!==a&&(c=x),a=p;break}}catch{}const h=o.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new ta(a,e,r):(a=h[0],c&&await a._set(u,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new ta(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Zw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Yw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(t0(e))return"Blackberry";if(n0(e))return"Webos";if(Xw(e))return"Safari";if((e.includes("chrome/")||Jw(e))&&!e.includes("edge/"))return"Chrome";if(e0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Yw(n=Xt()){return/firefox\//i.test(n)}function Xw(n=Xt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jw(n=Xt()){return/crios\//i.test(n)}function Zw(n=Xt()){return/iemobile/i.test(n)}function e0(n=Xt()){return/android/i.test(n)}function t0(n=Xt()){return/blackberry/i.test(n)}function n0(n=Xt()){return/webos/i.test(n)}function rm(n=Xt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function vk(n=Xt()){var e;return rm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xk(){return NI()&&document.documentMode===10}function r0(n=Xt()){return rm(n)||e0(n)||n0(n)||t0(n)||/windows phone/i.test(n)||Zw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(n,e=[]){let t;switch(n){case"Browser":t=Ov(Xt());break;case"Worker":t=`${Ov(Xt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${wa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,c)=>{try{const h=e(a);u(h)}catch(h){c(h)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _k(n,e={}){return _a(n,"GET","/v2/passwordPolicy",tm(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=6;class Ck{constructor(e){var t,r,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:Ek,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,a,u,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(o=h.containsLowercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dv(this),this.idTokenSubscription=new Dv(this),this.beforeStateQueue=new wk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=si(t)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await ta.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Gw(this,{idToken:e}),r=await ii._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ni(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=o==null?void 0:o._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===c)&&(h!=null&&h.user)&&(o=h.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ud(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ni(this.app))return Promise.reject(js(this));const t=e?En(e):null;return t&&Re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(js(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ni(this.app)?Promise.reject(js(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _k(this),t=new Ck(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new tu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await yk(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&si(e)||this._popupRedirectResolver;Re(t,this,"argument-error"),this.redirectPersistenceManager=await ta.create(this,[si(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(c,this,"internal-error"),c.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,o);return()=>{u=!0,h()}}else{const h=e.addObserver(t);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=i0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&tk(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function $d(n){return En(n)}class Dv{constructor(e){this.auth=e,this.observer=null,this.addObserver=UI(t=>this.observer=t)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let im={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Tk(n){im=n}function Ik(n){return im.loadJS(n)}function kk(){return im.gapiScript}function Ak(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(n,e){const t=Xp(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(od(a,e??{}))return o;Ar(o,"already-initialized")}return t.initialize({options:e})}function Rk(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(si);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function bk(n,e,t){const r=$d(n);Re(r._canInitEmulator,r,"emulator-config-failed"),Re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=s0(e),{host:u,port:c}=$k(e),h=c===null?"":`:${c}`;r.config.emulator={url:`${a}//${u}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),Nk()}function s0(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function $k(n){const e=s0(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:Mv(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:Mv(u)}}}function Mv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Nk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ri("not implemented")}_getIdTokenResponse(e){return ri("not implemented")}_linkToIdToken(e,t){return ri("not implemented")}_getReauthenticationResolver(e){return ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function na(n,e){return lk(n,"POST","/v1/accounts:signInWithIdp",tm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk="http://localhost";class zs extends o0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ar("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,a=ru(t,["providerId","signInMethod"]);if(!r||!o)return null;const u=new zs(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return na(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,na(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,na(e,t)}buildRequest(){const e={requestUri:Fk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=nu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends sm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends su{constructor(){super("facebook.com")}static credential(e){return zs._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return zs._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ti.credential(t,r)}catch{return null}}}ti.GOOGLE_SIGN_IN_METHOD="google.com";ti.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends su{constructor(){super("github.com")}static credential(e){return zs._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.GITHUB_SIGN_IN_METHOD="github.com";Hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends su{constructor(){super("twitter.com")}static credential(e,t){return zs._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return qi.credential(t,r)}catch{return null}}}qi.TWITTER_SIGN_IN_METHOD="twitter.com";qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await ii._fromIdTokenResponse(e,r,o),u=Vv(r);return new la({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=Vv(r);return new la({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function Vv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd extends mi{constructor(e,t,r,o){var a;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,cd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new cd(e,t,r,o)}}function a0(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?cd._fromErrorAndOperation(n,a,e,r):a})}async function Lk(n,e,t=!1){const r=await Ul(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return la._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ok(n,e,t=!1){const{auth:r}=n;if(ni(r.app))return Promise.reject(js(r));const o="reauthenticate";try{const a=await Ul(n,a0(r,o,e,n),t);Re(a.idToken,r,"internal-error");const u=nm(a.idToken);Re(u,r,"internal-error");const{sub:c}=u;return Re(n.uid===c,r,"user-mismatch"),la._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ar(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dk(n,e,t=!1){if(ni(n.app))return Promise.reject(js(n));const r="signIn",o=await a0(n,r,e),a=await la._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}function Mk(n,e,t,r){return En(n).onIdTokenChanged(e,t,r)}function Vk(n,e,t){return En(n).beforeAuthStateChanged(e,t)}function jk(n,e,t,r){return En(n).onAuthStateChanged(e,t,r)}function Uk(n){return En(n).signOut()}const dd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(dd,"1"),this.storage.removeItem(dd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk=1e3,zk=10;class u0 extends l0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=r0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,c,h)=>{this.notifyListeners(u,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);xk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,zk):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Bk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}u0.type="LOCAL";const Wk=u0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0 extends l0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}c0.type="SESSION";const d0=c0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Nd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const c=Array.from(u).map(async p=>p(t.origin,a)),h=await Hk(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((c,h)=>{const p=om("",20);o.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(x){const w=x;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(w.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function Gk(n){Cr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function Kk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Qk(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Yk(){return h0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="firebaseLocalStorageDb",Xk=1,hd="firebaseLocalStorage",p0="fbase_key";class ou{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Fd(n,e){return n.transaction([hd],e?"readwrite":"readonly").objectStore(hd)}function Jk(){const n=indexedDB.deleteDatabase(f0);return new ou(n).toPromise()}function pp(){const n=indexedDB.open(f0,Xk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(hd,{keyPath:p0})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(hd)?e(r):(r.close(),await Jk(),e(await pp()))})})}async function jv(n,e,t){const r=Fd(n,!0).put({[p0]:e,value:t});return new ou(r).toPromise()}async function Zk(n,e){const t=Fd(n,!1).get(e),r=await new ou(t).toPromise();return r===void 0?null:r.value}function Uv(n,e){const t=Fd(n,!0).delete(e);return new ou(t).toPromise()}const eA=800,tA=3;class m0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>tA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return h0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nd._getInstance(Yk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Kk(),!this.activeServiceWorker)return;this.sender=new qk(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Qk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pp();return await jv(e,dd,"1"),await Uv(e,dd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>jv(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Zk(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Uv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Fd(o,!1).getAll();return new ou(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}m0.type="LOCAL";const nA=m0;new iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(n,e){return e?si(e):(Re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am extends o0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return na(e,this._buildIdpRequest())}_linkToIdToken(e,t){return na(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return na(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function rA(n){return Dk(n.auth,new am(n),n.bypassAuthState)}function iA(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),Ok(t,new am(n),n.bypassAuthState)}async function sA(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),Lk(t,new am(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:c}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rA;case"linkViaPopup":case"linkViaRedirect":return sA;case"reauthViaPopup":case"reauthViaRedirect":return iA;default:Ar(this.auth,"internal-error")}}resolve(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=new iu(2e3,1e4);async function aA(n,e,t){if(ni(n.app))return Promise.reject(rr(n,"operation-not-supported-in-this-environment"));const r=$d(n);nk(n,e,sm);const o=g0(r,t);return new Ms(r,"signInViaPopup",e,o).executeNotNull()}class Ms extends y0{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,Ms.currentPopupAction&&Ms.currentPopupAction.cancel(),Ms.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const e=om();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ms.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,oA.get())};e()}}Ms.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="pendingRedirect",Kc=new Map;class uA extends y0{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Kc.get(this.auth._key());if(!e){try{const r=await cA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Kc.set(this.auth._key(),e)}return this.bypassAuthState||Kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cA(n,e){const t=fA(e),r=hA(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function dA(n,e){Kc.set(n._key(),e)}function hA(n){return si(n._redirectPersistence)}function fA(n){return Gc(lA,n.config.apiKey,n.name)}async function pA(n,e,t=!1){if(ni(n.app))return Promise.reject(js(n));const r=$d(n),o=g0(r,e),u=await new uA(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=10*60*1e3;class gA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yA(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!v0(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(rr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mA&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bv(e))}saveEventToCache(e){this.cachedEventUids.add(Bv(e)),this.lastProcessedEventTime=Date.now()}}function Bv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function v0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yA(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return v0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vA(n,e={}){return _a(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wA=/^https?/;async function _A(n){if(n.config.emulator)return;const{authorizedDomains:e}=await vA(n);for(const t of e)try{if(EA(t))return}catch{}Ar(n,"unauthorized-domain")}function EA(n){const e=hp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!wA.test(t))return!1;if(xA.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=new iu(3e4,6e4);function zv(){const n=Cr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function SA(n){return new Promise((e,t)=>{var r,o,a;function u(){zv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zv(),t(rr(n,"network-request-failed"))},timeout:CA.get()})}if(!((o=(r=Cr().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Cr().gapi)===null||a===void 0)&&a.load)u();else{const c=Ak("iframefcb");return Cr()[c]=()=>{gapi.load?u():t(rr(n,"network-request-failed"))},Ik(`${kk()}?onload=${c}`).catch(h=>t(h))}}).catch(e=>{throw Qc=null,e})}let Qc=null;function TA(n){return Qc=Qc||SA(n),Qc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=new iu(5e3,15e3),kA="__/auth/iframe",AA="emulator/auth/iframe",PA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bA(n){const e=n.config;Re(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?em(e,AA):`https://${n.config.authDomain}/${kA}`,r={apiKey:e.apiKey,appName:n.name,v:wa},o=RA.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${nu(r).slice(1)}`}async function $A(n){const e=await TA(n),t=Cr().gapi;return Re(t,n,"internal-error"),e.open({where:document.body,url:bA(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PA,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=rr(n,"network-request-failed"),c=Cr().setTimeout(()=>{a(u)},IA.get());function h(){Cr().clearTimeout(c),o(r)}r.ping(h).then(h,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FA=500,LA=600,OA="_blank",DA="http://localhost";class Wv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MA(n,e,t,r=FA,o=LA){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h=Object.assign(Object.assign({},NA),{width:r.toString(),height:o.toString(),top:a,left:u}),p=Xt().toLowerCase();t&&(c=Jw(p)?OA:t),Yw(p)&&(e=e||DA,h.scrollbars="yes");const g=Object.entries(h).reduce((w,[C,k])=>`${w}${C}=${k},`,"");if(vk(p)&&c!=="_self")return VA(e||"",c),new Wv(null);const x=window.open(e||"",c,g);Re(x,n,"popup-blocked");try{x.focus()}catch{}return new Wv(x)}function VA(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA="__/auth/handler",UA="emulator/auth/handler",BA=encodeURIComponent("fac");async function Hv(n,e,t,r,o,a){Re(n.config.authDomain,n,"auth-domain-config-required"),Re(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:wa,eventId:o};if(e instanceof sm){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",jI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,x]of Object.entries({}))u[g]=x}if(e instanceof su){const g=e.getScopes().filter(x=>x!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const c=u;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const h=await n._getAppCheckToken(),p=h?`#${BA}=${encodeURIComponent(h)}`:"";return`${zA(n)}?${nu(c).slice(1)}${p}`}function zA({config:n}){return n.emulator?em(n,UA):`https://${n.authDomain}/${jA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="webStorageSupport";class WA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=d0,this._completeRedirectFn=pA,this._overrideRedirectResult=dA}async _openPopup(e,t,r,o){var a;li((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await Hv(e,t,r,hp(),o);return MA(e,u,om())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await Hv(e,t,r,hp(),o);return Gk(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(li(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await $A(e),r=new gA(e);return t.register("authEvent",o=>(Re(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Bf,{type:Bf},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[Bf];u!==void 0&&t(!!u),Ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_A(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return r0()||Xw()||rm()}}const HA=WA;var qv="@firebase/auth",Gv="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KA(n){aa(new Bs("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:c}=r.options;Re(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:u,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:i0(n)},p=new Sk(r,o,a,h);return Rk(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),aa(new Bs("auth-internal",e=>{const t=$d(e.getProvider("auth").getImmediate());return(r=>new qA(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yi(qv,Gv,GA(n)),Yi(qv,Gv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=5*60,YA=Lw("authIdTokenMaxAge")||QA;let Kv=null;const XA=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>YA)return;const o=t==null?void 0:t.token;Kv!==o&&(Kv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function JA(n=Vw()){const e=Xp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=Pk(n,{popupRedirectResolver:HA,persistence:[nA,Wk,d0]}),r=Lw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=XA(a.toString());Vk(t,u,()=>u(t.currentUser)),Mk(t,c=>u(c))}}const o=Nw("auth");return o&&bk(t,`http://${o}`),t}function ZA(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Tk({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=rr("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",ZA().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KA("Browser");var Qv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Us,x0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,R){function $(){}$.prototype=R.prototype,b.D=R.prototype,b.prototype=new $,b.prototype.constructor=b,b.C=function(O,V,M){for(var F=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)F[ve-2]=arguments[ve];return R.prototype[V].apply(O,F)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(b,R,$){$||($=0);var O=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)O[V]=R.charCodeAt($++)|R.charCodeAt($++)<<8|R.charCodeAt($++)<<16|R.charCodeAt($++)<<24;else for(V=0;16>V;++V)O[V]=R[$++]|R[$++]<<8|R[$++]<<16|R[$++]<<24;R=b.g[0],$=b.g[1],V=b.g[2];var M=b.g[3],F=R+(M^$&(V^M))+O[0]+3614090360&4294967295;R=$+(F<<7&4294967295|F>>>25),F=M+(V^R&($^V))+O[1]+3905402710&4294967295,M=R+(F<<12&4294967295|F>>>20),F=V+($^M&(R^$))+O[2]+606105819&4294967295,V=M+(F<<17&4294967295|F>>>15),F=$+(R^V&(M^R))+O[3]+3250441966&4294967295,$=V+(F<<22&4294967295|F>>>10),F=R+(M^$&(V^M))+O[4]+4118548399&4294967295,R=$+(F<<7&4294967295|F>>>25),F=M+(V^R&($^V))+O[5]+1200080426&4294967295,M=R+(F<<12&4294967295|F>>>20),F=V+($^M&(R^$))+O[6]+2821735955&4294967295,V=M+(F<<17&4294967295|F>>>15),F=$+(R^V&(M^R))+O[7]+4249261313&4294967295,$=V+(F<<22&4294967295|F>>>10),F=R+(M^$&(V^M))+O[8]+1770035416&4294967295,R=$+(F<<7&4294967295|F>>>25),F=M+(V^R&($^V))+O[9]+2336552879&4294967295,M=R+(F<<12&4294967295|F>>>20),F=V+($^M&(R^$))+O[10]+4294925233&4294967295,V=M+(F<<17&4294967295|F>>>15),F=$+(R^V&(M^R))+O[11]+2304563134&4294967295,$=V+(F<<22&4294967295|F>>>10),F=R+(M^$&(V^M))+O[12]+1804603682&4294967295,R=$+(F<<7&4294967295|F>>>25),F=M+(V^R&($^V))+O[13]+4254626195&4294967295,M=R+(F<<12&4294967295|F>>>20),F=V+($^M&(R^$))+O[14]+2792965006&4294967295,V=M+(F<<17&4294967295|F>>>15),F=$+(R^V&(M^R))+O[15]+1236535329&4294967295,$=V+(F<<22&4294967295|F>>>10),F=R+(V^M&($^V))+O[1]+4129170786&4294967295,R=$+(F<<5&4294967295|F>>>27),F=M+($^V&(R^$))+O[6]+3225465664&4294967295,M=R+(F<<9&4294967295|F>>>23),F=V+(R^$&(M^R))+O[11]+643717713&4294967295,V=M+(F<<14&4294967295|F>>>18),F=$+(M^R&(V^M))+O[0]+3921069994&4294967295,$=V+(F<<20&4294967295|F>>>12),F=R+(V^M&($^V))+O[5]+3593408605&4294967295,R=$+(F<<5&4294967295|F>>>27),F=M+($^V&(R^$))+O[10]+38016083&4294967295,M=R+(F<<9&4294967295|F>>>23),F=V+(R^$&(M^R))+O[15]+3634488961&4294967295,V=M+(F<<14&4294967295|F>>>18),F=$+(M^R&(V^M))+O[4]+3889429448&4294967295,$=V+(F<<20&4294967295|F>>>12),F=R+(V^M&($^V))+O[9]+568446438&4294967295,R=$+(F<<5&4294967295|F>>>27),F=M+($^V&(R^$))+O[14]+3275163606&4294967295,M=R+(F<<9&4294967295|F>>>23),F=V+(R^$&(M^R))+O[3]+4107603335&4294967295,V=M+(F<<14&4294967295|F>>>18),F=$+(M^R&(V^M))+O[8]+1163531501&4294967295,$=V+(F<<20&4294967295|F>>>12),F=R+(V^M&($^V))+O[13]+2850285829&4294967295,R=$+(F<<5&4294967295|F>>>27),F=M+($^V&(R^$))+O[2]+4243563512&4294967295,M=R+(F<<9&4294967295|F>>>23),F=V+(R^$&(M^R))+O[7]+1735328473&4294967295,V=M+(F<<14&4294967295|F>>>18),F=$+(M^R&(V^M))+O[12]+2368359562&4294967295,$=V+(F<<20&4294967295|F>>>12),F=R+($^V^M)+O[5]+4294588738&4294967295,R=$+(F<<4&4294967295|F>>>28),F=M+(R^$^V)+O[8]+2272392833&4294967295,M=R+(F<<11&4294967295|F>>>21),F=V+(M^R^$)+O[11]+1839030562&4294967295,V=M+(F<<16&4294967295|F>>>16),F=$+(V^M^R)+O[14]+4259657740&4294967295,$=V+(F<<23&4294967295|F>>>9),F=R+($^V^M)+O[1]+2763975236&4294967295,R=$+(F<<4&4294967295|F>>>28),F=M+(R^$^V)+O[4]+1272893353&4294967295,M=R+(F<<11&4294967295|F>>>21),F=V+(M^R^$)+O[7]+4139469664&4294967295,V=M+(F<<16&4294967295|F>>>16),F=$+(V^M^R)+O[10]+3200236656&4294967295,$=V+(F<<23&4294967295|F>>>9),F=R+($^V^M)+O[13]+681279174&4294967295,R=$+(F<<4&4294967295|F>>>28),F=M+(R^$^V)+O[0]+3936430074&4294967295,M=R+(F<<11&4294967295|F>>>21),F=V+(M^R^$)+O[3]+3572445317&4294967295,V=M+(F<<16&4294967295|F>>>16),F=$+(V^M^R)+O[6]+76029189&4294967295,$=V+(F<<23&4294967295|F>>>9),F=R+($^V^M)+O[9]+3654602809&4294967295,R=$+(F<<4&4294967295|F>>>28),F=M+(R^$^V)+O[12]+3873151461&4294967295,M=R+(F<<11&4294967295|F>>>21),F=V+(M^R^$)+O[15]+530742520&4294967295,V=M+(F<<16&4294967295|F>>>16),F=$+(V^M^R)+O[2]+3299628645&4294967295,$=V+(F<<23&4294967295|F>>>9),F=R+(V^($|~M))+O[0]+4096336452&4294967295,R=$+(F<<6&4294967295|F>>>26),F=M+($^(R|~V))+O[7]+1126891415&4294967295,M=R+(F<<10&4294967295|F>>>22),F=V+(R^(M|~$))+O[14]+2878612391&4294967295,V=M+(F<<15&4294967295|F>>>17),F=$+(M^(V|~R))+O[5]+4237533241&4294967295,$=V+(F<<21&4294967295|F>>>11),F=R+(V^($|~M))+O[12]+1700485571&4294967295,R=$+(F<<6&4294967295|F>>>26),F=M+($^(R|~V))+O[3]+2399980690&4294967295,M=R+(F<<10&4294967295|F>>>22),F=V+(R^(M|~$))+O[10]+4293915773&4294967295,V=M+(F<<15&4294967295|F>>>17),F=$+(M^(V|~R))+O[1]+2240044497&4294967295,$=V+(F<<21&4294967295|F>>>11),F=R+(V^($|~M))+O[8]+1873313359&4294967295,R=$+(F<<6&4294967295|F>>>26),F=M+($^(R|~V))+O[15]+4264355552&4294967295,M=R+(F<<10&4294967295|F>>>22),F=V+(R^(M|~$))+O[6]+2734768916&4294967295,V=M+(F<<15&4294967295|F>>>17),F=$+(M^(V|~R))+O[13]+1309151649&4294967295,$=V+(F<<21&4294967295|F>>>11),F=R+(V^($|~M))+O[4]+4149444226&4294967295,R=$+(F<<6&4294967295|F>>>26),F=M+($^(R|~V))+O[11]+3174756917&4294967295,M=R+(F<<10&4294967295|F>>>22),F=V+(R^(M|~$))+O[2]+718787259&4294967295,V=M+(F<<15&4294967295|F>>>17),F=$+(M^(V|~R))+O[9]+3951481745&4294967295,b.g[0]=b.g[0]+R&4294967295,b.g[1]=b.g[1]+(V+(F<<21&4294967295|F>>>11))&4294967295,b.g[2]=b.g[2]+V&4294967295,b.g[3]=b.g[3]+M&4294967295}r.prototype.u=function(b,R){R===void 0&&(R=b.length);for(var $=R-this.blockSize,O=this.B,V=this.h,M=0;M<R;){if(V==0)for(;M<=$;)o(this,b,M),M+=this.blockSize;if(typeof b=="string"){for(;M<R;)if(O[V++]=b.charCodeAt(M++),V==this.blockSize){o(this,O),V=0;break}}else for(;M<R;)if(O[V++]=b[M++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=R},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var R=1;R<b.length-8;++R)b[R]=0;var $=8*this.o;for(R=b.length-8;R<b.length;++R)b[R]=$&255,$/=256;for(this.u(b),b=Array(16),R=$=0;4>R;++R)for(var O=0;32>O;O+=8)b[$++]=this.g[R]>>>O&255;return b};function a(b,R){var $=c;return Object.prototype.hasOwnProperty.call($,b)?$[b]:$[b]=R(b)}function u(b,R){this.h=R;for(var $=[],O=!0,V=b.length-1;0<=V;V--){var M=b[V]|0;O&&M==R||($[V]=M,O=!1)}this.g=$}var c={};function h(b){return-128<=b&&128>b?a(b,function(R){return new u([R|0],0>R?-1:0)}):new u([b|0],0>b?-1:0)}function p(b){if(isNaN(b)||!isFinite(b))return x;if(0>b)return A(p(-b));for(var R=[],$=1,O=0;b>=$;O++)R[O]=b/$|0,$*=4294967296;return new u(R,0)}function g(b,R){if(b.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(b.charAt(0)=="-")return A(g(b.substring(1),R));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var $=p(Math.pow(R,8)),O=x,V=0;V<b.length;V+=8){var M=Math.min(8,b.length-V),F=parseInt(b.substring(V,V+M),R);8>M?(M=p(Math.pow(R,M)),O=O.j(M).add(p(F))):(O=O.j($),O=O.add(p(F)))}return O}var x=h(0),w=h(1),C=h(16777216);n=u.prototype,n.m=function(){if(I(this))return-A(this).m();for(var b=0,R=1,$=0;$<this.g.length;$++){var O=this.i($);b+=(0<=O?O:4294967296+O)*R,R*=4294967296}return b},n.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(k(this))return"0";if(I(this))return"-"+A(this).toString(b);for(var R=p(Math.pow(b,6)),$=this,O="";;){var V=K($,R).g;$=N($,V.j(R));var M=((0<$.g.length?$.g[0]:$.h)>>>0).toString(b);if($=V,k($))return M+O;for(;6>M.length;)M="0"+M;O=M+O}},n.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function k(b){if(b.h!=0)return!1;for(var R=0;R<b.g.length;R++)if(b.g[R]!=0)return!1;return!0}function I(b){return b.h==-1}n.l=function(b){return b=N(this,b),I(b)?-1:k(b)?0:1};function A(b){for(var R=b.g.length,$=[],O=0;O<R;O++)$[O]=~b.g[O];return new u($,~b.h).add(w)}n.abs=function(){return I(this)?A(this):this},n.add=function(b){for(var R=Math.max(this.g.length,b.g.length),$=[],O=0,V=0;V<=R;V++){var M=O+(this.i(V)&65535)+(b.i(V)&65535),F=(M>>>16)+(this.i(V)>>>16)+(b.i(V)>>>16);O=F>>>16,M&=65535,F&=65535,$[V]=F<<16|M}return new u($,$[$.length-1]&-2147483648?-1:0)};function N(b,R){return b.add(A(R))}n.j=function(b){if(k(this)||k(b))return x;if(I(this))return I(b)?A(this).j(A(b)):A(A(this).j(b));if(I(b))return A(this.j(A(b)));if(0>this.l(C)&&0>b.l(C))return p(this.m()*b.m());for(var R=this.g.length+b.g.length,$=[],O=0;O<2*R;O++)$[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<b.g.length;V++){var M=this.i(O)>>>16,F=this.i(O)&65535,ve=b.i(V)>>>16,Fe=b.i(V)&65535;$[2*O+2*V]+=F*Fe,D($,2*O+2*V),$[2*O+2*V+1]+=M*Fe,D($,2*O+2*V+1),$[2*O+2*V+1]+=F*ve,D($,2*O+2*V+1),$[2*O+2*V+2]+=M*ve,D($,2*O+2*V+2)}for(O=0;O<R;O++)$[O]=$[2*O+1]<<16|$[2*O];for(O=R;O<2*R;O++)$[O]=0;return new u($,0)};function D(b,R){for(;(b[R]&65535)!=b[R];)b[R+1]+=b[R]>>>16,b[R]&=65535,R++}function z(b,R){this.g=b,this.h=R}function K(b,R){if(k(R))throw Error("division by zero");if(k(b))return new z(x,x);if(I(b))return R=K(A(b),R),new z(A(R.g),A(R.h));if(I(R))return R=K(b,A(R)),new z(A(R.g),R.h);if(30<b.g.length){if(I(b)||I(R))throw Error("slowDivide_ only works with positive integers.");for(var $=w,O=R;0>=O.l(b);)$=X($),O=X(O);var V=ne($,1),M=ne(O,1);for(O=ne(O,2),$=ne($,2);!k(O);){var F=M.add(O);0>=F.l(b)&&(V=V.add($),M=F),O=ne(O,1),$=ne($,1)}return R=N(b,V.j(R)),new z(V,R)}for(V=x;0<=b.l(R);){for($=Math.max(1,Math.floor(b.m()/R.m())),O=Math.ceil(Math.log($)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),M=p($),F=M.j(R);I(F)||0<F.l(b);)$-=O,M=p($),F=M.j(R);k(M)&&(M=w),V=V.add(M),b=N(b,F)}return new z(V,b)}n.A=function(b){return K(this,b).h},n.and=function(b){for(var R=Math.max(this.g.length,b.g.length),$=[],O=0;O<R;O++)$[O]=this.i(O)&b.i(O);return new u($,this.h&b.h)},n.or=function(b){for(var R=Math.max(this.g.length,b.g.length),$=[],O=0;O<R;O++)$[O]=this.i(O)|b.i(O);return new u($,this.h|b.h)},n.xor=function(b){for(var R=Math.max(this.g.length,b.g.length),$=[],O=0;O<R;O++)$[O]=this.i(O)^b.i(O);return new u($,this.h^b.h)};function X(b){for(var R=b.g.length+1,$=[],O=0;O<R;O++)$[O]=b.i(O)<<1|b.i(O-1)>>>31;return new u($,b.h)}function ne(b,R){var $=R>>5;R%=32;for(var O=b.g.length-$,V=[],M=0;M<O;M++)V[M]=0<R?b.i(M+$)>>>R|b.i(M+$+1)<<32-R:b.i(M+$);return new u(V,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,x0=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=g,Us=u}).apply(typeof Qv<"u"?Qv:typeof self<"u"?self:typeof window<"u"?window:{});var $c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var w0,Rl,_0,Yc,mp,E0,C0,S0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,E){return d==Array.prototype||d==Object.prototype||(d[y]=E.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof $c=="object"&&$c];for(var y=0;y<d.length;++y){var E=d[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function o(d,y){if(y)e:{var E=r;d=d.split(".");for(var P=0;P<d.length-1;P++){var W=d[P];if(!(W in E))break e;E=E[W]}d=d[d.length-1],P=E[d],y=y(P),y!=P&&y!=null&&e(E,d,{configurable:!0,writable:!0,value:y})}}function a(d,y){d instanceof String&&(d+="");var E=0,P=!1,W={next:function(){if(!P&&E<d.length){var Y=E++;return{value:y(Y,d[Y]),done:!1}}return P=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}o("Array.prototype.values",function(d){return d||function(){return a(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function h(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function p(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function g(d,y,E){return d.call.apply(d.bind,arguments)}function x(d,y,E){if(!d)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,P),d.apply(y,W)}}return function(){return d.apply(y,arguments)}}function w(d,y,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:x,w.apply(null,arguments)}function C(d,y){var E=Array.prototype.slice.call(arguments,1);return function(){var P=E.slice();return P.push.apply(P,arguments),d.apply(this,P)}}function k(d,y){function E(){}E.prototype=y.prototype,d.aa=y.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(P,W,Y){for(var ue=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)ue[Ye-2]=arguments[Ye];return y.prototype[W].apply(P,ue)}}function I(d){const y=d.length;if(0<y){const E=Array(y);for(let P=0;P<y;P++)E[P]=d[P];return E}return[]}function A(d,y){for(let E=1;E<arguments.length;E++){const P=arguments[E];if(h(P)){const W=d.length||0,Y=P.length||0;d.length=W+Y;for(let ue=0;ue<Y;ue++)d[W+ue]=P[ue]}else d.push(P)}}class N{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function D(d){return/^[\s\xa0]*$/.test(d)}function z(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function K(d){return K[" "](d),d}K[" "]=function(){};var X=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function ne(d,y,E){for(const P in d)y.call(E,d[P],P,d)}function b(d,y){for(const E in d)y.call(void 0,d[E],E,d)}function R(d){const y={};for(const E in d)y[E]=d[E];return y}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(d,y){let E,P;for(let W=1;W<arguments.length;W++){P=arguments[W];for(E in P)d[E]=P[E];for(let Y=0;Y<$.length;Y++)E=$[Y],Object.prototype.hasOwnProperty.call(P,E)&&(d[E]=P[E])}}function V(d){var y=1;d=d.split(":");const E=[];for(;0<y&&d.length;)E.push(d.shift()),y--;return d.length&&E.push(d.join(":")),E}function M(d){c.setTimeout(()=>{throw d},0)}function F(){var d=ie;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class ve{constructor(){this.h=this.g=null}add(y,E){const P=Fe.get();P.set(y,E),this.h?this.h.next=P:this.g=P,this.h=P}}var Fe=new N(()=>new we,d=>d.reset());class we{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,q=!1,ie=new ve,ee=()=>{const d=c.Promise.resolve(void 0);ge=()=>{d.then(U)}};var U=()=>{for(var d;d=F();){try{d.h.call(d.g)}catch(E){M(E)}var y=Fe;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}q=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return d}();function Se(d,y){if(pe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,P=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(X){e:{try{K(y.nodeName);var W=!0;break e}catch{}W=!1}W||(y=null)}}else E=="mouseover"?y=d.fromElement:E=="mouseout"&&(y=d.toElement);this.relatedTarget=y,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ae[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Se.aa.h.call(this)}}k(Se,pe);var Ae={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),_e=0;function Oe(d,y,E,P,W){this.listener=d,this.proxy=null,this.src=y,this.type=E,this.capture=!!P,this.ha=W,this.key=++_e,this.da=this.fa=!1}function $e(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Me(d){this.src=d,this.g={},this.h=0}Me.prototype.add=function(d,y,E,P,W){var Y=d.toString();d=this.g[Y],d||(d=this.g[Y]=[],this.h++);var ue=ct(d,y,P,W);return-1<ue?(y=d[ue],E||(y.fa=!1)):(y=new Oe(y,this.src,Y,!!P,W),y.fa=E,d.push(y)),y};function Be(d,y){var E=y.type;if(E in d.g){var P=d.g[E],W=Array.prototype.indexOf.call(P,y,void 0),Y;(Y=0<=W)&&Array.prototype.splice.call(P,W,1),Y&&($e(y),d.g[E].length==0&&(delete d.g[E],d.h--))}}function ct(d,y,E,P){for(var W=0;W<d.length;++W){var Y=d[W];if(!Y.da&&Y.listener==y&&Y.capture==!!E&&Y.ha==P)return W}return-1}var Pt="closure_lm_"+(1e6*Math.random()|0),Sn={};function On(d,y,E,P,W){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)On(d,y[Y],E,P,W);return null}return E=$a(E),d&&d[ce]?d.K(y,E,p(P)?!!P.capture:!1,W):Dn(d,y,E,!1,P,W)}function Dn(d,y,E,P,W,Y){if(!y)throw Error("Invalid event type");var ue=p(W)?!!W.capture:!!W,Ye=ro(d);if(Ye||(d[Pt]=Ye=new Me(d)),E=Ye.add(y,E,P,ue,Y),E.proxy)return E;if(P=no(),E.proxy=P,P.src=d,P.listener=E,d.addEventListener)Ee||(W=ue),W===void 0&&(W=!1),d.addEventListener(y.toString(),P,W);else if(d.attachEvent)d.attachEvent(Mr(y.toString()),P);else if(d.addListener&&d.removeListener)d.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return E}function no(){function d(E){return y.call(d.src,d.listener,E)}const y=ba;return d}function Mn(d,y,E,P,W){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Mn(d,y[Y],E,P,W);else P=p(P)?!!P.capture:!!P,E=$a(E),d&&d[ce]?(d=d.i,y=String(y).toString(),y in d.g&&(Y=d.g[y],E=ct(Y,E,P,W),-1<E&&($e(Y[E]),Array.prototype.splice.call(Y,E,1),Y.length==0&&(delete d.g[y],d.h--)))):d&&(d=ro(d))&&(y=d.g[y.toString()],d=-1,y&&(d=ct(y,E,P,W)),(E=-1<d?y[d]:null)&&Dr(E))}function Dr(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[ce])Be(y.i,d);else{var E=d.type,P=d.proxy;y.removeEventListener?y.removeEventListener(E,P,d.capture):y.detachEvent?y.detachEvent(Mr(E),P):y.addListener&&y.removeListener&&y.removeListener(P),(E=ro(y))?(Be(E,d),E.h==0&&(E.src=null,y[Pt]=null)):$e(d)}}}function Mr(d){return d in Sn?Sn[d]:Sn[d]="on"+d}function ba(d,y){if(d.da)d=!0;else{y=new Se(y,this);var E=d.listener,P=d.ha||d.src;d.fa&&Dr(d),d=E.call(P,y)}return d}function ro(d){return d=d[Pt],d instanceof Me?d:null}var io="__closure_events_fn_"+(1e9*Math.random()>>>0);function $a(d){return typeof d=="function"?d:(d[io]||(d[io]=function(y){return d.handleEvent(y)}),d[io])}function _t(){J.call(this),this.i=new Me(this),this.M=this,this.F=null}k(_t,J),_t.prototype[ce]=!0,_t.prototype.removeEventListener=function(d,y,E,P){Mn(this,d,y,E,P)};function Et(d,y){var E,P=d.F;if(P)for(E=[];P;P=P.F)E.push(P);if(d=d.M,P=y.type||y,typeof y=="string")y=new pe(y,d);else if(y instanceof pe)y.target=y.target||d;else{var W=y;y=new pe(P,d),O(y,W)}if(W=!0,E)for(var Y=E.length-1;0<=Y;Y--){var ue=y.g=E[Y];W=Vr(ue,P,!0,y)&&W}if(ue=y.g=d,W=Vr(ue,P,!0,y)&&W,W=Vr(ue,P,!1,y)&&W,E)for(Y=0;Y<E.length;Y++)ue=y.g=E[Y],W=Vr(ue,P,!1,y)&&W}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var E=d.g[y],P=0;P<E.length;P++)$e(E[P]);delete d.g[y],d.h--}}this.F=null},_t.prototype.K=function(d,y,E,P){return this.i.add(String(d),y,!1,E,P)},_t.prototype.L=function(d,y,E,P){return this.i.add(String(d),y,!0,E,P)};function Vr(d,y,E,P){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var W=!0,Y=0;Y<y.length;++Y){var ue=y[Y];if(ue&&!ue.da&&ue.capture==E){var Ye=ue.listener,Ct=ue.ha||ue.src;ue.fa&&Be(d.i,ue),W=Ye.call(Ct,P)!==!1&&W}}return W&&!P.defaultPrevented}function Na(d,y,E){if(typeof d=="function")E&&(d=w(d,E));else if(d&&typeof d.handleEvent=="function")d=w(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(d,y||0)}function gi(d){d.g=Na(()=>{d.g=null,d.i&&(d.i=!1,gi(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class cs extends J{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:gi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ds(d){J.call(this),this.h=d,this.g={}}k(ds,J);var Fa=[];function La(d){ne(d.g,function(y,E){this.g.hasOwnProperty(E)&&Dr(y)},d),d.g={}}ds.prototype.N=function(){ds.aa.N.call(this),La(this)},ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oa=c.JSON.stringify,Da=c.JSON.parse,Ma=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function hs(){}hs.prototype.h=null;function so(d){return d.h||(d.h=d.i())}function oo(){}var Tn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lr(){pe.call(this,"d")}k(lr,pe);function ao(){pe.call(this,"c")}k(ao,pe);var ur={},Va=null;function fs(){return Va=Va||new _t}ur.La="serverreachability";function ja(d){pe.call(this,ur.La,d)}k(ja,pe);function jr(d){const y=fs();Et(y,new ja(y))}ur.STAT_EVENT="statevent";function Ua(d,y){pe.call(this,ur.STAT_EVENT,d),this.stat=y}k(Ua,pe);function ht(d){const y=fs();Et(y,new Ua(y,d))}ur.Ma="timingevent";function lo(d,y){pe.call(this,ur.Ma,d),this.size=y}k(lo,pe);function Vn(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},y)}function ps(){this.g=!0}ps.prototype.xa=function(){this.g=!1};function ms(d,y,E,P,W,Y){d.info(function(){if(d.g)if(Y)for(var ue="",Ye=Y.split("&"),Ct=0;Ct<Ye.length;Ct++){var He=Ye[Ct].split("=");if(1<He.length){var Rt=He[0];He=He[1];var gt=Rt.split("_");ue=2<=gt.length&&gt[1]=="type"?ue+(Rt+"="+He+"&"):ue+(Rt+"=redacted&")}}else ue=null;else ue=Y;return"XMLHTTP REQ ("+P+") [attempt "+W+"]: "+y+`
`+E+`
`+ue})}function uo(d,y,E,P,W,Y,ue){d.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+W+"]: "+y+`
`+E+`
`+Y+" "+ue})}function jn(d,y,E,P){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+nh(d,E)+(P?" "+P:"")})}function Ba(d,y){d.info(function(){return"TIMEOUT: "+y})}ps.prototype.info=function(){};function nh(d,y){if(!d.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var P=E[d];if(!(2>P.length)){var W=P[1];if(Array.isArray(W)&&!(1>W.length)){var Y=W[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ue=1;ue<W.length;ue++)W[ue]=""}}}}return Oa(E)}catch{return y}}var co={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Un;function gs(){}k(gs,hs),gs.prototype.g=function(){return new XMLHttpRequest},gs.prototype.i=function(){return{}},Un=new gs;function Bn(d,y,E,P){this.j=d,this.i=y,this.l=E,this.R=P||1,this.U=new ds(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gu}function gu(){this.i=null,this.g="",this.h=!1}var za={},ho={};function fo(d,y,E){d.L=1,d.v=_i(fn(y)),d.m=E,d.P=!0,Wa(d,null)}function Wa(d,y){d.F=Date.now(),Je(d),d.A=fn(d.v);var E=d.A,P=d.R;Array.isArray(P)||(P=[String(P)]),Ci(E.i,"t",P),d.C=0,E=d.j.J,d.h=new gu,d.g=Fu(d.j,E?y:null,!d.m),0<d.O&&(d.M=new cs(w(d.Y,d,d.g),d.O)),y=d.U,E=d.g,P=d.ca;var W="readystatechange";Array.isArray(W)||(W&&(Fa[0]=W.toString()),W=Fa);for(var Y=0;Y<W.length;Y++){var ue=On(E,W[Y],P||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=d.H?R(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),jr(),ms(d.i,d.u,d.A,d.l,d.R,d.m)}Bn.prototype.ca=function(d){d=d.target;const y=this.M;y&&rn(d)==3?y.j():this.Y(d)},Bn.prototype.Y=function(d){try{if(d==this.g)e:{const gt=rn(this.g);var y=this.g.Ba();const An=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||Ya(this.g)))){this.J||gt!=4||y==7||(y==8||0>=An?jr(3):jr(2)),ys(this);var E=this.g.Z();this.X=E;t:if(yu(this)){var P=Ya(this.g);d="";var W=P.length,Y=rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){In(this),yi(this);var ue="";break t}this.h.i=new c.TextDecoder}for(y=0;y<W;y++)this.h.h=!0,d+=this.h.i.decode(P[y],{stream:!(Y&&y==W-1)});P.length=0,this.h.g+=d,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=E==200,uo(this.i,this.u,this.A,this.l,this.R,gt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Ct=this.g;if((Ye=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(Ye)){var He=Ye;break t}}He=null}if(E=He)jn(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ha(this,E);else{this.o=!1,this.s=3,ht(12),In(this),yi(this);break e}}if(this.P){E=!0;let mn;for(;!this.J&&this.C<ue.length;)if(mn=rh(this,ue),mn==ho){gt==4&&(this.s=4,ht(14),E=!1),jn(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==za){this.s=4,ht(15),jn(this.i,this.l,ue,"[Invalid Chunk]"),E=!1;break}else jn(this.i,this.l,mn,null),Ha(this,mn);if(yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||ue.length!=0||this.h.h||(this.s=1,ht(16),E=!1),this.o=this.o&&E,!E)jn(this.i,this.l,ue,"[Invalid Chunked Response]"),In(this),yi(this);else if(0<ue.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Ja(Rt),Rt.M=!0,ht(11))}}else jn(this.i,this.l,ue,null),Ha(this,ue);gt==4&&In(this),this.o&&!this.J&&(gt==4?So(this.j,this):(this.o=!1,Je(this)))}else xo(this.g),E==400&&0<ue.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),In(this),yi(this)}}}catch{}finally{}};function yu(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function rh(d,y){var E=d.C,P=y.indexOf(`
`,E);return P==-1?ho:(E=Number(y.substring(E,P)),isNaN(E)?za:(P+=1,P+E>y.length?ho:(y=y.slice(P,P+E),d.C=P+E,y)))}Bn.prototype.cancel=function(){this.J=!0,In(this)};function Je(d){d.S=Date.now()+d.I,vu(d,d.I)}function vu(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Vn(w(d.ba,d),y)}function ys(d){d.B&&(c.clearTimeout(d.B),d.B=null)}Bn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Ba(this.i,this.A),this.L!=2&&(jr(),ht(17)),In(this),this.s=2,yi(this)):vu(this,this.S-d)};function yi(d){d.j.G==0||d.J||So(d.j,d)}function In(d){ys(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,La(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function Ha(d,y){try{var E=d.j;if(E.G!=0&&(E.g==d||Jt(E.h,d))){if(!d.K&&Jt(E.h,d)&&E.G==3){try{var P=E.Da.g.parse(y)}catch{P=null}if(Array.isArray(P)&&P.length==3){var W=P;if(W[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)Co(E),Gn(E);else break e;Eo(E),ht(18)}}else E.za=W[1],0<E.za-E.T&&37500>W[2]&&E.F&&E.v==0&&!E.C&&(E.C=Vn(w(E.Za,E),6e3));if(1>=wu(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Hr(E,11)}else if((d.K||E.g==d)&&Co(E),!D(y))for(W=E.Da.g.parse(y),y=0;y<W.length;y++){let He=W[y];if(E.T=He[0],He=He[1],E.G==2)if(He[0]=="c"){E.K=He[1],E.ia=He[2];const Rt=He[3];Rt!=null&&(E.la=Rt,E.j.info("VER="+E.la));const gt=He[4];gt!=null&&(E.Aa=gt,E.j.info("SVER="+E.Aa));const An=He[5];An!=null&&typeof An=="number"&&0<An&&(P=1.5*An,E.L=P,E.j.info("backChannelRequestTimeoutMs_="+P)),P=E;const mn=d.g;if(mn){const Ss=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ss){var Y=P.h;Y.g||Ss.indexOf("spdy")==-1&&Ss.indexOf("quic")==-1&&Ss.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(qa(Y,Y.h),Y.h=null))}if(P.D){const Io=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Io&&(P.ya=Io,Xe(P.I,P.D,Io))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),P=E;var ue=d;if(P.qa=Nu(P,P.J?P.ia:null,P.W),ue.K){_u(P.h,ue);var Ye=ue,Ct=P.L;Ct&&(Ye.I=Ct),Ye.B&&(ys(Ye),Je(Ye)),P.g=ue}else Cs(P);0<E.i.length&&fr(E)}else He[0]!="stop"&&He[0]!="close"||Hr(E,7);else E.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Hr(E,7):Ot(E):He[0]!="noop"&&E.l&&E.l.ta(He),E.v=0)}}jr(4)}catch{}}var xu=class{constructor(d,y){this.g=d,this.map=y}};function vs(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function wu(d){return d.h?1:d.g?d.g.size:0}function Jt(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function qa(d,y){d.g?d.g.add(y):d.h=y}function _u(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}vs.prototype.cancel=function(){if(this.i=Eu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Eu(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const E of d.g.values())y=y.concat(E.D);return y}return I(d.i)}function po(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var y=[],E=d.length,P=0;P<E;P++)y.push(d[P]);return y}y=[],E=0;for(P in d)y[E++]=d[P];return y}function mo(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var y=[];d=d.length;for(var E=0;E<d;E++)y.push(E);return y}y=[],E=0;for(const P in d)y[E++]=P;return y}}}function vi(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var E=mo(d),P=po(d),W=P.length,Y=0;Y<W;Y++)y.call(void 0,P[Y],E&&E[Y],d)}var xs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ih(d,y){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var P=d[E].indexOf("="),W=null;if(0<=P){var Y=d[E].substring(0,P);W=d[E].substring(P+1)}else Y=d[E];y(Y,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Ur(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ur){this.h=d.h,ws(this,d.j),this.o=d.o,this.g=d.g,xi(this,d.s),this.l=d.l;var y=d.i,E=new cr;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),wi(this,E),this.m=d.m}else d&&(y=String(d).match(xs))?(this.h=!1,ws(this,y[1]||"",!0),this.o=ze(y[2]||""),this.g=ze(y[3]||"",!0),xi(this,y[4]),this.l=ze(y[5]||"",!0),wi(this,y[6]||"",!0),this.m=ze(y[7]||"")):(this.h=!1,this.i=new cr(null,this.h))}Ur.prototype.toString=function(){var d=[],y=this.j;y&&d.push(Ei(y,go,!0),":");var E=this.g;return(E||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Ei(y,go,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Ei(E,E.charAt(0)=="/"?Tu:Su,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Ei(E,Ga)),d.join("")};function fn(d){return new Ur(d)}function ws(d,y,E){d.j=E?ze(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function xi(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function wi(d,y,E){y instanceof cr?(d.i=y,dr(d.i,d.h)):(E||(y=Ei(y,Iu)),d.i=new cr(y,d.h))}function Xe(d,y,E){d.i.set(y,E)}function _i(d){return Xe(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function ze(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ei(d,y,E){return typeof d=="string"?(d=encodeURI(d).replace(y,Cu),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Cu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var go=/[#\/\?@]/g,Su=/[#\?:]/g,Tu=/[#\?]/g,Iu=/[#\?@]/g,Ga=/#/g;function cr(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function Lt(d){d.g||(d.g=new Map,d.h=0,d.i&&ih(d.i,function(y,E){d.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=cr.prototype,n.add=function(d,y){Lt(this),this.i=null,d=kn(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(y),this.h+=1,this};function zn(d,y){Lt(d),y=kn(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function Wn(d,y){return Lt(d),y=kn(d,y),d.g.has(y)}n.forEach=function(d,y){Lt(this),this.g.forEach(function(E,P){E.forEach(function(W){d.call(y,W,P,this)},this)},this)},n.na=function(){Lt(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let P=0;P<y.length;P++){const W=d[P];for(let Y=0;Y<W.length;Y++)E.push(y[P])}return E},n.V=function(d){Lt(this);let y=[];if(typeof d=="string")Wn(this,d)&&(y=y.concat(this.g.get(kn(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)y=y.concat(d[E])}return y},n.set=function(d,y){return Lt(this),this.i=null,d=kn(this,d),Wn(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},n.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function Ci(d,y,E){zn(d,y),0<E.length&&(d.i=null,d.g.set(kn(d,y),I(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var P=y[E];const Y=encodeURIComponent(String(P)),ue=this.V(P);for(P=0;P<ue.length;P++){var W=Y;ue[P]!==""&&(W+="="+encodeURIComponent(String(ue[P]))),d.push(W)}}return this.i=d.join("&")};function kn(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function dr(d,y){y&&!d.j&&(Lt(d),d.i=null,d.g.forEach(function(E,P){var W=P.toLowerCase();P!=W&&(zn(this,P),Ci(this,W,E))},d)),d.j=y}function sh(d,y){const E=new ps;if(c.Image){const P=new Image;P.onload=C(nn,E,"TestLoadImage: loaded",!0,y,P),P.onerror=C(nn,E,"TestLoadImage: error",!1,y,P),P.onabort=C(nn,E,"TestLoadImage: abort",!1,y,P),P.ontimeout=C(nn,E,"TestLoadImage: timeout",!1,y,P),c.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=d}else y(!1)}function ku(d,y){const E=new ps,P=new AbortController,W=setTimeout(()=>{P.abort(),nn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:P.signal}).then(Y=>{clearTimeout(W),Y.ok?nn(E,"TestPingServer: ok",!0,y):nn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(W),nn(E,"TestPingServer: error",!1,y)})}function nn(d,y,E,P,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),P(E)}catch{}}function oh(){this.g=new Ma}function Au(d,y,E){const P=E||"";try{vi(d,function(W,Y){let ue=W;p(W)&&(ue=Oa(W)),y.push(P+Y+"="+encodeURIComponent(ue))})}catch(W){throw y.push(P+"type="+encodeURIComponent("_badmap")),W}}function Br(d){this.l=d.Ub||null,this.j=d.eb||!1}k(Br,hs),Br.prototype.g=function(){return new _s(this.l,this.j)},Br.prototype.i=function(d){return function(){return d}}({});function _s(d,y){_t.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(_s,_t),n=_s.prototype,n.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,qn(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pu(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pu(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?Hn(this):qn(this),this.readyState==3&&Pu(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Hn(this))},n.Qa=function(d){this.g&&(this.response=d,Hn(this))},n.ga=function(){this.g&&Hn(this)};function Hn(d){d.readyState=4,d.l=null,d.j=null,d.v=null,qn(d)}n.setRequestHeader=function(d,y){this.u.append(d,y)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=y.next();return d.join(`\r
`)};function qn(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(_s.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function zr(d){let y="";return ne(d,function(E,P){y+=P,y+=":",y+=E,y+=`\r
`}),y}function Si(d,y,E){e:{for(P in E){var P=!1;break e}P=!0}P||(E=zr(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):Xe(d,y,E))}function rt(d){_t.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(rt,_t);var ah=/^https?$/i,Ka=["POST","PUT"];n=rt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,y,E,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Un.g(),this.v=this.o?so(this.o):so(Un),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(Y){Es(this,Y);return}if(d=E||"",E=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var W in P)E.set(W,P[W]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const Y of P.keys())E.set(Y,P.get(Y));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),W=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ka,y,void 0))||P||W||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ue]of E)this.g.setRequestHeader(Y,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vo(this),this.u=!0,this.g.send(d),this.u=!1}catch(Y){Es(this,Y)}};function Es(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,yo(d),pn(d)}function yo(d){d.A||(d.A=!0,Et(d,"complete"),Et(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Et(this,"complete"),Et(this,"abort"),pn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pn(this,!0)),rt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Qa(this):this.bb())},n.bb=function(){Qa(this)};function Qa(d){if(d.h&&typeof u<"u"&&(!d.v[1]||rn(d)!=4||d.Z()!=2)){if(d.u&&rn(d)==4)Na(d.Ea,0,d);else if(Et(d,"readystatechange"),rn(d)==4){d.h=!1;try{const ue=d.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var P;if(P=ue===0){var W=String(d.D).match(xs)[1]||null;!W&&c.self&&c.self.location&&(W=c.self.location.protocol.slice(0,-1)),P=!ah.test(W?W.toLowerCase():"")}E=P}if(E)Et(d,"complete"),Et(d,"success");else{d.m=6;try{var Y=2<rn(d)?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.Z()+"]",yo(d)}}finally{pn(d)}}}}function pn(d,y){if(d.g){vo(d);const E=d.g,P=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||Et(d,"ready");try{E.onreadystatechange=P}catch{}}}function vo(d){d.I&&(c.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function rn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),Da(y)}};function Ya(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function xo(d){const y={};d=(d.g&&2<=rn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<d.length;P++){if(D(d[P]))continue;var E=V(d[P]);const W=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=y[W]||[];y[W]=Y,Y.push(E)}b(y,function(P){return P.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hr(d,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||y}function Xa(d){this.Aa=0,this.i=[],this.j=new ps,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hr("baseRetryDelayMs",5e3,d),this.cb=hr("retryDelaySeedMs",1e4,d),this.Wa=hr("forwardChannelMaxRetries",2,d),this.wa=hr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new vs(d&&d.concurrentRequestLimit),this.Da=new oh,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Xa.prototype,n.la=8,n.G=1,n.connect=function(d,y,E,P){ht(0),this.W=d,this.H=y||{},E&&P!==void 0&&(this.H.OSID=E,this.H.OAID=P),this.F=this.X,this.I=Nu(this,null,this.W),fr(this)};function Ot(d){if(wo(d),d.G==3){var y=d.U++,E=fn(d.I);if(Xe(E,"SID",d.K),Xe(E,"RID",y),Xe(E,"TYPE","terminate"),Wr(d,E),y=new Bn(d,d.j,y),y.L=2,y.v=_i(fn(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.v,E=!0),E||(y.g=Fu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Je(y)}$u(d)}function Gn(d){d.g&&(Ja(d),d.g.cancel(),d.g=null)}function wo(d){Gn(d),d.u&&(c.clearTimeout(d.u),d.u=null),Co(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function fr(d){if(!hn(d.h)&&!d.s){d.s=!0;var y=d.Ga;ge||ee(),q||(ge(),q=!0),ie.add(y,d),d.B=0}}function lh(d,y){return wu(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Vn(w(d.Ga,d,y),bu(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const W=new Bn(this,this.j,d);let Y=this.o;if(this.S&&(Y?(Y=R(Y),O(Y,this.S)):Y=this.S),this.m!==null||this.O||(W.H=Y,Y=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var P=this.i[E];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(y+=P,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Ti(this,W,y),E=fn(this.I),Xe(E,"RID",d),Xe(E,"CVER",22),this.D&&Xe(E,"X-HTTP-Session-Id",this.D),Wr(this,E),Y&&(this.O?y="headers="+encodeURIComponent(String(zr(Y)))+"&"+y:this.m&&Si(E,this.m,Y)),qa(this.h,W),this.Ua&&Xe(E,"TYPE","init"),this.P?(Xe(E,"$req",y),Xe(E,"SID","null"),W.T=!0,fo(W,E,null)):fo(W,E,y),this.G=2}}else this.G==3&&(d?_o(this,d):this.i.length==0||hn(this.h)||_o(this))};function _o(d,y){var E;y?E=y.l:E=d.U++;const P=fn(d.I);Xe(P,"SID",d.K),Xe(P,"RID",E),Xe(P,"AID",d.T),Wr(d,P),d.m&&d.o&&Si(P,d.m,d.o),E=new Bn(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),y&&(d.i=y.D.concat(d.i)),y=Ti(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),qa(d.h,E),fo(E,P,y)}function Wr(d,y){d.H&&ne(d.H,function(E,P){Xe(y,P,E)}),d.l&&vi({},function(E,P){Xe(y,P,E)})}function Ti(d,y,E){E=Math.min(d.i.length,E);var P=d.l?w(d.l.Na,d.l,d):null;e:{var W=d.i;let Y=-1;for(;;){const ue=["count="+E];Y==-1?0<E?(Y=W[0].g,ue.push("ofs="+Y)):Y=0:ue.push("ofs="+Y);let Ye=!0;for(let Ct=0;Ct<E;Ct++){let He=W[Ct].g;const Rt=W[Ct].map;if(He-=Y,0>He)Y=Math.max(0,W[Ct].g-100),Ye=!1;else try{Au(Rt,ue,"req"+He+"_")}catch{P&&P(Rt)}}if(Ye){P=ue.join("&");break e}}}return d=d.i.splice(0,E),y.D=d,P}function Cs(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;ge||ee(),q||(ge(),q=!0),ie.add(y,d),d.v=0}}function Eo(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Vn(w(d.Fa,d),bu(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Ru(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Vn(w(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),Gn(this),Ru(this))};function Ja(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function Ru(d){d.g=new Bn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=fn(d.qa);Xe(y,"RID","rpc"),Xe(y,"SID",d.K),Xe(y,"AID",d.T),Xe(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&Xe(y,"TO",d.ja),Xe(y,"TYPE","xmlhttp"),Wr(d,y),d.m&&d.o&&Si(y,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=_i(fn(y)),E.m=null,E.P=!0,Wa(E,d)}n.Za=function(){this.C!=null&&(this.C=null,Gn(this),Eo(this),ht(19))};function Co(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function So(d,y){var E=null;if(d.g==y){Co(d),Ja(d),d.g=null;var P=2}else if(Jt(d.h,y))E=y.D,_u(d.h,y),P=1;else return;if(d.G!=0){if(y.o)if(P==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var W=d.B;P=fs(),Et(P,new lo(P,E)),fr(d)}else Cs(d);else if(W=y.s,W==3||W==0&&0<y.X||!(P==1&&lh(d,y)||P==2&&Eo(d)))switch(E&&0<E.length&&(y=d.h,y.i=y.i.concat(E)),W){case 1:Hr(d,5);break;case 4:Hr(d,10);break;case 3:Hr(d,6);break;default:Hr(d,2)}}}function bu(d,y){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*y}function Hr(d,y){if(d.j.info("Error code "+y),y==2){var E=w(d.fb,d),P=d.Xa;const W=!P;P=new Ur(P||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ws(P,"https"),_i(P),W?sh(P.toString(),E):ku(P.toString(),E)}else ht(2);d.G=0,d.l&&d.l.sa(y),$u(d),wo(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function $u(d){if(d.G=0,d.ka=[],d.l){const y=Eu(d.h);(y.length!=0||d.i.length!=0)&&(A(d.ka,y),A(d.ka,d.i),d.h.i.length=0,I(d.i),d.i.length=0),d.l.ra()}}function Nu(d,y,E){var P=E instanceof Ur?fn(E):new Ur(E);if(P.g!="")y&&(P.g=y+"."+P.g),xi(P,P.s);else{var W=c.location;P=W.protocol,y=y?y+"."+W.hostname:W.hostname,W=+W.port;var Y=new Ur(null);P&&ws(Y,P),y&&(Y.g=y),W&&xi(Y,W),E&&(Y.l=E),P=Y}return E=d.D,y=d.ya,E&&y&&Xe(P,E,y),Xe(P,"VER",d.la),Wr(d,P),P}function Fu(d,y,E){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new rt(new Br({eb:E})):new rt(d.pa),y.Ha(d.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Za(){}n=Za.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function To(){}To.prototype.g=function(d,y){return new Zt(d,y)};function Zt(d,y){_t.call(this),this.g=new Xa(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!D(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new pr(this)}k(Zt,_t),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){Ot(this.g)},Zt.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=Oa(d),d=E);y.i.push(new xu(y.Ya++,d)),y.G==3&&fr(y)},Zt.prototype.N=function(){this.g.l=null,delete this.j,Ot(this.g),delete this.g,Zt.aa.N.call(this)};function Lu(d){lr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const E in y){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}k(Lu,lr);function Ou(){ao.call(this),this.status=1}k(Ou,ao);function pr(d){this.g=d}k(pr,Za),pr.prototype.ua=function(){Et(this.g,"a")},pr.prototype.ta=function(d){Et(this.g,new Lu(d))},pr.prototype.sa=function(d){Et(this.g,new Ou)},pr.prototype.ra=function(){Et(this.g,"b")},To.prototype.createWebChannel=To.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,S0=function(){return new To},C0=function(){return fs()},E0=ur,mp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},co.NO_ERROR=0,co.TIMEOUT=8,co.HTTP_ERROR=6,Yc=co,mu.COMPLETE="complete",_0=mu,oo.EventType=Tn,Tn.OPEN="a",Tn.CLOSE="b",Tn.ERROR="c",Tn.MESSAGE="d",_t.prototype.listen=_t.prototype.K,Rl=oo,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,w0=rt}).apply(typeof $c<"u"?$c:typeof self<"u"?self:typeof window<"u"?window:{});const Yv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ea="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new Qp("@firebase/firestore");function Yo(){return Ws.logLevel}function he(n,...e){if(Ws.logLevel<=je.DEBUG){const t=e.map(lm);Ws.debug(`Firestore (${Ea}): ${n}`,...t)}}function ui(n,...e){if(Ws.logLevel<=je.ERROR){const t=e.map(lm);Ws.error(`Firestore (${Ea}): ${n}`,...t)}}function ua(n,...e){if(Ws.logLevel<=je.WARN){const t=e.map(lm);Ws.warn(`Firestore (${Ea}): ${n}`,...t)}}function lm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(n="Unexpected state"){const e=`FIRESTORE (${Ea}) INTERNAL ASSERTION FAILED: `+n;throw ui(e),new Error(e)}function Qe(n,e){n||be()}function Le(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends mi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kt.UNAUTHENTICATED))}shutdown(){}}class tP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class nP{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0);let r=this.i;const o=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let a=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Xi,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await o(this.currentUser)})},c=h=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Xi)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string"),new T0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new Kt(e)}}class rP{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class iP{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new rP(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Qe(this.o===void 0);const r=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,he("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const o=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Qe(typeof t.token=="string"),this.R=t.token,new sP(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=aP(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%e.length))}return r}}function We(n,e){return n<e?-1:n>e?1:0}function ca(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{static now(){return kt.fromMillis(Date.now())}static fromDate(e){return kt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new kt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ce(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ce(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ce(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new kt(0,0))}static max(){return new Ne(new kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,t,r){t===void 0?t=0:t>e.length&&be(),r===void 0?r=e.length-t:r>e.length-t&&be(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Bl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=e.get(o),u=t.get(o);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class st extends Bl{construct(e,t,r){return new st(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ce(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new st(t)}static emptyPath(){return new st([])}}const lP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends Bl{construct(e,t,r){return new jt(e,t,r)}static isValidIdentifier(e){return lP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new jt(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new Ce(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const c=e[o];if(c==="\\"){if(o+1===e.length)throw new Ce(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[o+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ce(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,o+=2}else c==="`"?(u=!u,o++):c!=="."||u?(r+=c,o++):(a(),o++)}if(a(),u)throw new Ce(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(t)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(st.fromString(e))}static fromName(e){return new ke(st.fromString(e).popFirst(5))}static empty(){return new ke(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new st(e.slice()))}}function uP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(r===1e9?new kt(t+1,0):new kt(t,r));return new es(o,ke.empty(),e)}function cP(n){return new es(n.readTime,n.key,-1)}class es{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new es(Ne.min(),ke.empty(),-1)}static max(){return new es(Ne.max(),ke.empty(),-1)}}function dP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ke.comparator(n.documentKey,e.documentKey),t!==0?t:We(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==hP)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,r)=>{t(e)})}static reject(e){return new Z((t,r)=>{r(e)})}static waitFor(e){return new Z((t,r)=>{let o=0,a=0,u=!1;e.forEach(c=>{++o,c.next(()=>{++a,u&&a===o&&t()},h=>r(h))}),u=!0,a===o&&t()})}static or(e){let t=Z.resolve(!1);for(const r of e)t=t.next(o=>o?Z.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,a)=>{r.push(t.call(this,o,a))}),this.waitFor(r)}static mapArray(e,t){return new Z((r,o)=>{const a=e.length,u=new Array(a);let c=0;for(let h=0;h<a;h++){const p=h;t(e[p]).next(g=>{u[p]=g,++c,c===a&&r(u)},g=>o(g))}})}static doWhile(e,t){return new Z((r,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):r()};a()})}}function pP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Sa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ld.oe=-1;function Od(n){return n==null}function fd(n){return n===0&&1/n==-1/0}function mP(n){return typeof n=="number"&&Number.isInteger(n)&&!fd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Xv(e)),e=yP(n.get(t),e);return Xv(e)}function yP(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function Xv(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ys(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function k0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this.comparator=e,this.root=t||Vt.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nc(this.root,e,this.comparator,!0)}}class Nc{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??Vt.RED,this.left=o??Vt.EMPTY,this.right=a??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new Vt(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Vt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1;Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,t,r,o,a){return this}insert(e,t,r){return new Vt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zv(this.data.getIterator())}getIteratorFrom(e){return new Zv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new At(this.comparator);return t.data=e,t}}class Zv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new nr([])}unionWith(e){let t=new At(jt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new nr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ca(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new A0("Invalid base64 string: "+a):a}}(e);return new Ut(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new Ut(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const vP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(n){if(Qe(!!n),typeof n=="string"){let e=0;const t=vP.exec(n);if(Qe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pt(n.seconds),nanos:pt(n.nanos)}}function pt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ns(n){return typeof n=="string"?Ut.fromBase64String(n):Ut.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Dd(n){const e=n.mapValue.fields.__previous_value__;return um(e)?Dd(e):e}function zl(n){const e=ts(n.mapValue.fields.__local_write_time__.timestampValue);return new kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,t,r,o,a,u,c,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=p}}class Wl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc={mapValue:{}};function rs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?um(n)?4:_P(n)?9007199254740991:wP(n)?10:11:be()}function Pr(n,e){if(n===e)return!0;const t=rs(n);if(t!==rs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return zl(n).isEqual(zl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=ts(o.timestampValue),c=ts(a.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return ns(o.bytesValue).isEqual(ns(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return pt(o.geoPointValue.latitude)===pt(a.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return pt(o.integerValue)===pt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=pt(o.doubleValue),c=pt(a.doubleValue);return u===c?fd(u)===fd(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return ca(n.arrayValue.values||[],e.arrayValue.values||[],Pr);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},c=a.mapValue.fields||{};if(Jv(u)!==Jv(c))return!1;for(const h in u)if(u.hasOwnProperty(h)&&(c[h]===void 0||!Pr(u[h],c[h])))return!1;return!0}(n,e);default:return be()}}function Hl(n,e){return(n.values||[]).find(t=>Pr(t,e))!==void 0}function da(n,e){if(n===e)return 0;const t=rs(n),r=rs(e);if(t!==r)return We(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return We(n.booleanValue,e.booleanValue);case 2:return function(a,u){const c=pt(a.integerValue||a.doubleValue),h=pt(u.integerValue||u.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return ex(n.timestampValue,e.timestampValue);case 4:return ex(zl(n),zl(e));case 5:return We(n.stringValue,e.stringValue);case 6:return function(a,u){const c=ns(a),h=ns(u);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const c=a.split("/"),h=u.split("/");for(let p=0;p<c.length&&p<h.length;p++){const g=We(c[p],h[p]);if(g!==0)return g}return We(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const c=We(pt(a.latitude),pt(u.latitude));return c!==0?c:We(pt(a.longitude),pt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return tx(n.arrayValue,e.arrayValue);case 10:return function(a,u){var c,h,p,g;const x=a.fields||{},w=u.fields||{},C=(c=x.value)===null||c===void 0?void 0:c.arrayValue,k=(h=w.value)===null||h===void 0?void 0:h.arrayValue,I=We(((p=C==null?void 0:C.values)===null||p===void 0?void 0:p.length)||0,((g=k==null?void 0:k.values)===null||g===void 0?void 0:g.length)||0);return I!==0?I:tx(C,k)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Fc.mapValue&&u===Fc.mapValue)return 0;if(a===Fc.mapValue)return 1;if(u===Fc.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),p=u.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let x=0;x<h.length&&x<g.length;++x){const w=We(h[x],g[x]);if(w!==0)return w;const C=da(c[h[x]],p[g[x]]);if(C!==0)return C}return We(h.length,g.length)}(n.mapValue,e.mapValue);default:throw be()}}function ex(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return We(n,e);const t=ts(n),r=ts(e),o=We(t.seconds,r.seconds);return o!==0?o:We(t.nanos,r.nanos)}function tx(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=da(t[o],r[o]);if(a)return a}return We(t.length,r.length)}function ha(n){return gp(n)}function gp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=ts(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ns(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ke.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=gp(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${gp(t.fields[u])}`;return o+"}"}(n.mapValue):be()}function Xc(n){switch(rs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dd(n);return e?16+Xc(e):16;case 5:return 2*n.stringValue.length;case 6:return ns(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,a)=>o+Xc(a),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return Ys(r.fields,(a,u)=>{o+=a.length+Xc(u)}),o}(n.mapValue);default:throw be()}}function yp(n){return!!n&&"integerValue"in n}function cm(n){return!!n&&"arrayValue"in n}function nx(n){return!!n&&"nullValue"in n}function rx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Jc(n){return!!n&&"mapValue"in n}function wP(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ll(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ys(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ll(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ll(n.arrayValue.values[t]);return e}return Object.assign({},n)}function _P(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Jc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(t)}setAll(e){let t=jt.emptyPath(),r={},o=[];e.forEach((u,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,r,o),r={},o=[],t=c.popLast()}u?r[c.lastSegment()]=Ll(u):o.push(c.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());Jc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Jc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Ys(t,(o,a)=>e[o]=a);for(const o of r)delete e[o]}clone(){return new Ln(Ll(this.value))}}function P0(n){const e=[];return Ys(n.fields,(t,r)=>{const o=new jt([t]);if(Jc(r)){const a=P0(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new nr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,t,r,o,a,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=c}static newInvalidDocument(e){return new Yt(e,0,Ne.min(),Ne.min(),Ne.min(),Ln.empty(),0)}static newFoundDocument(e,t,r,o){return new Yt(e,1,t,Ne.min(),r,o,0)}static newNoDocument(e,t){return new Yt(e,2,t,Ne.min(),Ne.min(),Ln.empty(),0)}static newUnknownDocument(e,t){return new Yt(e,3,t,Ne.min(),Ne.min(),Ln.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,t){this.position=e,this.inclusive=t}}function ix(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=ke.comparator(ke.fromName(u.referenceValue),t.key):r=da(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function sx(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Pr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,t="asc"){this.field=e,this.dir=t}}function EP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{}class It extends R0{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new SP(e,t,r):t==="array-contains"?new kP(e,r):t==="in"?new AP(e,r):t==="not-in"?new PP(e,r):t==="array-contains-any"?new RP(e,r):new It(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new TP(e,r):new IP(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(da(t,this.value)):t!==null&&rs(this.value)===rs(t)&&this.matchesComparison(da(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rr extends R0{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Rr(e,t)}matches(e){return b0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function b0(n){return n.op==="and"}function $0(n){return CP(n)&&b0(n)}function CP(n){for(const e of n.filters)if(e instanceof Rr)return!1;return!0}function vp(n){if(n instanceof It)return n.field.canonicalString()+n.op.toString()+ha(n.value);if($0(n))return n.filters.map(e=>vp(e)).join(",");{const e=n.filters.map(t=>vp(t)).join(",");return`${n.op}(${e})`}}function N0(n,e){return n instanceof It?function(r,o){return o instanceof It&&r.op===o.op&&r.field.isEqual(o.field)&&Pr(r.value,o.value)}(n,e):n instanceof Rr?function(r,o){return o instanceof Rr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,u,c)=>a&&N0(u,o.filters[c]),!0):!1}(n,e):void be()}function F0(n){return n instanceof It?function(t){return`${t.field.canonicalString()} ${t.op} ${ha(t.value)}`}(n):n instanceof Rr?function(t){return t.op.toString()+" {"+t.getFilters().map(F0).join(" ,")+"}"}(n):"Filter"}class SP extends It{constructor(e,t,r){super(e,t,r),this.key=ke.fromName(r.referenceValue)}matches(e){const t=ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class TP extends It{constructor(e,t){super(e,"in",t),this.keys=L0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class IP extends It{constructor(e,t){super(e,"not-in",t),this.keys=L0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function L0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ke.fromName(r.referenceValue))}class kP extends It{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cm(t)&&Hl(t.arrayValue,this.value)}}class AP extends It{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Hl(this.value.arrayValue,t)}}class PP extends It{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Hl(this.value.arrayValue,t)}}class RP extends It{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Hl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,t=null,r=[],o=[],a=null,u=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=c,this.ue=null}}function ox(n,e=null,t=[],r=[],o=null,a=null,u=null){return new bP(n,e,t,r,o,a,u)}function dm(n){const e=Le(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>vp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Od(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ha(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ha(r)).join(",")),e.ue=t}return e.ue}function hm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!EP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!N0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!sx(n.startAt,e.startAt)&&sx(n.endAt,e.endAt)}function xp(n){return ke.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,t=null,r=[],o=[],a=null,u="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=c,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function $P(n,e,t,r,o,a,u,c){return new Md(n,e,t,r,o,a,u,c)}function fm(n){return new Md(n)}function ax(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function NP(n){return n.collectionGroup!==null}function Ol(n){const e=Le(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new At(jt.comparator);return u.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new md(a,r))}),t.has(jt.keyField().canonicalString())||e.ce.push(new md(jt.keyField(),r))}return e.ce}function Sr(n){const e=Le(n);return e.le||(e.le=FP(e,Ol(n))),e.le}function FP(n,e){if(n.limitType==="F")return ox(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new md(o.field,a)});const t=n.endAt?new pd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new pd(n.startAt.position,n.startAt.inclusive):null;return ox(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function wp(n,e,t){return new Md(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Vd(n,e){return hm(Sr(n),Sr(e))&&n.limitType===e.limitType}function O0(n){return`${dm(Sr(n))}|lt:${n.limitType}`}function Xo(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>F0(o)).join(", ")}]`),Od(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>ha(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>ha(o)).join(",")),`Target(${r})`}(Sr(n))}; limitType=${n.limitType})`}function jd(n,e){return e.isFoundDocument()&&function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ke.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,o){for(const a of Ol(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(r,o){return!(r.startAt&&!function(u,c,h){const p=ix(u,c,h);return u.inclusive?p<=0:p<0}(r.startAt,Ol(r),o)||r.endAt&&!function(u,c,h){const p=ix(u,c,h);return u.inclusive?p>=0:p>0}(r.endAt,Ol(r),o))}(n,e)}function LP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function D0(n){return(e,t)=>{let r=!1;for(const o of Ol(n)){const a=OP(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function OP(n,e,t){const r=n.field.isKeyField()?ke.comparator(e.key,t.key):function(a,u,c){const h=u.data.field(a),p=c.data.field(a);return h!==null&&p!==null?da(h,p):be()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ys(this.inner,(t,r)=>{for(const[o,a]of r)e(o,a)})}isEmpty(){return k0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=new ut(ke.comparator);function ci(){return DP}const M0=new ut(ke.comparator);function bl(...n){let e=M0;for(const t of n)e=e.insert(t.key,t);return e}function V0(n){let e=M0;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Vs(){return Dl()}function j0(){return Dl()}function Dl(){return new Xs(n=>n.toString(),(n,e)=>n.isEqual(e))}const MP=new ut(ke.comparator),VP=new At(ke.comparator);function Ue(...n){let e=VP;for(const t of n)e=e.add(t);return e}const jP=new At(We);function UP(){return jP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fd(e)?"-0":e}}function U0(n){return{integerValue:""+n}}function BP(n,e){return mP(e)?U0(e):pm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(){this._=void 0}}function zP(n,e,t){return n instanceof ql?function(o,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&um(a)&&(a=Dd(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):n instanceof Gl?z0(n,e):n instanceof Kl?W0(n,e):function(o,a){const u=B0(o,a),c=lx(u)+lx(o.Pe);return yp(u)&&yp(o.Pe)?U0(c):pm(o.serializer,c)}(n,e)}function WP(n,e,t){return n instanceof Gl?z0(n,e):n instanceof Kl?W0(n,e):t}function B0(n,e){return n instanceof gd?function(r){return yp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class ql extends Ud{}class Gl extends Ud{constructor(e){super(),this.elements=e}}function z0(n,e){const t=H0(e);for(const r of n.elements)t.some(o=>Pr(o,r))||t.push(r);return{arrayValue:{values:t}}}class Kl extends Ud{constructor(e){super(),this.elements=e}}function W0(n,e){let t=H0(e);for(const r of n.elements)t=t.filter(o=>!Pr(o,r));return{arrayValue:{values:t}}}class gd extends Ud{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function lx(n){return pt(n.integerValue||n.doubleValue)}function H0(n){return cm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,t){this.field=e,this.transform=t}}function qP(n,e){return n.field.isEqual(e.field)&&function(r,o){return r instanceof Gl&&o instanceof Gl||r instanceof Kl&&o instanceof Kl?ca(r.elements,o.elements,Pr):r instanceof gd&&o instanceof gd?Pr(r.Pe,o.Pe):r instanceof ql&&o instanceof ql}(n.transform,e.transform)}class GP{constructor(e,t){this.version=e,this.transformResults=t}}class Tr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Tr}static exists(e){return new Tr(void 0,e)}static updateTime(e){return new Tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Bd{}function q0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new K0(n.key,Tr.none()):new au(n.key,n.data,Tr.none());{const t=n.data,r=Ln.empty();let o=new At(jt.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new Js(n.key,r,new nr(o.toArray()),Tr.none())}}function KP(n,e,t){n instanceof au?function(o,a,u){const c=o.value.clone(),h=cx(o.fieldTransforms,a,u.transformResults);c.setAll(h),a.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Js?function(o,a,u){if(!Zc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const c=cx(o.fieldTransforms,a,u.transformResults),h=a.data;h.setAll(G0(o)),h.setAll(c),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Ml(n,e,t,r){return n instanceof au?function(a,u,c,h){if(!Zc(a.precondition,u))return c;const p=a.value.clone(),g=dx(a.fieldTransforms,h,u);return p.setAll(g),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Js?function(a,u,c,h){if(!Zc(a.precondition,u))return c;const p=dx(a.fieldTransforms,h,u),g=u.data;return g.setAll(G0(a)),g.setAll(p),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(x=>x.field))}(n,e,t,r):function(a,u,c){return Zc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c}(n,e,t)}function QP(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=B0(r.transform,o||null);a!=null&&(t===null&&(t=Ln.empty()),t.set(r.field,a))}return t||null}function ux(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ca(r,o,(a,u)=>qP(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class au extends Bd{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Js extends Bd{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function G0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function cx(n,e,t){const r=new Map;Qe(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,c=e.data.field(a.field);r.set(a.field,WP(u,c,t[o]))}return r}function dx(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,zP(a,u,e))}return r}class K0 extends Bd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YP extends Bd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&KP(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ml(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ml(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=j0();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let c=this.applyToLocalView(u,a.mutatedFields);c=t.has(o.key)?null:c;const h=q0(u,c);h!==null&&r.set(o.key,h),u.isValidDocument()||u.convertToNoDocument(Ne.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&ca(this.mutations,e.mutations,(t,r)=>ux(t,r))&&ca(this.baseMutations,e.baseMutations,(t,r)=>ux(t,r))}}class mm{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Qe(e.mutations.length===r.length);let o=function(){return MP}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new mm(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,qe;function eR(n){switch(n){default:return be();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0}}function Q0(n){if(n===void 0)return ui("GRPC error has no .code"),oe.UNKNOWN;switch(n){case vt.OK:return oe.OK;case vt.CANCELLED:return oe.CANCELLED;case vt.UNKNOWN:return oe.UNKNOWN;case vt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case vt.INTERNAL:return oe.INTERNAL;case vt.UNAVAILABLE:return oe.UNAVAILABLE;case vt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case vt.NOT_FOUND:return oe.NOT_FOUND;case vt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case vt.ABORTED:return oe.ABORTED;case vt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case vt.DATA_LOSS:return oe.DATA_LOSS;default:return be()}}(qe=vt||(vt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=new Us([4294967295,4294967295],0);function hx(n){const e=tR().encode(n),t=new x0;return t.update(e),new Uint8Array(t.digest())}function fx(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Us([t,r],0),new Us([o,a],0)]}class gm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new $l(`Invalid padding: ${t}`);if(r<0)throw new $l(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $l(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new $l(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Us.fromNumber(this.Te)}Ee(e,t,r){let o=e.add(t.multiply(Us.fromNumber(r)));return o.compare(nR)===1&&(o=new Us([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=hx(e),[r,o]=fx(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,o,a);if(!this.de(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new gm(a,o,t);return r.forEach(c=>u.insert(c)),u}insert(e){if(this.Te===0)return;const t=hx(e),[r,o]=fx(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,o,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new zd(Ne.min(),o,new ut(We),ci(),Ue())}}class lu{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new lu(r,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,t,r,o){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=o}}class Y0{constructor(e,t){this.targetId=e,this.me=t}}class X0{constructor(e,t,r=Ut.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class px{constructor(){this.fe=0,this.ge=mx(),this.pe=Ut.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ue(),t=Ue(),r=Ue();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:be()}}),new lu(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=mx()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class rR{constructor(e){this.Le=e,this.Be=new Map,this.ke=ci(),this.qe=Lc(),this.Qe=Lc(),this.Ke=new ut(We)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:be()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,r=e.me.count,o=this.Ye(t);if(o){const a=o.target;if(xp(a))if(r===0){const u=new ke(a.path);this.We(t,u,Yt.newNoDocument(u,Ne.min()))}else Qe(r===1);else{const u=this.Ze(t);if(u!==r){const c=this.Xe(e),h=c?this.et(c,e,u):1;if(h!==0){this.He(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,p)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,c;try{u=ns(r).toUint8Array()}catch(h){if(h instanceof A0)return ua("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new gm(u,o,a)}catch(h){return ua(h instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Te===0?null:c}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let o=0;return r.forEach(a=>{const u=this.Le.nt(),c=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.We(t,a,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((a,u)=>{const c=this.Ye(u);if(c){if(a.current&&xp(c.target)){const h=new ke(c.target.path);this.st(h).has(u)||this.ot(u,h)||this.We(u,h,Yt.newNoDocument(h,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let r=Ue();this.Qe.forEach((a,u)=>{let c=!0;u.forEachWhile(h=>{const p=this.Ye(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const o=new zd(e,t,this.Ke,this.ke,r);return this.ke=ci(),this.qe=Lc(),this.Qe=Lc(),this.Ke=new ut(We),o}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new px,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new At(We),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new At(We),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new px),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Lc(){return new ut(ke.comparator)}function mx(){return new ut(ke.comparator)}const iR={asc:"ASCENDING",desc:"DESCENDING"},sR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oR={and:"AND",or:"OR"};class aR{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _p(n,e){return n.useProto3Json||Od(e)?e:{value:e}}function yd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function J0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function lR(n,e){return yd(n,e.toTimestamp())}function Ir(n){return Qe(!!n),Ne.fromTimestamp(function(t){const r=ts(t);return new kt(r.seconds,r.nanos)}(n))}function ym(n,e){return Ep(n,e).canonicalString()}function Ep(n,e){const t=function(o){return new st(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Z0(n){const e=st.fromString(n);return Qe(i_(e)),e}function Cp(n,e){return ym(n.databaseId,e.path)}function zf(n,e){const t=Z0(e);if(t.get(1)!==n.databaseId.projectId)throw new Ce(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ce(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ke(t_(t))}function e_(n,e){return ym(n.databaseId,e)}function uR(n){const e=Z0(n);return e.length===4?st.emptyPath():t_(e)}function Sp(n){return new st(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function t_(n){return Qe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function gx(n,e,t){return{name:Cp(n,e),fields:t.value.mapValue.fields}}function cR(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(Qe(g===void 0||typeof g=="string"),Ut.fromBase64String(g||"")):(Qe(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Ut.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,c=u&&function(p){const g=p.code===void 0?oe.UNKNOWN:Q0(p.code);return new Ce(g,p.message||"")}(u);t=new X0(r,o,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=zf(n,r.document.name),a=Ir(r.document.updateTime),u=r.document.createTime?Ir(r.document.createTime):Ne.min(),c=new Ln({mapValue:{fields:r.document.fields}}),h=Yt.newFoundDocument(o,a,u,c),p=r.targetIds||[],g=r.removedTargetIds||[];t=new ed(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=zf(n,r.document),a=r.readTime?Ir(r.readTime):Ne.min(),u=Yt.newNoDocument(o,a),c=r.removedTargetIds||[];t=new ed([],c,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=zf(n,r.document),a=r.removedTargetIds||[];t=new ed([],a,o,null)}else{if(!("filter"in e))return be();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new ZP(o,a),c=r.targetId;t=new Y0(c,u)}}return t}function dR(n,e){let t;if(e instanceof au)t={update:gx(n,e.key,e.value)};else if(e instanceof K0)t={delete:Cp(n,e.key)};else if(e instanceof Js)t={update:gx(n,e.key,e.data),updateMask:wR(e.fieldMask)};else{if(!(e instanceof YP))return be();t={verify:Cp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const c=u.transform;if(c instanceof ql)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Gl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Kl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof gd)return{fieldPath:u.field.canonicalString(),increment:c.Pe};throw be()}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:lR(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:be()}(n,e.precondition)),t}function hR(n,e){return n&&n.length>0?(Qe(e!==void 0),n.map(t=>function(o,a){let u=o.updateTime?Ir(o.updateTime):Ir(a);return u.isEqual(Ne.min())&&(u=Ir(a)),new GP(u,o.transformResults||[])}(t,e))):[]}function fR(n,e){return{documents:[e_(n,e.path)]}}function pR(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=e_(n,o);const a=function(p){if(p.length!==0)return r_(Rr.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(g=>function(w){return{field:Jo(w.field),direction:yR(w.dir)}}(g))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=_p(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:t,parent:o}}function mR(n){let e=uR(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Qe(r===1);const g=t.from[0];g.allDescendants?o=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=function(x){const w=n_(x);return w instanceof Rr&&$0(w)?w.getFilters():[w]}(t.where));let u=[];t.orderBy&&(u=function(x){return x.map(w=>function(k){return new md(Zo(k.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(w))}(t.orderBy));let c=null;t.limit&&(c=function(x){let w;return w=typeof x=="object"?x.value:x,Od(w)?null:w}(t.limit));let h=null;t.startAt&&(h=function(x){const w=!!x.before,C=x.values||[];return new pd(C,w)}(t.startAt));let p=null;return t.endAt&&(p=function(x){const w=!x.before,C=x.values||[];return new pd(C,w)}(t.endAt)),$P(e,o,u,a,c,"F",h,p)}function gR(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function n_(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Zo(t.unaryFilter.field);return It.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Zo(t.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Zo(t.unaryFilter.field);return It.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Zo(t.unaryFilter.field);return It.create(u,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(n):n.fieldFilter!==void 0?function(t){return It.create(Zo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Rr.create(t.compositeFilter.filters.map(r=>n_(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be()}}(t.compositeFilter.op))}(n):be()}function yR(n){return iR[n]}function vR(n){return sR[n]}function xR(n){return oR[n]}function Jo(n){return{fieldPath:n.canonicalString()}}function Zo(n){return jt.fromServerFormat(n.fieldPath)}function r_(n){return n instanceof It?function(t){if(t.op==="=="){if(rx(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NAN"}};if(nx(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(rx(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NOT_NAN"}};if(nx(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(t.field),op:vR(t.op),value:t.value}}}(n):n instanceof Rr?function(t){const r=t.getFilters().map(o=>r_(o));return r.length===1?r[0]:{compositeFilter:{op:xR(t.op),filters:r}}}(n):be()}function wR(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function i_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,t,r,o,a=Ne.min(),u=Ne.min(),c=Ut.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.ht=e}}function ER(n){const e=mR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?wp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(){this.ln=new SR}addToCollectionParentIndex(e,t){return this.ln.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(es.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(es.min())}updateCollectionGroup(e,t,r){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class SR{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new At(st.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new At(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(41943040,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new fa(0)}static Qn(){return new fa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx([n,e],[t,r]){const o=We(n,t);return o===0?We(e,r):o}class TR{constructor(e){this.Gn=e,this.buffer=new At(vx),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();vx(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class IR{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){he("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Sa(t)?he("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Ca(t)}await this.Yn(3e5)})}}class kR{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(Ld.oe);const r=new TR(t);return this.Zn.forEachTarget(e,o=>r.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>r.Hn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(yx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yx):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,o,a,u,c,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,u=Date.now(),this.nthSequenceNumber(e,o))).next(x=>(r=x,c=Date.now(),this.removeTargets(e,r,t))).next(x=>(a=x,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(p=Date.now(),Yo()<=je.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${o} in `+(c-u)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${x} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:x})))}}function AR(n,e){return new kR(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.changes=new Xs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&Ml(r.mutation,o,nr.empty(),kt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ue()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ue()){const o=Vs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(a=>{let u=bl();return a.forEach((c,h)=>{u=u.insert(c,h.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Vs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ue()))}populateOverlays(e,t,r){const o=[];return r.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,c)=>{t.set(u,c)})})}computeViews(e,t,r,o){let a=ci();const u=Dl(),c=function(){return Dl()}();return t.forEach((h,p)=>{const g=r.get(p.key);o.has(p.key)&&(g===void 0||g.mutation instanceof Js)?a=a.insert(p.key,p):g!==void 0?(u.set(p.key,g.mutation.getFieldMask()),Ml(g.mutation,p,g.mutation.getFieldMask(),kt.now())):u.set(p.key,nr.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((p,g)=>u.set(p,g)),t.forEach((p,g)=>{var x;return c.set(p,new RR(g,(x=u.get(p))!==null&&x!==void 0?x:null))}),c))}recalculateAndSaveOverlays(e,t){const r=Dl();let o=new ut((u,c)=>u-c),a=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const c of u)c.keys().forEach(h=>{const p=t.get(h);if(p===null)return;let g=r.get(h)||nr.empty();g=c.applyToLocalView(p,g),r.set(h,g);const x=(o.get(c.batchId)||Ue()).add(h);o=o.insert(c.batchId,x)})}).next(()=>{const u=[],c=o.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),p=h.key,g=h.value,x=j0();g.forEach(w=>{if(!a.has(w)){const C=q0(t.get(w),r.get(w));C!==null&&x.set(w,C),a=a.add(w)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,x))}return Z.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(u){return ke.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):NP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):Z.resolve(Vs());let c=-1,h=a;return u.next(p=>Z.forEach(p,(g,x)=>(c<x.largestBatchId&&(c=x.largestBatchId),a.get(g)?Z.resolve():this.remoteDocumentCache.getEntry(e,g).next(w=>{h=h.insert(g,w)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,h,p,Ue())).next(g=>({batchId:c,changes:V0(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ke(t)).next(r=>{let o=bl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=bl();return this.indexManager.getCollectionParents(e,a).next(c=>Z.forEach(c,h=>{const p=function(x,w){return new Md(w,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,o).next(g=>{g.forEach((x,w)=>{u=u.insert(x,w)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o))).next(u=>{a.forEach((h,p)=>{const g=p.getKey();u.get(g)===null&&(u=u.insert(g,Yt.newInvalidDocument(g)))});let c=bl();return u.forEach((h,p)=>{const g=a.get(h);g!==void 0&&Ml(g.mutation,p,nr.empty(),kt.now()),jd(t,p)&&(c=c.insert(h,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Z.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Ir(o.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:ER(o.bundledQuery),readTime:Ir(o.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.overlays=new ut(ke.comparator),this.Er=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Vs();return Z.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&r.set(o,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,a)=>{this.Tt(e,t,a)}),Z.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Er.get(r);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(r)),Z.resolve()}getOverlaysForCollection(e,t,r){const o=Vs(),a=t.length+1,u=new ke(t.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const h=c.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&h.largestBatchId>r&&o.set(h.getKey(),h)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new ut((p,g)=>p-g);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=Vs(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=Vs(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,g)=>c.set(p,g)),!(c.size()>=o)););return Z.resolve(c)}Tt(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.Er.get(o.largestBatchId).delete(r.key);this.Er.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new JP(t,r));let a=this.Er.get(t);a===void 0&&(a=Ue(),this.Er.set(t,a)),this.Er.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(){this.dr=new At(Ft.Ar),this.Rr=new At(Ft.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const r=new Ft(e,t);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new Ft(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new ke(new st([])),r=new Ft(t,e),o=new Ft(t,e+1),a=[];return this.Rr.forEachInRange([r,o],u=>{this.gr(u),a.push(u.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new ke(new st([])),r=new Ft(t,e),o=new Ft(t,e+1);let a=Ue();return this.Rr.forEachInRange([r,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Ft(e,0),r=this.dr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ft{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ke.comparator(e.key,t.key)||We(e.br,t.br)}static Vr(e,t){return We(e.br,t.br)||ke.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new At(Ft.Ar)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new XP(a,t,r,o);this.mutationQueue.push(u);for(const c of o)this.vr=this.vr.add(new Ft(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Z.resolve(u)}lookupMutationBatch(e,t){return Z.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Fr(r),a=o<0?0:o;return Z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ft(t,0),o=new Ft(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([r,o],u=>{const c=this.Cr(u.br);a.push(c)}),Z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new At(We);return t.forEach(o=>{const a=new Ft(o,0),u=new Ft(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,u],c=>{r=r.add(c.br)})}),Z.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;ke.isDocumentKey(a)||(a=a.child(""));const u=new Ft(new ke(a),0);let c=new At(We);return this.vr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(c=c.add(h.br)),!0)},u),Z.resolve(this.Mr(c))}Mr(e){const t=[];return e.forEach(r=>{const o=this.Cr(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Qe(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return Z.forEach(t.mutations,o=>{const a=new Ft(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,t){const r=new Ft(t,0),o=this.vr.firstAfterOrEqual(r);return Z.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.Nr=e,this.docs=function(){return new ut(ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Z.resolve(r?r.document.mutableCopy():Yt.newInvalidDocument(t))}getEntries(e,t){let r=ci();return t.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():Yt.newInvalidDocument(o))}),Z.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=ci();const u=t.path,c=new ke(u.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||dP(cP(g),r)<=0||(o.has(g.key)||jd(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return Z.resolve(a)}getAllFromCollectionGroup(e,t,r,o){be()}Lr(e,t){return Z.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new DR(this)}getSize(e){return Z.resolve(this.size)}}class DR extends PR{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(r)}),Z.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.persistence=e,this.Br=new Xs(t=>dm(t),hm),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.kr=0,this.qr=new vm,this.targetCount=0,this.Qr=fa.qn()}forEachTarget(e,t){return this.Br.forEach((r,o)=>t(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),Z.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new fa(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.Un(t),Z.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.Br.forEach((u,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Br.delete(u),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),o++)}),Z.waitFor(a).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const r=this.Br.get(t)||null;return Z.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),Z.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),Z.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return Z.resolve(r)}containsKey(e,t){return Z.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Ld(0),this.Ur=!1,this.Ur=!0,this.Wr=new FR,this.referenceDelegate=e(this),this.Gr=new MR(this),this.indexManager=new CR,this.remoteDocumentCache=function(o){return new OR(o)}(r=>this.referenceDelegate.zr(r)),this.serializer=new _R(t),this.jr=new $R(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new NR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new LR(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const o=new VR(this.$r.next());return this.referenceDelegate.Hr(),r(o).next(a=>this.referenceDelegate.Jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Yr(e,t){return Z.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class VR extends fP{constructor(e){super(),this.currentSequenceNumber=e}}class xm{constructor(e){this.persistence=e,this.Zr=new vm,this.Xr=null}static ei(e){return new xm(e)}get ti(){if(this.Xr)return this.Xr;throw be()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),Z.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ti.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ti,r=>{const o=ke.fromPath(r);return this.ni(e,o).next(a=>{a||t.removeEntry(o,Ne.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Z.or([()=>Z.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class vd{constructor(e,t){this.persistence=e,this.ri=new Xs(r=>gP(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=AR(this,t)}static ei(e,t){return new vd(e,t)}Hr(){}Jr(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return Z.forEach(this.ri,(r,o)=>this.ir(e,r,o).next(a=>a?Z.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Lr(e,u=>this.ir(e,u,t).next(c=>{c||(r++,a.removeEntry(u,Ne.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Z.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Xc(e.data.value)),t}ir(e,t,r){return Z.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=o}static zi(e,t){let r=Ue(),o=Ue();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new wm(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return FI()?8:pP(Xt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.Xi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.es(e,t,o,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new jR;return this.ts(e,t,u).next(c=>{if(a.result=c,this.Hi)return this.ns(e,t,u,c.size)})}).next(()=>a.result)}ns(e,t,r,o){return r.documentReadCount<this.Ji?(Yo()<=je.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Xo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Z.resolve()):(Yo()<=je.DEBUG&&he("QueryEngine","Query:",Xo(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Yi*o?(Yo()<=je.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Xo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sr(t))):Z.resolve())}Xi(e,t){if(ax(t))return Z.resolve(null);let r=Sr(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=wp(t,null,"F"),r=Sr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Ue(...a);return this.Zi.getDocuments(e,u).next(c=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.rs(t,c);return this.ss(t,p,u,h.readTime)?this.Xi(e,wp(t,null,"F")):this.os(e,p,t,h)}))})))}es(e,t,r,o){return ax(t)||o.isEqual(Ne.min())?Z.resolve(null):this.Zi.getDocuments(e,r).next(a=>{const u=this.rs(t,a);return this.ss(t,u,r,o)?Z.resolve(null):(Yo()<=je.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Xo(t)),this.os(e,u,t,uP(o,-1)).next(c=>c))})}rs(e,t){let r=new At(D0(e));return t.forEach((o,a)=>{jd(e,a)&&(r=r.add(a))}),r}ss(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ts(e,t,r){return Yo()<=je.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Xo(t)),this.Zi.getDocumentsMatchingQuery(e,t,es.min(),r)}os(e,t,r,o){return this.Zi.getDocumentsMatchingQuery(e,r,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,t,r,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new ut(We),this.cs=new Xs(a=>dm(a),hm),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bR(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function zR(n,e,t,r){return new BR(n,e,t,r)}async function o_(n,e){const t=Le(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],c=[];let h=Ue();for(const p of o){u.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of a){c.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(r,h).next(p=>({Ts:p,removedBatchIds:u,addedBatchIds:c}))})})}function WR(n,e){const t=Le(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(c,h,p,g){const x=p.batch,w=x.keys();let C=Z.resolve();return w.forEach(k=>{C=C.next(()=>g.getEntry(h,k)).next(I=>{const A=p.docVersions.get(k);Qe(A!==null),I.version.compareTo(A)<0&&(x.applyToRemoteDocument(I,p),I.isValidDocument()&&(I.setReadTime(p.commitVersion),g.addEntry(I)))})}),C.next(()=>c.mutationQueue.removeMutationBatch(h,x))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=Ue();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function a_(n){const e=Le(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function HR(n,e){const t=Le(n),r=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const c=[];e.targetChanges.forEach((g,x)=>{const w=o.get(x);if(!w)return;c.push(t.Gr.removeMatchingKeys(a,g.removedDocuments,x).next(()=>t.Gr.addMatchingKeys(a,g.addedDocuments,x)));let C=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(x)!==null?C=C.withResumeToken(Ut.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):g.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(g.resumeToken,r)),o=o.insert(x,C),function(I,A,N){return I.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(w,C,g)&&c.push(t.Gr.updateTargetData(a,C))});let h=ci(),p=Ue();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))}),c.push(qR(a,u,e.documentUpdates).next(g=>{h=g.Is,p=g.Es})),!r.isEqual(Ne.min())){const g=t.Gr.getLastRemoteSnapshotVersion(a).next(x=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(g)}return Z.waitFor(c).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,p)).next(()=>h)}).then(a=>(t.us=o,a))}function qR(n,e,t){let r=Ue(),o=Ue();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=ci();return t.forEach((c,h)=>{const p=a.get(c);h.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(c)),h.isNoDocument()&&h.version.isEqual(Ne.min())?(e.removeEntry(c,h.readTime),u=u.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),u=u.insert(c,h)):he("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),{Is:u,Es:o}})}function GR(n,e){const t=Le(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function KR(n,e){const t=Le(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Gr.getTargetData(r,e).next(a=>a?(o=a,Z.resolve(o)):t.Gr.allocateTargetId(r).next(u=>(o=new Gi(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.us.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function Tp(n,e,t){const r=Le(n),o=r.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!Sa(u))throw u;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.us=r.us.remove(e),r.cs.delete(o.target)}function xx(n,e,t){const r=Le(n);let o=Ne.min(),a=Ue();return r.persistence.runTransaction("Execute query","readwrite",u=>function(h,p,g){const x=Le(h),w=x.cs.get(g);return w!==void 0?Z.resolve(x.us.get(w)):x.Gr.getTargetData(p,g)}(r,u,Sr(e)).next(c=>{if(c)return o=c.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(u,c.targetId).next(h=>{a=h})}).next(()=>r._s.getDocumentsMatchingQuery(u,e,t?o:Ne.min(),t?a:Ue())).next(c=>(QR(r,LP(e),c),{documents:c,ds:a})))}function QR(n,e,t){let r=n.ls.get(e)||Ne.min();t.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ls.set(e,r)}class wx{constructor(){this.activeTargetIds=UP()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YR{constructor(){this._o=new wx,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new wx,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oc=null;function Wf(){return Oc===null?Oc=function(){return 268435456+Math.round(2147483648*Math.random())}():Oc++,"0x"+Oc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="WebChannelConnection";class e2 extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${o}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}Oo(t,r,o,a,u){const c=Wf(),h=this.No(t,r.toUriEncodedString());he("RestConnection",`Sending RPC '${t}' ${c}:`,h,o);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(p,a,u),this.Bo(t,h,p,o).then(g=>(he("RestConnection",`Received RPC '${t}' ${c}: `,g),g),g=>{throw ua("RestConnection",`RPC '${t}' ${c} failed with error: `,g,"url: ",h,"request:",o),g})}ko(t,r,o,a,u,c){return this.Oo(t,r,o,a,u)}Lo(t,r,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ea}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,u)=>t[u]=a),o&&o.headers.forEach((a,u)=>t[u]=a)}No(t,r){const o=JR[t];return`${this.Fo}/v1/${r}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,r,o){const a=Wf();return new Promise((u,c)=>{const h=new w0;h.setWithCredentials(!0),h.listenOnce(_0.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Yc.NO_ERROR:const g=h.getResponseJson();he(Gt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),u(g);break;case Yc.TIMEOUT:he(Gt,`RPC '${e}' ${a} timed out`),c(new Ce(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Yc.HTTP_ERROR:const x=h.getStatus();if(he(Gt,`RPC '${e}' ${a} failed with status:`,x,"response text:",h.getResponseText()),x>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const C=w==null?void 0:w.error;if(C&&C.status&&C.message){const k=function(A){const N=A.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(N)>=0?N:oe.UNKNOWN}(C.status);c(new Ce(k,C.message))}else c(new Ce(oe.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Ce(oe.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{he(Gt,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(o);he(Gt,`RPC '${e}' ${a} sending request:`,o),h.send(t,"POST",p,r,15)})}qo(e,t,r){const o=Wf(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=S0(),c=C0(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Lo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const g=a.join("");he(Gt,`Creating RPC '${e}' stream ${o}: ${g}`,h);const x=u.createWebChannel(g,h);let w=!1,C=!1;const k=new ZR({Eo:A=>{C?he(Gt,`Not sending because RPC '${e}' stream ${o} is closed:`,A):(w||(he(Gt,`Opening RPC '${e}' stream ${o} transport.`),x.open(),w=!0),he(Gt,`RPC '${e}' stream ${o} sending:`,A),x.send(A))},Ao:()=>x.close()}),I=(A,N,D)=>{A.listen(N,z=>{try{D(z)}catch(K){setTimeout(()=>{throw K},0)}})};return I(x,Rl.EventType.OPEN,()=>{C||(he(Gt,`RPC '${e}' stream ${o} transport opened.`),k.So())}),I(x,Rl.EventType.CLOSE,()=>{C||(C=!0,he(Gt,`RPC '${e}' stream ${o} transport closed`),k.Do())}),I(x,Rl.EventType.ERROR,A=>{C||(C=!0,ua(Gt,`RPC '${e}' stream ${o} transport errored:`,A),k.Do(new Ce(oe.UNAVAILABLE,"The operation could not be completed")))}),I(x,Rl.EventType.MESSAGE,A=>{var N;if(!C){const D=A.data[0];Qe(!!D);const z=D,K=(z==null?void 0:z.error)||((N=z[0])===null||N===void 0?void 0:N.error);if(K){he(Gt,`RPC '${e}' stream ${o} received error:`,K);const X=K.status;let ne=function($){const O=vt[$];if(O!==void 0)return Q0(O)}(X),b=K.message;ne===void 0&&(ne=oe.INTERNAL,b="Unknown error status: "+X+" with message "+K.message),C=!0,k.Do(new Ce(ne,b)),x.close()}else he(Gt,`RPC '${e}' stream ${o} received:`,D),k.vo(D)}}),I(c,E0.STAT_EVENT,A=>{A.stat===mp.PROXY?he(Gt,`RPC '${e}' stream ${o} detected buffering proxy`):A.stat===mp.NOPROXY&&he(Gt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.bo()},0),k}}function Hf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(n){return new aR(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,t,r=1e3,o=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=o,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-r);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,t,r,o,a,u,c,h){this.li=e,this.Yo=r,this.Zo=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new l_(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(ui(t.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Xo===t&&this.I_(r,o)},r=>{e(()=>{const o=new Ce(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(o)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{r(()=>this.E_(o))}),this.stream.onMessage(o=>{r(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class t2 extends u_{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=cR(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ne.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ne.min():u.readTime?Ir(u.readTime):Ne.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=Sp(this.serializer),t.addTarget=function(a,u){let c;const h=u.target;if(c=xp(h)?{documents:fR(a,h)}:{query:pR(a,h).ct},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=J0(a,u.resumeToken);const p=_p(a,u.expectedCount);p!==null&&(c.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ne.min())>0){c.readTime=yd(a,u.snapshotVersion.toTimestamp());const p=_p(a,u.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=gR(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=Sp(this.serializer),t.removeTarget=e,this.c_(t)}}class n2 extends u_{constructor(e,t,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=hR(e.writeResults,e.commitTime),r=Ir(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=Sp(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>dR(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2 extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new Ce(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Oo(e,Ep(t,r),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ce(oe.UNKNOWN,a.toString())})}ko(e,t,r,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.ko(e,Ep(t,r),o,u,c,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ce(oe.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class i2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ui(t),this.C_=!1):he("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(u=>{r.enqueueAndForget(async()=>{Zs(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(h){const p=Le(h);p.k_.add(4),await uu(p),p.K_.set("Unknown"),p.k_.delete(4),await Hd(p)}(this))})}),this.K_=new i2(r,o)}}async function Hd(n){if(Zs(n))for(const e of n.q_)await e(!0)}async function uu(n){for(const e of n.q_)await e(!1)}function c_(n,e){const t=Le(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Sm(t)?Cm(t):Ta(t).s_()&&Em(t,e))}function _m(n,e){const t=Le(n),r=Ta(t);t.B_.delete(e),r.s_()&&d_(t,e),t.B_.size===0&&(r.s_()?r.a_():Zs(t)&&t.K_.set("Unknown"))}function Em(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ta(n).V_(e)}function d_(n,e){n.U_.xe(e),Ta(n).m_(e)}function Cm(n){n.U_=new rR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Ta(n).start(),n.K_.F_()}function Sm(n){return Zs(n)&&!Ta(n).i_()&&n.B_.size>0}function Zs(n){return Le(n).k_.size===0}function h_(n){n.U_=void 0}async function o2(n){n.K_.set("Online")}async function a2(n){n.B_.forEach((e,t)=>{Em(n,e)})}async function l2(n,e){h_(n),Sm(n)?(n.K_.O_(e),Cm(n)):n.K_.set("Unknown")}async function u2(n,e,t){if(n.K_.set("Online"),e instanceof X0&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const c of a.targetIds)o.B_.has(c)&&(await o.remoteSyncer.rejectListen(c,u),o.B_.delete(c),o.U_.removeTarget(c))}(n,e)}catch(r){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xd(n,r)}else if(e instanceof ed?n.U_.$e(e):e instanceof Y0?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ne.min()))try{const r=await a_(n.localStore);t.compareTo(r)>=0&&await function(a,u){const c=a.U_.it(u);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.B_.get(p);g&&a.B_.set(p,g.withResumeToken(h.resumeToken,u))}}),c.targetMismatches.forEach((h,p)=>{const g=a.B_.get(h);if(!g)return;a.B_.set(h,g.withResumeToken(Ut.EMPTY_BYTE_STRING,g.snapshotVersion)),d_(a,h);const x=new Gi(g.target,h,p,g.sequenceNumber);Em(a,x)}),a.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){he("RemoteStore","Failed to raise snapshot:",r),await xd(n,r)}}async function xd(n,e,t){if(!Sa(e))throw e;n.k_.add(1),await uu(n),n.K_.set("Offline"),t||(t=()=>a_(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Hd(n)})}function f_(n,e){return e().catch(t=>xd(n,t,e))}async function qd(n){const e=Le(n),t=is(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;c2(e);)try{const o=await GR(e.localStore,r);if(o===null){e.L_.length===0&&t.a_();break}r=o.batchId,d2(e,o)}catch(o){await xd(e,o)}p_(e)&&m_(e)}function c2(n){return Zs(n)&&n.L_.length<10}function d2(n,e){n.L_.push(e);const t=is(n);t.s_()&&t.f_&&t.g_(e.mutations)}function p_(n){return Zs(n)&&!is(n).i_()&&n.L_.length>0}function m_(n){is(n).start()}async function h2(n){is(n).w_()}async function f2(n){const e=is(n);for(const t of n.L_)e.g_(t.mutations)}async function p2(n,e,t){const r=n.L_.shift(),o=mm.from(r,e,t);await f_(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await qd(n)}async function m2(n,e){e&&is(n).f_&&await async function(r,o){if(function(u){return eR(u)&&u!==oe.ABORTED}(o.code)){const a=r.L_.shift();is(r).__(),await f_(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o)),await qd(r)}}(n,e),p_(n)&&m_(n)}async function Ex(n,e){const t=Le(n);t.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const r=Zs(t);t.k_.add(3),await uu(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Hd(t)}async function g2(n,e){const t=Le(n);e?(t.k_.delete(2),await Hd(t)):e||(t.k_.add(2),await uu(t),t.K_.set("Unknown"))}function Ta(n){return n.W_||(n.W_=function(t,r,o){const a=Le(t);return a.b_(),new t2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:o2.bind(null,n),mo:a2.bind(null,n),po:l2.bind(null,n),R_:u2.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Sm(n)?Cm(n):n.K_.set("Unknown")):(await n.W_.stop(),h_(n))})),n.W_}function is(n){return n.G_||(n.G_=function(t,r,o){const a=Le(t);return a.b_(),new n2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:h2.bind(null,n),po:m2.bind(null,n),p_:f2.bind(null,n),y_:p2.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await qd(n)):(await n.G_.stop(),n.L_.length>0&&(he("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,c=new Tm(e,t,u,o,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Im(n,e){if(ui("AsyncQueue",`${e}: ${n}`),Sa(n))return new Ce(oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{static emptySet(e){return new ra(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ke.comparator(t.key,r.key):(t,r)=>ke.comparator(t.key,r.key),this.keyedMap=bl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ra)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ra;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(){this.z_=new ut(ke.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):be():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class pa{constructor(e,t,r,o,a,u,c,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach(c=>{u.push({type:0,doc:c})}),new pa(e,t,ra.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class v2{constructor(){this.queries=Sx(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const o=Le(t),a=o.queries;o.queries=Sx(),a.forEach((u,c)=>{for(const h of c.J_)h.onError(r)})})(this,new Ce(oe.ABORTED,"Firestore shutting down"))}}function Sx(){return new Xs(n=>O0(n),Vd)}async function x2(n,e){const t=Le(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.Y_()&&e.Z_()&&(r=2):(a=new y2,r=e.Z_()?0:1);try{switch(r){case 0:a.H_=await t.onListen(o,!0);break;case 1:a.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const c=Im(u,`Initialization of query '${Xo(e.query)}' failed`);return void e.onError(c)}t.queries.set(o,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&km(t)}async function w2(n,e){const t=Le(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.J_.indexOf(e);u>=0&&(a.J_.splice(u,1),a.J_.length===0?o=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function _2(n,e){const t=Le(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const c of u.J_)c.ta(o)&&(r=!0);u.H_=o}}r&&km(t)}function E2(n,e,t){const r=Le(n),o=r.queries.get(e);if(o)for(const a of o.J_)a.onError(t);r.queries.delete(e)}function km(n){n.X_.forEach(e=>{e.next()})}var Ip,Tx;(Tx=Ip||(Ip={})).na="default",Tx.Cache="cache";class C2{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new pa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Ip.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e){this.key=e}}class y_{constructor(e){this.key=e}}class S2{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ue(),this.mutatedKeys=Ue(),this.Va=D0(e),this.ma=new ra(this.Va)}get fa(){return this.da}ga(e,t){const r=t?t.pa:new Cx,o=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,c=!1;const h=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((g,x)=>{const w=o.get(g),C=jd(this.query,x)?x:null,k=!!w&&this.mutatedKeys.has(w.key),I=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let A=!1;w&&C?w.data.isEqual(C.data)?k!==I&&(r.track({type:3,doc:C}),A=!0):this.ya(w,C)||(r.track({type:2,doc:C}),A=!0,(h&&this.Va(C,h)>0||p&&this.Va(C,p)<0)&&(c=!0)):!w&&C?(r.track({type:0,doc:C}),A=!0):w&&!C&&(r.track({type:1,doc:w}),A=!0,(h||p)&&(c=!0)),A&&(C?(u=u.add(C),a=I?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{ma:u,pa:r,ss:c,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((g,x)=>function(C,k){const I=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return I(C)-I(k)}(g.type,x.type)||this.Va(g.doc,x.doc)),this.wa(r),o=o!=null&&o;const c=t&&!o?this.Sa():[],h=this.Ra.size===0&&this.current&&!o?1:0,p=h!==this.Aa;return this.Aa=h,u.length!==0||p?{snapshot:new pa(this.query,e.ma,a,u,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:c}:{ba:c}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Cx,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ue(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new y_(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new g_(r))}),t}va(e){this.da=e.ds,this.Ra=Ue();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return pa.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class T2{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class I2{constructor(e){this.key=e,this.Fa=!1}}class k2{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new Xs(c=>O0(c),Vd),this.Oa=new Map,this.Na=new Set,this.La=new ut(ke.comparator),this.Ba=new Map,this.ka=new vm,this.qa={},this.Qa=new Map,this.Ka=fa.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function A2(n,e,t=!0){const r=C_(n);let o;const a=r.xa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Ca()):o=await v_(r,e,t,!0),o}async function P2(n,e){const t=C_(n);await v_(t,e,!0,!1)}async function v_(n,e,t,r){const o=await KR(n.localStore,Sr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let c;return r&&(c=await R2(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&c_(n.remoteStore,o),c}async function R2(n,e,t,r,o){n.Ua=(x,w,C)=>async function(I,A,N,D){let z=A.view.ga(N);z.ss&&(z=await xx(I.localStore,A.query,!1).then(({documents:b})=>A.view.ga(b,z)));const K=D&&D.targetChanges.get(A.targetId),X=D&&D.targetMismatches.get(A.targetId)!=null,ne=A.view.applyChanges(z,I.isPrimaryClient,K,X);return kx(I,A.targetId,ne.ba),ne.snapshot}(n,x,w,C);const a=await xx(n.localStore,e,!0),u=new S2(e,a.ds),c=u.ga(a.documents),h=lu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),p=u.applyChanges(c,n.isPrimaryClient,h);kx(n,t,p.ba);const g=new T2(e,t,u);return n.xa.set(e,g),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),p.snapshot}async function b2(n,e,t){const r=Le(n),o=r.xa.get(e),a=r.Oa.get(o.targetId);if(a.length>1)return r.Oa.set(o.targetId,a.filter(u=>!Vd(u,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Tp(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&_m(r.remoteStore,o.targetId),kp(r,o.targetId)}).catch(Ca)):(kp(r,o.targetId),await Tp(r.localStore,o.targetId,!0))}async function $2(n,e){const t=Le(n),r=t.xa.get(e),o=t.Oa.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),_m(t.remoteStore,r.targetId))}async function N2(n,e,t){const r=j2(n);try{const o=await function(u,c){const h=Le(u),p=kt.now(),g=c.reduce((C,k)=>C.add(k.key),Ue());let x,w;return h.persistence.runTransaction("Locally write mutations","readwrite",C=>{let k=ci(),I=Ue();return h.hs.getEntries(C,g).next(A=>{k=A,k.forEach((N,D)=>{D.isValidDocument()||(I=I.add(N))})}).next(()=>h.localDocuments.getOverlayedDocuments(C,k)).next(A=>{x=A;const N=[];for(const D of c){const z=QP(D,x.get(D.key).overlayedDocument);z!=null&&N.push(new Js(D.key,z,P0(z.value.mapValue),Tr.exists(!0)))}return h.mutationQueue.addMutationBatch(C,p,N,c)}).next(A=>{w=A;const N=A.applyToLocalDocumentSet(x,I);return h.documentOverlayCache.saveOverlays(C,A.batchId,N)})}).then(()=>({batchId:w.batchId,changes:V0(x)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,c,h){let p=u.qa[u.currentUser.toKey()];p||(p=new ut(We)),p=p.insert(c,h),u.qa[u.currentUser.toKey()]=p}(r,o.batchId,t),await cu(r,o.changes),await qd(r.remoteStore)}catch(o){const a=Im(o,"Failed to persist write");t.reject(a)}}async function x_(n,e){const t=Le(n);try{const r=await HR(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Ba.get(a);u&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Fa=!0:o.modifiedDocuments.size>0?Qe(u.Fa):o.removedDocuments.size>0&&(Qe(u.Fa),u.Fa=!1))}),await cu(t,r,e)}catch(r){await Ca(r)}}function Ix(n,e,t){const r=Le(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.xa.forEach((a,u)=>{const c=u.view.ea(e);c.snapshot&&o.push(c.snapshot)}),function(u,c){const h=Le(u);h.onlineState=c;let p=!1;h.queries.forEach((g,x)=>{for(const w of x.J_)w.ea(c)&&(p=!0)}),p&&km(h)}(r.eventManager,e),o.length&&r.Ma.R_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function F2(n,e,t){const r=Le(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Ba.get(e),a=o&&o.key;if(a){let u=new ut(ke.comparator);u=u.insert(a,Yt.newNoDocument(a,Ne.min()));const c=Ue().add(a),h=new zd(Ne.min(),new Map,new ut(We),u,c);await x_(r,h),r.La=r.La.remove(a),r.Ba.delete(e),Am(r)}else await Tp(r.localStore,e,!1).then(()=>kp(r,e,t)).catch(Ca)}async function L2(n,e){const t=Le(n),r=e.batch.batchId;try{const o=await WR(t.localStore,e);__(t,r,null),w_(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await cu(t,o)}catch(o){await Ca(o)}}async function O2(n,e,t){const r=Le(n);try{const o=await function(u,c){const h=Le(u);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return h.mutationQueue.lookupMutationBatch(p,c).next(x=>(Qe(x!==null),g=x.keys(),h.mutationQueue.removeMutationBatch(p,x))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>h.localDocuments.getDocuments(p,g))})}(r.localStore,e);__(r,e,t),w_(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await cu(r,o)}catch(o){await Ca(o)}}function w_(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function __(n,e,t){const r=Le(n);let o=r.qa[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.qa[r.currentUser.toKey()]=o}}function kp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||E_(n,r)})}function E_(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(_m(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),Am(n))}function kx(n,e,t){for(const r of t)r instanceof g_?(n.ka.addReference(r.key,e),D2(n,r)):r instanceof y_?(he("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||E_(n,r.key)):be()}function D2(n,e){const t=e.key,r=t.path.canonicalString();n.La.get(t)||n.Na.has(r)||(he("SyncEngine","New document in limbo: "+t),n.Na.add(r),Am(n))}function Am(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new ke(st.fromString(e)),r=n.Ka.next();n.Ba.set(r,new I2(t)),n.La=n.La.insert(t,r),c_(n.remoteStore,new Gi(Sr(fm(t.path)),r,"TargetPurposeLimboResolution",Ld.oe))}}async function cu(n,e,t){const r=Le(n),o=[],a=[],u=[];r.xa.isEmpty()||(r.xa.forEach((c,h)=>{u.push(r.Ua(h,e,t).then(p=>{var g;if((p||t)&&r.isPrimaryClient){const x=p?!p.fromCache:(g=t==null?void 0:t.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,x?"current":"not-current")}if(p){o.push(p);const x=wm.zi(h.targetId,p);a.push(x)}}))}),await Promise.all(u),r.Ma.R_(o),await async function(h,p){const g=Le(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>Z.forEach(p,w=>Z.forEach(w.Wi,C=>g.persistence.referenceDelegate.addReference(x,w.targetId,C)).next(()=>Z.forEach(w.Gi,C=>g.persistence.referenceDelegate.removeReference(x,w.targetId,C)))))}catch(x){if(!Sa(x))throw x;he("LocalStore","Failed to update sequence numbers: "+x)}for(const x of p){const w=x.targetId;if(!x.fromCache){const C=g.us.get(w),k=C.snapshotVersion,I=C.withLastLimboFreeSnapshotVersion(k);g.us=g.us.insert(w,I)}}}(r.localStore,a))}async function M2(n,e){const t=Le(n);if(!t.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const r=await o_(t.localStore,e);t.currentUser=e,function(a,u){a.Qa.forEach(c=>{c.forEach(h=>{h.reject(new Ce(oe.CANCELLED,u))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cu(t,r.Ts)}}function V2(n,e){const t=Le(n),r=t.Ba.get(e);if(r&&r.Fa)return Ue().add(r.key);{let o=Ue();const a=t.Oa.get(e);if(!a)return o;for(const u of a){const c=t.xa.get(u);o=o.unionWith(c.view.fa)}return o}}function C_(n){const e=Le(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=x_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=V2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F2.bind(null,e),e.Ma.R_=_2.bind(null,e.eventManager),e.Ma.Wa=E2.bind(null,e.eventManager),e}function j2(n){const e=Le(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=L2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=O2.bind(null,e),e}class wd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wd(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return zR(this.persistence,new UR,e.initialUser,this.serializer)}ja(e){return new s_(xm.ei,this.serializer)}za(e){return new YR}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wd.provider={build:()=>new wd};class U2 extends wd{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Qe(this.persistence.referenceDelegate instanceof vd);const r=this.persistence.referenceDelegate.garbageCollector;return new IR(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new s_(r=>vd.ei(r,t),this.serializer)}}class Ap{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ix(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=M2.bind(null,this.syncEngine),await g2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new v2}()}createDatastore(e){const t=Wd(e.databaseInfo.databaseId),r=function(a){return new e2(a)}(e.databaseInfo);return function(a,u,c,h){return new r2(a,u,c,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,a,u,c){return new s2(r,o,a,u,c)}(this.localStore,this.datastore,e.asyncQueue,t=>Ix(this.syncEngine,t,0),function(){return _x.p()?new _x:new XR}())}createSyncEngine(e,t){return function(o,a,u,c,h,p,g){const x=new k2(o,a,u,c,h,p);return g&&(x.$a=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=Le(o);he("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await uu(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ap.provider={build:()=>new Ap};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ui("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Kt.UNAUTHENTICATED,this.clientId=I0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{he("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(he("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Im(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function qf(n,e){n.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await o_(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Ax(n,e){n.asyncQueue.verifyOperationInProgress();const t=await W2(n);he("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Ex(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>Ex(e.remoteStore,o)),n._onlineComponents=e}async function W2(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await qf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===oe.FAILED_PRECONDITION||o.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ua("Error using user provided cache. Falling back to memory cache: "+t),await qf(n,new wd)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await qf(n,new U2(void 0));return n._offlineComponents}async function S_(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await Ax(n,n._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await Ax(n,new Ap))),n._onlineComponents}function H2(n){return S_(n).then(e=>e.syncEngine)}async function q2(n){const e=await S_(n),t=e.eventManager;return t.onListen=A2.bind(null,e.syncEngine),t.onUnlisten=b2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=P2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=$2.bind(null,e.syncEngine),t}function G2(n,e,t={}){const r=new Xi;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,c,h,p){const g=new B2({next:w=>{g.eu(),u.enqueueAndForget(()=>w2(a,x));const C=w.docs.has(c);!C&&w.fromCache?p.reject(new Ce(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&w.fromCache&&h&&h.source==="server"?p.reject(new Ce(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),x=new C2(fm(c.path),g,{includeMetadataChanges:!0,ua:!0});return x2(a,x)}(await q2(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(n,e,t){if(!t)throw new Ce(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function K2(n,e,t,r){if(e===!0&&r===!0)throw new Ce(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Rx(n){if(!ke.isDocumentKey(n))throw new Ce(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function bx(n){if(ke.isDocumentKey(n))throw new Ce(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Pm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":be()}function ma(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ce(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Pm(n);throw new Ce(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ce(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}K2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=T_((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ce(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ce(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ce(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gd{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $x({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $x(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new eP;switch(r.type){case"firstParty":return new iP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ce(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Px.get(t);r&&(he("ComponentProvider","Removing Datastore"),Px.delete(t),r.terminate())}(this),Promise.resolve()}}function Q2(n,e,t,r={}){var o;const a=(n=ma(n,Gd))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),r.mockUserToken){let c,h;if(typeof r.mockUserToken=="string")c=r.mockUserToken,h=Kt.MOCK_USER;else{c=kI(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Ce(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Kt(p)}n._authCredentials=new tP(new T0(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Rm(this.firestore,e,this._query)}}class wn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class Ji extends Rm{constructor(e,t,r){super(e,t,fm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new ke(e))}withConverter(e){return new Ji(this.firestore,e,this._path)}}function Y2(n,e,...t){if(n=En(n),I_("collection","path",e),n instanceof Gd){const r=st.fromString(e,...t);return bx(r),new Ji(n,null,r)}{if(!(n instanceof wn||n instanceof Ji))throw new Ce(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(st.fromString(e,...t));return bx(r),new Ji(n.firestore,null,r)}}function bm(n,e,...t){if(n=En(n),arguments.length===1&&(e=I0.newId()),I_("doc","path",e),n instanceof Gd){const r=st.fromString(e,...t);return Rx(r),new wn(n,null,new ke(r))}{if(!(n instanceof wn||n instanceof Ji))throw new Ce(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(st.fromString(e,...t));return Rx(r),new wn(n.firestore,n instanceof Ji?n.converter:null,new ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new l_(this,"async_queue_retry"),this.fu=()=>{const r=Hf();r&&he("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=Hf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Hf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Xi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Sa(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const o=function(u){let c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),c}(r);throw ui("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=Tm.createAndSchedule(this,e,t,r,a=>this.Su(a));return this.du.push(o),o}pu(){this.Au&&be()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class Kd extends Gd{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new Nx,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Nx(e),this._firestoreClient=void 0,await e}}}function X2(n,e){const t=typeof n=="object"?n:Vw(),r=typeof n=="string"?n:"(default)",o=Xp(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=TI("firestore");a&&Q2(o,...a)}return o}function k_(n){if(n._terminated)throw new Ce(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||J2(n),n._firestoreClient}function J2(n){var e,t,r;const o=n._freezeSettings(),a=function(c,h,p,g){return new xP(c,h,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,T_(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new z2(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ga(Ut.fromBase64String(e))}catch(t){throw new Ce(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ga(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ce(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ce(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ce(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=/^__.*__$/;class eb{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Js(e,this.data,this.fieldMask,t,this.fieldTransforms):new au(e,this.data,t,this.fieldTransforms)}}function A_(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class Om{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Om(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:r,Nu:!1});return o.Lu(e),o}Bu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:r,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return _d(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(A_(this.Mu)&&Z2.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class tb{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Wd(e)}$u(e,t,r,o=!1){return new Om({Mu:e,methodName:t,Ku:r,path:jt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function P_(n){const e=n._freezeSettings(),t=Wd(n._databaseId);return new tb(n._databaseId,!!e.ignoreUndefinedProperties,t)}function R_(n,e,t,r,o,a={}){const u=n.$u(a.merge||a.mergeFields?2:0,e,t,o);F_("Data must be an object, but it was:",u,r);const c=$_(r,u);let h,p;if(a.merge)h=new nr(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const x of a.mergeFields){const w=nb(e,x,t);if(!u.contains(w))throw new Ce(oe.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);ib(g,w)||g.push(w)}h=new nr(g),p=u.fieldTransforms.filter(x=>h.covers(x.field))}else h=null,p=u.fieldTransforms;return new eb(new Ln(c),h,p)}class Dm extends Nm{_toFieldTransform(e){return new HP(e.path,new ql)}isEqual(e){return e instanceof Dm}}function b_(n,e){if(N_(n=En(n)))return F_("Unsupported field value:",e,n),$_(n,e);if(n instanceof Nm)return function(r,o){if(!A_(o.Mu))throw o.qu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,o){const a=[];let u=0;for(const c of r){let h=b_(c,o.ku(u));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,o){if((r=En(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return BP(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=kt.fromDate(r);return{timestampValue:yd(o.serializer,a)}}if(r instanceof kt){const a=new kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yd(o.serializer,a)}}if(r instanceof Fm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ga)return{bytesValue:J0(o.serializer,r._byteString)};if(r instanceof wn){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ym(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Lm)return function(u,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(h=>{if(typeof h!="number")throw c.qu("VectorValues must only contain numeric values.");return pm(c.serializer,h)})}}}}}}(r,o);throw o.qu(`Unsupported field value: ${Pm(r)}`)}(n,e)}function $_(n,e){const t={};return k0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ys(n,(r,o)=>{const a=b_(o,e.Ou(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function N_(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof kt||n instanceof Fm||n instanceof ga||n instanceof wn||n instanceof Nm||n instanceof Lm)}function F_(n,e,t){if(!N_(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const r=Pm(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function nb(n,e,t){if((e=En(e))instanceof $m)return e._internalPath;if(typeof e=="string")return L_(n,e);throw _d("Field path arguments must be of type string or ",n,!1,void 0,t)}const rb=new RegExp("[~\\*/\\[\\]]");function L_(n,e,t){if(e.search(rb)>=0)throw _d(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $m(...e.split("."))._internalPath}catch{throw _d(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _d(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||u)&&(h+=" (found",a&&(h+=` in field ${r}`),u&&(h+=` in document ${o}`),h+=")"),new Ce(oe.INVALID_ARGUMENT,c+n+h)}function ib(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(D_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class sb extends O_{data(){return super.data()}}function D_(n,e){return typeof e=="string"?L_(n,e):e instanceof $m?e._internalPath:e._delegate._internalPath}class ob{convertValue(e,t="none"){switch(rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ys(e,(o,a)=>{r[o]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,o;const a=(o=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(u=>pt(u.doubleValue));return new Lm(a)}convertGeoPoint(e){return new Fm(pt(e.latitude),pt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Dd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(zl(e));default:return null}}convertTimestamp(e){const t=ts(e);return new kt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=st.fromString(e);Qe(i_(r));const o=new Wl(r.get(1),r.get(3)),a=new ke(r.popFirst(5));return o.isEqual(t)||ui(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class V_ extends O_{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new lb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(D_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class lb extends V_{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(n){n=ma(n,wn);const e=ma(n.firestore,Kd);return G2(k_(e),n._key).then(t=>hb(e,n,t))}class ub extends ob{constructor(e){super(),this.firestore=e}convertBytes(e){return new ga(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,t)}}function cb(n,e,t){n=ma(n,wn);const r=ma(n.firestore,Kd),o=M_(n.converter,e);return U_(r,[R_(P_(r),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Tr.none())])}function db(n,e){const t=ma(n.firestore,Kd),r=bm(n),o=M_(n.converter,e);return U_(t,[R_(P_(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,Tr.exists(!1))]).then(()=>r)}function U_(n,e){return function(r,o){const a=new Xi;return r.asyncQueue.enqueueAndForget(async()=>N2(await H2(r),o,a)),a.promise}(k_(n),e)}function hb(n,e,t){const r=t.docs.get(e._key),o=new ub(n);return new V_(n,o,e._key,r,new ab(t.hasPendingWrites,t.fromCache),e.converter)}function fb(){return new Dm("serverTimestamp")}(function(e,t=!0){(function(o){Ea=o})(wa),aa(new Bs("firestore",(r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),c=new Kd(new nP(r.getProvider("auth-internal")),new oP(r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ce(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(p.options.projectId,g)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Yi(Yv,"4.7.5",e),Yi(Yv,"4.7.5","esm2017")})();console.log("Current mode:","production");const Pp={apiKey:"AIzaSyBKI6MDjPopM298T9QnhnqHQhg_xF3gEEQ",authDomain:"optionsquiz.firebaseapp.com",projectId:"optionsquiz",storageBucket:"optionsquiz.firebasestorage.app",messagingSenderId:"163287932453",appId:"1:163287932453:web:a00cde77ac0cc01884a9cc"},B_=Mw(Pp),Gf=JA(B_),Mm=X2(B_);console.log("Using Firebase config for:","production",{projectId:Pp.projectId,authDomain:Pp.authDomain});const z_=T.createContext(),Ia=()=>T.useContext(z_),pb=({children:n})=>{const[e,t]=T.useState(null),[r,o]=T.useState(!0),a=async()=>{const h=new ti;try{await aA(Gf,h)}catch(p){console.error("Error signing in with Google:",p)}},u=async()=>{try{await Uk(Gf)}catch(h){console.error("Error signing out:",h)}};T.useEffect(()=>jk(Gf,p=>{t(p),o(!1)}),[]);const c={user:e,signInWithGoogle:a,logout:u};return _.jsx(z_.Provider,{value:c,children:!r&&n})},mb=async n=>{console.log("Checking subscription status for userId:",n);try{const e=await j_(bm(Mm,"subscriptions",n));if(console.log("Firestore subscription data:",e.data()),!e.exists())return console.log("No subscription document found"),{isPremium:!1};const t=e.data(),r=t.status==="active";return console.log("Subscription status:",{isActive:r,status:t.status}),{isPremium:r}}catch(e){throw console.error("Error checking subscription:",e),e}},gb=async(n,e)=>{console.log("Updating subscription status:",{userId:n,status:e});try{const t=bm(Mm,"subscriptions",n),r={status:e,updatedAt:fb()};await cb(t,r),console.log("Successfully updated subscription in Firestore");const o=await j_(t);return console.log("Verified Firestore data:",o.data()),!0}catch(t){throw console.error("Error updating subscription status:",t),t}},W_=T.createContext(),Vm=()=>T.useContext(W_),yb=({children:n})=>{const{user:e}=Ia(),[t,r]=T.useState(!1),[o,a]=T.useState(!0);T.useEffect(()=>{(async()=>{if(console.log("PaymentContext: Checking status, current user:",e==null?void 0:e.uid),e)try{const p=`premium_status_${e.uid}`;console.log("Checking localStorage with key:",p);const g=localStorage.getItem(p);if(console.log("Cached status found:",g),g){const C=JSON.parse(g);if(console.log("Parsed cached status:",C),Date.now()-C.timestamp<36e5){console.log("Using cached premium status:",C.isPremium),r(C.isPremium),a(!1);return}else console.log("Cache expired, checking Firestore")}const x=await mb(e.uid);console.log("Firestore status result:",x),r(x.isPremium),console.log("Updated isPremium state to:",x.isPremium);const w={isPremium:x.isPremium,timestamp:Date.now()};localStorage.setItem(p,JSON.stringify(w)),console.log("Updated localStorage cache:",w)}catch(p){console.error("Error in PaymentContext:",p)}else console.log("No user found, setting isPremium to false"),r(!1);a(!1)})()},[e]);const u=async h=>{if(console.log("Updating premium status to:",h),r(h),e){const p={isPremium:h,timestamp:Date.now()},g=`premium_status_${e.uid}`;localStorage.setItem(g,JSON.stringify(p)),console.log("Updated cache in updatePremiumStatus:",p)}};console.log("PaymentContext current state:",{isPremium:t,loading:o});const c={isPremium:t,setIsPremium:u,loading:o};return _.jsx(W_.Provider,{value:c,children:!o&&n})};function Fx(n,[e,t]){return Math.min(t,Math.max(e,n))}function xt(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n==null||n(o),t===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function jm(n,e=[]){let t=[];function r(a,u){const c=T.createContext(u),h=t.length;t=[...t,u];const p=x=>{var N;const{scope:w,children:C,...k}=x,I=((N=w==null?void 0:w[n])==null?void 0:N[h])||c,A=T.useMemo(()=>k,Object.values(k));return _.jsx(I.Provider,{value:A,children:C})};p.displayName=a+"Provider";function g(x,w){var I;const C=((I=w==null?void 0:w[n])==null?void 0:I[h])||c,k=T.useContext(C);if(k)return k;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${a}\``)}return[p,g]}const o=()=>{const a=t.map(u=>T.createContext(u));return function(c){const h=(c==null?void 0:c[n])||a;return T.useMemo(()=>({[`__scope${n}`]:{...c,[n]:h}}),[c,h])}};return o.scopeName=n,[r,vb(o,...e)]}function vb(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const u=r.reduce((c,{useScope:h,scopeName:p})=>{const x=h(a)[`__scope${p}`];return{...c,...x}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function Lx(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function H_(...n){return e=>{let t=!1;const r=n.map(o=>{const a=Lx(o,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let o=0;o<r.length;o++){const a=r[o];typeof a=="function"?a():Lx(n[o],null)}}}}function Bt(...n){return T.useCallback(H_(...n),n)}var ya=T.forwardRef((n,e)=>{const{children:t,...r}=n,o=T.Children.toArray(t),a=o.find(wb);if(a){const u=a.props.children,c=o.map(h=>h===a?T.Children.count(u)>1?T.Children.only(null):T.isValidElement(u)?u.props.children:null:h);return _.jsx(Rp,{...r,ref:e,children:T.isValidElement(u)?T.cloneElement(u,void 0,c):null})}return _.jsx(Rp,{...r,ref:e,children:t})});ya.displayName="Slot";var Rp=T.forwardRef((n,e)=>{const{children:t,...r}=n;if(T.isValidElement(t)){const o=Eb(t);return T.cloneElement(t,{..._b(r,t.props),ref:e?H_(e,o):o})}return T.Children.count(t)>1?T.Children.only(null):null});Rp.displayName="SlotClone";var xb=({children:n})=>_.jsx(_.Fragment,{children:n});function wb(n){return T.isValidElement(n)&&n.type===xb}function _b(n,e){const t={...e};for(const r in e){const o=n[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...c)=>{a(...c),o(...c)}:o&&(t[r]=o):r==="style"?t[r]={...o,...a}:r==="className"&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function Eb(n){var r,o;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Cb(n){const e=n+"CollectionProvider",[t,r]=jm(e),[o,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=C=>{const{scope:k,children:I}=C,A=Qt.useRef(null),N=Qt.useRef(new Map).current;return _.jsx(o,{scope:k,itemMap:N,collectionRef:A,children:I})};u.displayName=e;const c=n+"CollectionSlot",h=Qt.forwardRef((C,k)=>{const{scope:I,children:A}=C,N=a(c,I),D=Bt(k,N.collectionRef);return _.jsx(ya,{ref:D,children:A})});h.displayName=c;const p=n+"CollectionItemSlot",g="data-radix-collection-item",x=Qt.forwardRef((C,k)=>{const{scope:I,children:A,...N}=C,D=Qt.useRef(null),z=Bt(k,D),K=a(p,I);return Qt.useEffect(()=>(K.itemMap.set(D,{ref:D,...N}),()=>void K.itemMap.delete(D))),_.jsx(ya,{[g]:"",ref:z,children:A})});x.displayName=p;function w(C){const k=a(n+"CollectionConsumer",C);return Qt.useCallback(()=>{const A=k.collectionRef.current;if(!A)return[];const N=Array.from(A.querySelectorAll(`[${g}]`));return Array.from(k.itemMap.values()).sort((K,X)=>N.indexOf(K.ref.current)-N.indexOf(X.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:u,Slot:h,ItemSlot:x},w,r]}var Sb=T.createContext(void 0);function Tb(n){const e=T.useContext(Sb);return n||e||"ltr"}var Ib=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],mt=Ib.reduce((n,e)=>{const t=T.forwardRef((r,o)=>{const{asChild:a,...u}=r,c=a?ya:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),_.jsx(c,{...u,ref:o})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function kb(n,e){n&&eu.flushSync(()=>n.dispatchEvent(e))}function di(n){const e=T.useRef(n);return T.useEffect(()=>{e.current=n}),T.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function Ab(n,e=globalThis==null?void 0:globalThis.document){const t=di(n);T.useEffect(()=>{const r=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var Pb="DismissableLayer",bp="dismissableLayer.update",Rb="dismissableLayer.pointerDownOutside",bb="dismissableLayer.focusOutside",Ox,q_=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),G_=T.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:u,onDismiss:c,...h}=n,p=T.useContext(q_),[g,x]=T.useState(null),w=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,C]=T.useState({}),k=Bt(e,b=>x(b)),I=Array.from(p.layers),[A]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),N=I.indexOf(A),D=g?I.indexOf(g):-1,z=p.layersWithOutsidePointerEventsDisabled.size>0,K=D>=N,X=Fb(b=>{const R=b.target,$=[...p.branches].some(O=>O.contains(R));!K||$||(o==null||o(b),u==null||u(b),b.defaultPrevented||c==null||c())},w),ne=Lb(b=>{const R=b.target;[...p.branches].some(O=>O.contains(R))||(a==null||a(b),u==null||u(b),b.defaultPrevented||c==null||c())},w);return Ab(b=>{D===p.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&c&&(b.preventDefault(),c()))},w),T.useEffect(()=>{if(g)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Ox=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),Dx(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=Ox)}},[g,w,t,p]),T.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),Dx())},[g,p]),T.useEffect(()=>{const b=()=>C({});return document.addEventListener(bp,b),()=>document.removeEventListener(bp,b)},[]),_.jsx(mt.div,{...h,ref:k,style:{pointerEvents:z?K?"auto":"none":void 0,...n.style},onFocusCapture:xt(n.onFocusCapture,ne.onFocusCapture),onBlurCapture:xt(n.onBlurCapture,ne.onBlurCapture),onPointerDownCapture:xt(n.onPointerDownCapture,X.onPointerDownCapture)})});G_.displayName=Pb;var $b="DismissableLayerBranch",Nb=T.forwardRef((n,e)=>{const t=T.useContext(q_),r=T.useRef(null),o=Bt(e,r);return T.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),_.jsx(mt.div,{...n,ref:o})});Nb.displayName=$b;function Fb(n,e=globalThis==null?void 0:globalThis.document){const t=di(n),r=T.useRef(!1),o=T.useRef(()=>{});return T.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let h=function(){K_(Rb,t,p,{discrete:!0})};const p={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=h,e.addEventListener("click",o.current,{once:!0})):h()}else e.removeEventListener("click",o.current);r.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function Lb(n,e=globalThis==null?void 0:globalThis.document){const t=di(n),r=T.useRef(!1);return T.useEffect(()=>{const o=a=>{a.target&&!r.current&&K_(bb,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Dx(){const n=new CustomEvent(bp);document.dispatchEvent(n)}function K_(n,e,t,{discrete:r}){const o=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),r?kb(o,a):o.dispatchEvent(a)}var Kf=0;function Ob(){T.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??Mx()),document.body.insertAdjacentElement("beforeend",n[1]??Mx()),Kf++,()=>{Kf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Kf--}},[])}function Mx(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Qf="focusScope.autoFocusOnMount",Yf="focusScope.autoFocusOnUnmount",Vx={bubbles:!1,cancelable:!0},Db="FocusScope",Q_=T.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...u}=n,[c,h]=T.useState(null),p=di(o),g=di(a),x=T.useRef(null),w=Bt(e,I=>h(I)),C=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let I=function(z){if(C.paused||!c)return;const K=z.target;c.contains(K)?x.current=K:zi(x.current,{select:!0})},A=function(z){if(C.paused||!c)return;const K=z.relatedTarget;K!==null&&(c.contains(K)||zi(x.current,{select:!0}))},N=function(z){if(document.activeElement===document.body)for(const X of z)X.removedNodes.length>0&&zi(c)};document.addEventListener("focusin",I),document.addEventListener("focusout",A);const D=new MutationObserver(N);return c&&D.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",I),document.removeEventListener("focusout",A),D.disconnect()}}},[r,c,C.paused]),T.useEffect(()=>{if(c){Ux.add(C);const I=document.activeElement;if(!c.contains(I)){const N=new CustomEvent(Qf,Vx);c.addEventListener(Qf,p),c.dispatchEvent(N),N.defaultPrevented||(Mb(zb(Y_(c)),{select:!0}),document.activeElement===I&&zi(c))}return()=>{c.removeEventListener(Qf,p),setTimeout(()=>{const N=new CustomEvent(Yf,Vx);c.addEventListener(Yf,g),c.dispatchEvent(N),N.defaultPrevented||zi(I??document.body,{select:!0}),c.removeEventListener(Yf,g),Ux.remove(C)},0)}}},[c,p,g,C]);const k=T.useCallback(I=>{if(!t&&!r||C.paused)return;const A=I.key==="Tab"&&!I.altKey&&!I.ctrlKey&&!I.metaKey,N=document.activeElement;if(A&&N){const D=I.currentTarget,[z,K]=Vb(D);z&&K?!I.shiftKey&&N===K?(I.preventDefault(),t&&zi(z,{select:!0})):I.shiftKey&&N===z&&(I.preventDefault(),t&&zi(K,{select:!0})):N===D&&I.preventDefault()}},[t,r,C.paused]);return _.jsx(mt.div,{tabIndex:-1,...u,ref:w,onKeyDown:k})});Q_.displayName=Db;function Mb(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(zi(r,{select:e}),document.activeElement!==t)return}function Vb(n){const e=Y_(n),t=jx(e,n),r=jx(e.reverse(),n);return[t,r]}function Y_(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function jx(n,e){for(const t of n)if(!jb(t,{upTo:e}))return t}function jb(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function Ub(n){return n instanceof HTMLInputElement&&"select"in n}function zi(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&Ub(n)&&e&&n.select()}}var Ux=Bb();function Bb(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=Bx(n,e),n.unshift(e)},remove(e){var t;n=Bx(n,e),(t=n[0])==null||t.resume()}}}function Bx(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function zb(n){return n.filter(e=>e.tagName!=="A")}var Cn=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},Wb=US.useId||(()=>{}),Hb=0;function Um(n){const[e,t]=T.useState(Wb());return Cn(()=>{t(r=>r??String(Hb++))},[n]),e?`radix-${e}`:""}const qb=["top","right","bottom","left"],ss=Math.min,xn=Math.max,Ed=Math.round,Dc=Math.floor,kr=n=>({x:n,y:n}),Gb={left:"right",right:"left",bottom:"top",top:"bottom"},Kb={start:"end",end:"start"};function $p(n,e,t){return xn(n,ss(e,t))}function hi(n,e){return typeof n=="function"?n(e):n}function fi(n){return n.split("-")[0]}function ka(n){return n.split("-")[1]}function Bm(n){return n==="x"?"y":"x"}function zm(n){return n==="y"?"height":"width"}function os(n){return["top","bottom"].includes(fi(n))?"y":"x"}function Wm(n){return Bm(os(n))}function Qb(n,e,t){t===void 0&&(t=!1);const r=ka(n),o=Wm(n),a=zm(o);let u=o==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(u=Cd(u)),[u,Cd(u)]}function Yb(n){const e=Cd(n);return[Np(n),e,Np(e)]}function Np(n){return n.replace(/start|end/g,e=>Kb[e])}function Xb(n,e,t){const r=["left","right"],o=["right","left"],a=["top","bottom"],u=["bottom","top"];switch(n){case"top":case"bottom":return t?e?o:r:e?r:o;case"left":case"right":return e?a:u;default:return[]}}function Jb(n,e,t,r){const o=ka(n);let a=Xb(fi(n),t==="start",r);return o&&(a=a.map(u=>u+"-"+o),e&&(a=a.concat(a.map(Np)))),a}function Cd(n){return n.replace(/left|right|bottom|top/g,e=>Gb[e])}function Zb(n){return{top:0,right:0,bottom:0,left:0,...n}}function X_(n){return typeof n!="number"?Zb(n):{top:n,right:n,bottom:n,left:n}}function Sd(n){const{x:e,y:t,width:r,height:o}=n;return{width:r,height:o,top:t,left:e,right:e+r,bottom:t+o,x:e,y:t}}function zx(n,e,t){let{reference:r,floating:o}=n;const a=os(e),u=Wm(e),c=zm(u),h=fi(e),p=a==="y",g=r.x+r.width/2-o.width/2,x=r.y+r.height/2-o.height/2,w=r[c]/2-o[c]/2;let C;switch(h){case"top":C={x:g,y:r.y-o.height};break;case"bottom":C={x:g,y:r.y+r.height};break;case"right":C={x:r.x+r.width,y:x};break;case"left":C={x:r.x-o.width,y:x};break;default:C={x:r.x,y:r.y}}switch(ka(e)){case"start":C[u]-=w*(t&&p?-1:1);break;case"end":C[u]+=w*(t&&p?-1:1);break}return C}const e$=async(n,e,t)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:u}=t,c=a.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(e));let p=await u.getElementRects({reference:n,floating:e,strategy:o}),{x:g,y:x}=zx(p,r,h),w=r,C={},k=0;for(let I=0;I<c.length;I++){const{name:A,fn:N}=c[I],{x:D,y:z,data:K,reset:X}=await N({x:g,y:x,initialPlacement:r,placement:w,strategy:o,middlewareData:C,rects:p,platform:u,elements:{reference:n,floating:e}});g=D??g,x=z??x,C={...C,[A]:{...C[A],...K}},X&&k<=50&&(k++,typeof X=="object"&&(X.placement&&(w=X.placement),X.rects&&(p=X.rects===!0?await u.getElementRects({reference:n,floating:e,strategy:o}):X.rects),{x:g,y:x}=zx(p,w,h)),I=-1)}return{x:g,y:x,placement:w,strategy:o,middlewareData:C}};async function Ql(n,e){var t;e===void 0&&(e={});const{x:r,y:o,platform:a,rects:u,elements:c,strategy:h}=n,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:x="floating",altBoundary:w=!1,padding:C=0}=hi(e,n),k=X_(C),A=c[w?x==="floating"?"reference":"floating":x],N=Sd(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(A)))==null||t?A:A.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:p,rootBoundary:g,strategy:h})),D=x==="floating"?{x:r,y:o,width:u.floating.width,height:u.floating.height}:u.reference,z=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),K=await(a.isElement==null?void 0:a.isElement(z))?await(a.getScale==null?void 0:a.getScale(z))||{x:1,y:1}:{x:1,y:1},X=Sd(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:D,offsetParent:z,strategy:h}):D);return{top:(N.top-X.top+k.top)/K.y,bottom:(X.bottom-N.bottom+k.bottom)/K.y,left:(N.left-X.left+k.left)/K.x,right:(X.right-N.right+k.right)/K.x}}const t$=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:o,rects:a,platform:u,elements:c,middlewareData:h}=e,{element:p,padding:g=0}=hi(n,e)||{};if(p==null)return{};const x=X_(g),w={x:t,y:r},C=Wm(o),k=zm(C),I=await u.getDimensions(p),A=C==="y",N=A?"top":"left",D=A?"bottom":"right",z=A?"clientHeight":"clientWidth",K=a.reference[k]+a.reference[C]-w[C]-a.floating[k],X=w[C]-a.reference[C],ne=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let b=ne?ne[z]:0;(!b||!await(u.isElement==null?void 0:u.isElement(ne)))&&(b=c.floating[z]||a.floating[k]);const R=K/2-X/2,$=b/2-I[k]/2-1,O=ss(x[N],$),V=ss(x[D],$),M=O,F=b-I[k]-V,ve=b/2-I[k]/2+R,Fe=$p(M,ve,F),we=!h.arrow&&ka(o)!=null&&ve!==Fe&&a.reference[k]/2-(ve<M?O:V)-I[k]/2<0,ge=we?ve<M?ve-M:ve-F:0;return{[C]:w[C]+ge,data:{[C]:Fe,centerOffset:ve-Fe-ge,...we&&{alignmentOffset:ge}},reset:we}}}),n$=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:o,middlewareData:a,rects:u,initialPlacement:c,platform:h,elements:p}=e,{mainAxis:g=!0,crossAxis:x=!0,fallbackPlacements:w,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:I=!0,...A}=hi(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const N=fi(o),D=os(c),z=fi(c)===c,K=await(h.isRTL==null?void 0:h.isRTL(p.floating)),X=w||(z||!I?[Cd(c)]:Yb(c)),ne=k!=="none";!w&&ne&&X.push(...Jb(c,I,k,K));const b=[c,...X],R=await Ql(e,A),$=[];let O=((r=a.flip)==null?void 0:r.overflows)||[];if(g&&$.push(R[N]),x){const ve=Qb(o,u,K);$.push(R[ve[0]],R[ve[1]])}if(O=[...O,{placement:o,overflows:$}],!$.every(ve=>ve<=0)){var V,M;const ve=(((V=a.flip)==null?void 0:V.index)||0)+1,Fe=b[ve];if(Fe)return{data:{index:ve,overflows:O},reset:{placement:Fe}};let we=(M=O.filter(ge=>ge.overflows[0]<=0).sort((ge,q)=>ge.overflows[1]-q.overflows[1])[0])==null?void 0:M.placement;if(!we)switch(C){case"bestFit":{var F;const ge=(F=O.filter(q=>{if(ne){const ie=os(q.placement);return ie===D||ie==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(ie=>ie>0).reduce((ie,ee)=>ie+ee,0)]).sort((q,ie)=>q[1]-ie[1])[0])==null?void 0:F[0];ge&&(we=ge);break}case"initialPlacement":we=c;break}if(o!==we)return{reset:{placement:we}}}return{}}}};function Wx(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Hx(n){return qb.some(e=>n[e]>=0)}const r$=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...o}=hi(n,e);switch(r){case"referenceHidden":{const a=await Ql(e,{...o,elementContext:"reference"}),u=Wx(a,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Hx(u)}}}case"escaped":{const a=await Ql(e,{...o,altBoundary:!0}),u=Wx(a,t.floating);return{data:{escapedOffsets:u,escaped:Hx(u)}}}default:return{}}}}};async function i$(n,e){const{placement:t,platform:r,elements:o}=n,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),u=fi(t),c=ka(t),h=os(t)==="y",p=["left","top"].includes(u)?-1:1,g=a&&h?-1:1,x=hi(e,n);let{mainAxis:w,crossAxis:C,alignmentAxis:k}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return c&&typeof k=="number"&&(C=c==="end"?k*-1:k),h?{x:C*g,y:w*p}:{x:w*p,y:C*g}}const s$=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:o,y:a,placement:u,middlewareData:c}=e,h=await i$(e,n);return u===((t=c.offset)==null?void 0:t.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:o+h.x,y:a+h.y,data:{...h,placement:u}}}}},o$=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:o}=e,{mainAxis:a=!0,crossAxis:u=!1,limiter:c={fn:A=>{let{x:N,y:D}=A;return{x:N,y:D}}},...h}=hi(n,e),p={x:t,y:r},g=await Ql(e,h),x=os(fi(o)),w=Bm(x);let C=p[w],k=p[x];if(a){const A=w==="y"?"top":"left",N=w==="y"?"bottom":"right",D=C+g[A],z=C-g[N];C=$p(D,C,z)}if(u){const A=x==="y"?"top":"left",N=x==="y"?"bottom":"right",D=k+g[A],z=k-g[N];k=$p(D,k,z)}const I=c.fn({...e,[w]:C,[x]:k});return{...I,data:{x:I.x-t,y:I.y-r,enabled:{[w]:a,[x]:u}}}}}},a$=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:o,rects:a,middlewareData:u}=e,{offset:c=0,mainAxis:h=!0,crossAxis:p=!0}=hi(n,e),g={x:t,y:r},x=os(o),w=Bm(x);let C=g[w],k=g[x];const I=hi(c,e),A=typeof I=="number"?{mainAxis:I,crossAxis:0}:{mainAxis:0,crossAxis:0,...I};if(h){const z=w==="y"?"height":"width",K=a.reference[w]-a.floating[z]+A.mainAxis,X=a.reference[w]+a.reference[z]-A.mainAxis;C<K?C=K:C>X&&(C=X)}if(p){var N,D;const z=w==="y"?"width":"height",K=["top","left"].includes(fi(o)),X=a.reference[x]-a.floating[z]+(K&&((N=u.offset)==null?void 0:N[x])||0)+(K?0:A.crossAxis),ne=a.reference[x]+a.reference[z]+(K?0:((D=u.offset)==null?void 0:D[x])||0)-(K?A.crossAxis:0);k<X?k=X:k>ne&&(k=ne)}return{[w]:C,[x]:k}}}},l$=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:o,rects:a,platform:u,elements:c}=e,{apply:h=()=>{},...p}=hi(n,e),g=await Ql(e,p),x=fi(o),w=ka(o),C=os(o)==="y",{width:k,height:I}=a.floating;let A,N;x==="top"||x==="bottom"?(A=x,N=w===(await(u.isRTL==null?void 0:u.isRTL(c.floating))?"start":"end")?"left":"right"):(N=x,A=w==="end"?"top":"bottom");const D=I-g.top-g.bottom,z=k-g.left-g.right,K=ss(I-g[A],D),X=ss(k-g[N],z),ne=!e.middlewareData.shift;let b=K,R=X;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(R=z),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=D),ne&&!w){const O=xn(g.left,0),V=xn(g.right,0),M=xn(g.top,0),F=xn(g.bottom,0);C?R=k-2*(O!==0||V!==0?O+V:xn(g.left,g.right)):b=I-2*(M!==0||F!==0?M+F:xn(g.top,g.bottom))}await h({...e,availableWidth:R,availableHeight:b});const $=await u.getDimensions(c.floating);return k!==$.width||I!==$.height?{reset:{rects:!0}}:{}}}};function Qd(){return typeof window<"u"}function Aa(n){return J_(n)?(n.nodeName||"").toLowerCase():"#document"}function _n(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Lr(n){var e;return(e=(J_(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function J_(n){return Qd()?n instanceof Node||n instanceof _n(n).Node:!1}function sr(n){return Qd()?n instanceof Element||n instanceof _n(n).Element:!1}function br(n){return Qd()?n instanceof HTMLElement||n instanceof _n(n).HTMLElement:!1}function qx(n){return!Qd()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof _n(n).ShadowRoot}function du(n){const{overflow:e,overflowX:t,overflowY:r,display:o}=or(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(o)}function u$(n){return["table","td","th"].includes(Aa(n))}function Yd(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Hm(n){const e=qm(),t=sr(n)?or(n):n;return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function c$(n){let e=as(n);for(;br(e)&&!va(e);){if(Hm(e))return e;if(Yd(e))return null;e=as(e)}return null}function qm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function va(n){return["html","body","#document"].includes(Aa(n))}function or(n){return _n(n).getComputedStyle(n)}function Xd(n){return sr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function as(n){if(Aa(n)==="html")return n;const e=n.assignedSlot||n.parentNode||qx(n)&&n.host||Lr(n);return qx(e)?e.host:e}function Z_(n){const e=as(n);return va(e)?n.ownerDocument?n.ownerDocument.body:n.body:br(e)&&du(e)?e:Z_(e)}function Yl(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=Z_(n),a=o===((r=n.ownerDocument)==null?void 0:r.body),u=_n(o);if(a){const c=Fp(u);return e.concat(u,u.visualViewport||[],du(o)?o:[],c&&t?Yl(c):[])}return e.concat(o,Yl(o,[],t))}function Fp(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function eE(n){const e=or(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=br(n),a=o?n.offsetWidth:t,u=o?n.offsetHeight:r,c=Ed(t)!==a||Ed(r)!==u;return c&&(t=a,r=u),{width:t,height:r,$:c}}function Gm(n){return sr(n)?n:n.contextElement}function ia(n){const e=Gm(n);if(!br(e))return kr(1);const t=e.getBoundingClientRect(),{width:r,height:o,$:a}=eE(e);let u=(a?Ed(t.width):t.width)/r,c=(a?Ed(t.height):t.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!c||!Number.isFinite(c))&&(c=1),{x:u,y:c}}const d$=kr(0);function tE(n){const e=_n(n);return!qm()||!e.visualViewport?d$:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function h$(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==_n(n)?!1:e}function Hs(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect(),a=Gm(n);let u=kr(1);e&&(r?sr(r)&&(u=ia(r)):u=ia(n));const c=h$(a,t,r)?tE(a):kr(0);let h=(o.left+c.x)/u.x,p=(o.top+c.y)/u.y,g=o.width/u.x,x=o.height/u.y;if(a){const w=_n(a),C=r&&sr(r)?_n(r):r;let k=w,I=Fp(k);for(;I&&r&&C!==k;){const A=ia(I),N=I.getBoundingClientRect(),D=or(I),z=N.left+(I.clientLeft+parseFloat(D.paddingLeft))*A.x,K=N.top+(I.clientTop+parseFloat(D.paddingTop))*A.y;h*=A.x,p*=A.y,g*=A.x,x*=A.y,h+=z,p+=K,k=_n(I),I=Fp(k)}}return Sd({width:g,height:x,x:h,y:p})}function Km(n,e){const t=Xd(n).scrollLeft;return e?e.left+t:Hs(Lr(n)).left+t}function nE(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),o=r.left+e.scrollLeft-(t?0:Km(n,r)),a=r.top+e.scrollTop;return{x:o,y:a}}function f$(n){let{elements:e,rect:t,offsetParent:r,strategy:o}=n;const a=o==="fixed",u=Lr(r),c=e?Yd(e.floating):!1;if(r===u||c&&a)return t;let h={scrollLeft:0,scrollTop:0},p=kr(1);const g=kr(0),x=br(r);if((x||!x&&!a)&&((Aa(r)!=="body"||du(u))&&(h=Xd(r)),br(r))){const C=Hs(r);p=ia(r),g.x=C.x+r.clientLeft,g.y=C.y+r.clientTop}const w=u&&!x&&!a?nE(u,h,!0):kr(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-h.scrollLeft*p.x+g.x+w.x,y:t.y*p.y-h.scrollTop*p.y+g.y+w.y}}function p$(n){return Array.from(n.getClientRects())}function m$(n){const e=Lr(n),t=Xd(n),r=n.ownerDocument.body,o=xn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=xn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let u=-t.scrollLeft+Km(n);const c=-t.scrollTop;return or(r).direction==="rtl"&&(u+=xn(e.clientWidth,r.clientWidth)-o),{width:o,height:a,x:u,y:c}}function g$(n,e){const t=_n(n),r=Lr(n),o=t.visualViewport;let a=r.clientWidth,u=r.clientHeight,c=0,h=0;if(o){a=o.width,u=o.height;const p=qm();(!p||p&&e==="fixed")&&(c=o.offsetLeft,h=o.offsetTop)}return{width:a,height:u,x:c,y:h}}function y$(n,e){const t=Hs(n,!0,e==="fixed"),r=t.top+n.clientTop,o=t.left+n.clientLeft,a=br(n)?ia(n):kr(1),u=n.clientWidth*a.x,c=n.clientHeight*a.y,h=o*a.x,p=r*a.y;return{width:u,height:c,x:h,y:p}}function Gx(n,e,t){let r;if(e==="viewport")r=g$(n,t);else if(e==="document")r=m$(Lr(n));else if(sr(e))r=y$(e,t);else{const o=tE(n);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Sd(r)}function rE(n,e){const t=as(n);return t===e||!sr(t)||va(t)?!1:or(t).position==="fixed"||rE(t,e)}function v$(n,e){const t=e.get(n);if(t)return t;let r=Yl(n,[],!1).filter(c=>sr(c)&&Aa(c)!=="body"),o=null;const a=or(n).position==="fixed";let u=a?as(n):n;for(;sr(u)&&!va(u);){const c=or(u),h=Hm(u);!h&&c.position==="fixed"&&(o=null),(a?!h&&!o:!h&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||du(u)&&!h&&rE(n,u))?r=r.filter(g=>g!==u):o=c,u=as(u)}return e.set(n,r),r}function x$(n){let{element:e,boundary:t,rootBoundary:r,strategy:o}=n;const u=[...t==="clippingAncestors"?Yd(e)?[]:v$(e,this._c):[].concat(t),r],c=u[0],h=u.reduce((p,g)=>{const x=Gx(e,g,o);return p.top=xn(x.top,p.top),p.right=ss(x.right,p.right),p.bottom=ss(x.bottom,p.bottom),p.left=xn(x.left,p.left),p},Gx(e,c,o));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function w$(n){const{width:e,height:t}=eE(n);return{width:e,height:t}}function _$(n,e,t){const r=br(e),o=Lr(e),a=t==="fixed",u=Hs(n,!0,a,e);let c={scrollLeft:0,scrollTop:0};const h=kr(0);if(r||!r&&!a)if((Aa(e)!=="body"||du(o))&&(c=Xd(e)),r){const w=Hs(e,!0,a,e);h.x=w.x+e.clientLeft,h.y=w.y+e.clientTop}else o&&(h.x=Km(o));const p=o&&!r&&!a?nE(o,c):kr(0),g=u.left+c.scrollLeft-h.x-p.x,x=u.top+c.scrollTop-h.y-p.y;return{x:g,y:x,width:u.width,height:u.height}}function Xf(n){return or(n).position==="static"}function Kx(n,e){if(!br(n)||or(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Lr(n)===t&&(t=t.ownerDocument.body),t}function iE(n,e){const t=_n(n);if(Yd(n))return t;if(!br(n)){let o=as(n);for(;o&&!va(o);){if(sr(o)&&!Xf(o))return o;o=as(o)}return t}let r=Kx(n,e);for(;r&&u$(r)&&Xf(r);)r=Kx(r,e);return r&&va(r)&&Xf(r)&&!Hm(r)?t:r||c$(n)||t}const E$=async function(n){const e=this.getOffsetParent||iE,t=this.getDimensions,r=await t(n.floating);return{reference:_$(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function C$(n){return or(n).direction==="rtl"}const S$={convertOffsetParentRelativeRectToViewportRelativeRect:f$,getDocumentElement:Lr,getClippingRect:x$,getOffsetParent:iE,getElementRects:E$,getClientRects:p$,getDimensions:w$,getScale:ia,isElement:sr,isRTL:C$};function T$(n,e){let t=null,r;const o=Lr(n);function a(){var c;clearTimeout(r),(c=t)==null||c.disconnect(),t=null}function u(c,h){c===void 0&&(c=!1),h===void 0&&(h=1),a();const{left:p,top:g,width:x,height:w}=n.getBoundingClientRect();if(c||e(),!x||!w)return;const C=Dc(g),k=Dc(o.clientWidth-(p+x)),I=Dc(o.clientHeight-(g+w)),A=Dc(p),D={rootMargin:-C+"px "+-k+"px "+-I+"px "+-A+"px",threshold:xn(0,ss(1,h))||1};let z=!0;function K(X){const ne=X[0].intersectionRatio;if(ne!==h){if(!z)return u();ne?u(!1,ne):r=setTimeout(()=>{u(!1,1e-7)},1e3)}z=!1}try{t=new IntersectionObserver(K,{...D,root:o.ownerDocument})}catch{t=new IntersectionObserver(K,D)}t.observe(n)}return u(!0),a}function I$(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,p=Gm(n),g=o||a?[...p?Yl(p):[],...Yl(e)]:[];g.forEach(N=>{o&&N.addEventListener("scroll",t,{passive:!0}),a&&N.addEventListener("resize",t)});const x=p&&c?T$(p,t):null;let w=-1,C=null;u&&(C=new ResizeObserver(N=>{let[D]=N;D&&D.target===p&&C&&(C.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var z;(z=C)==null||z.observe(e)})),t()}),p&&!h&&C.observe(p),C.observe(e));let k,I=h?Hs(n):null;h&&A();function A(){const N=Hs(n);I&&(N.x!==I.x||N.y!==I.y||N.width!==I.width||N.height!==I.height)&&t(),I=N,k=requestAnimationFrame(A)}return t(),()=>{var N;g.forEach(D=>{o&&D.removeEventListener("scroll",t),a&&D.removeEventListener("resize",t)}),x==null||x(),(N=C)==null||N.disconnect(),C=null,h&&cancelAnimationFrame(k)}}const k$=s$,A$=o$,P$=n$,R$=l$,b$=r$,Qx=t$,$$=a$,N$=(n,e,t)=>{const r=new Map,o={platform:S$,...t},a={...o.platform,_c:r};return e$(n,e,{...o,platform:a})};var td=typeof document<"u"?T.useLayoutEffect:T.useEffect;function Td(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Td(n[r],e[r]))return!1;return!0}if(o=Object.keys(n),t=o.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=t;r--!==0;){const a=o[r];if(!(a==="_owner"&&n.$$typeof)&&!Td(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function sE(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Yx(n,e){const t=sE(n);return Math.round(e*t)/t}function Jf(n){const e=T.useRef(n);return td(()=>{e.current=n}),e}function F$(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:u}={},transform:c=!0,whileElementsMounted:h,open:p}=n,[g,x]=T.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[w,C]=T.useState(r);Td(w,r)||C(r);const[k,I]=T.useState(null),[A,N]=T.useState(null),D=T.useCallback(q=>{q!==ne.current&&(ne.current=q,I(q))},[]),z=T.useCallback(q=>{q!==b.current&&(b.current=q,N(q))},[]),K=a||k,X=u||A,ne=T.useRef(null),b=T.useRef(null),R=T.useRef(g),$=h!=null,O=Jf(h),V=Jf(o),M=Jf(p),F=T.useCallback(()=>{if(!ne.current||!b.current)return;const q={placement:e,strategy:t,middleware:w};V.current&&(q.platform=V.current),N$(ne.current,b.current,q).then(ie=>{const ee={...ie,isPositioned:M.current!==!1};ve.current&&!Td(R.current,ee)&&(R.current=ee,eu.flushSync(()=>{x(ee)}))})},[w,e,t,V,M]);td(()=>{p===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,x(q=>({...q,isPositioned:!1})))},[p]);const ve=T.useRef(!1);td(()=>(ve.current=!0,()=>{ve.current=!1}),[]),td(()=>{if(K&&(ne.current=K),X&&(b.current=X),K&&X){if(O.current)return O.current(K,X,F);F()}},[K,X,F,O,$]);const Fe=T.useMemo(()=>({reference:ne,floating:b,setReference:D,setFloating:z}),[D,z]),we=T.useMemo(()=>({reference:K,floating:X}),[K,X]),ge=T.useMemo(()=>{const q={position:t,left:0,top:0};if(!we.floating)return q;const ie=Yx(we.floating,g.x),ee=Yx(we.floating,g.y);return c?{...q,transform:"translate("+ie+"px, "+ee+"px)",...sE(we.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ie,top:ee}},[t,c,we.floating,g.x,g.y]);return T.useMemo(()=>({...g,update:F,refs:Fe,elements:we,floatingStyles:ge}),[g,F,Fe,we,ge])}const L$=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:o}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?Qx({element:r.current,padding:o}).fn(t):{}:r?Qx({element:r,padding:o}).fn(t):{}}}},O$=(n,e)=>({...k$(n),options:[n,e]}),D$=(n,e)=>({...A$(n),options:[n,e]}),M$=(n,e)=>({...$$(n),options:[n,e]}),V$=(n,e)=>({...P$(n),options:[n,e]}),j$=(n,e)=>({...R$(n),options:[n,e]}),U$=(n,e)=>({...b$(n),options:[n,e]}),B$=(n,e)=>({...L$(n),options:[n,e]});var z$="Arrow",oE=T.forwardRef((n,e)=>{const{children:t,width:r=10,height:o=5,...a}=n;return _.jsx(mt.svg,{...a,ref:e,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:_.jsx("polygon",{points:"0,0 30,0 15,10"})})});oE.displayName=z$;var W$=oE;function H$(n){const[e,t]=T.useState(void 0);return Cn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let u,c;if("borderBoxSize"in a){const h=a.borderBoxSize,p=Array.isArray(h)?h[0]:h;u=p.inlineSize,c=p.blockSize}else u=n.offsetWidth,c=n.offsetHeight;t({width:u,height:c})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var Qm="Popper",[aE,lE]=jm(Qm),[q$,uE]=aE(Qm),cE=n=>{const{__scopePopper:e,children:t}=n,[r,o]=T.useState(null);return _.jsx(q$,{scope:e,anchor:r,onAnchorChange:o,children:t})};cE.displayName=Qm;var dE="PopperAnchor",hE=T.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...o}=n,a=uE(dE,t),u=T.useRef(null),c=Bt(e,u);return T.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||u.current)}),r?null:_.jsx(mt.div,{...o,ref:c})});hE.displayName=dE;var Ym="PopperContent",[G$,K$]=aE(Ym),fE=T.forwardRef((n,e)=>{var ce,_e,Oe,$e,Me,Be;const{__scopePopper:t,side:r="bottom",sideOffset:o=0,align:a="center",alignOffset:u=0,arrowPadding:c=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:x="partial",hideWhenDetached:w=!1,updatePositionStrategy:C="optimized",onPlaced:k,...I}=n,A=uE(Ym,t),[N,D]=T.useState(null),z=Bt(e,ct=>D(ct)),[K,X]=T.useState(null),ne=H$(K),b=(ne==null?void 0:ne.width)??0,R=(ne==null?void 0:ne.height)??0,$=r+(a!=="center"?"-"+a:""),O=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},V=Array.isArray(p)?p:[p],M=V.length>0,F={padding:O,boundary:V.filter(Y$),altBoundary:M},{refs:ve,floatingStyles:Fe,placement:we,isPositioned:ge,middlewareData:q}=F$({strategy:"fixed",placement:$,whileElementsMounted:(...ct)=>I$(...ct,{animationFrame:C==="always"}),elements:{reference:A.anchor},middleware:[O$({mainAxis:o+R,alignmentAxis:u}),h&&D$({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?M$():void 0,...F}),h&&V$({...F}),j$({...F,apply:({elements:ct,rects:Pt,availableWidth:Sn,availableHeight:On})=>{const{width:Dn,height:no}=Pt.reference,Mn=ct.floating.style;Mn.setProperty("--radix-popper-available-width",`${Sn}px`),Mn.setProperty("--radix-popper-available-height",`${On}px`),Mn.setProperty("--radix-popper-anchor-width",`${Dn}px`),Mn.setProperty("--radix-popper-anchor-height",`${no}px`)}}),K&&B$({element:K,padding:c}),X$({arrowWidth:b,arrowHeight:R}),w&&U$({strategy:"referenceHidden",...F})]}),[ie,ee]=gE(we),U=di(k);Cn(()=>{ge&&(U==null||U())},[ge,U]);const J=(ce=q.arrow)==null?void 0:ce.x,pe=(_e=q.arrow)==null?void 0:_e.y,Ee=((Oe=q.arrow)==null?void 0:Oe.centerOffset)!==0,[Se,Ae]=T.useState();return Cn(()=>{N&&Ae(window.getComputedStyle(N).zIndex)},[N]),_.jsx("div",{ref:ve.setFloating,"data-radix-popper-content-wrapper":"",style:{...Fe,transform:ge?Fe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[($e=q.transformOrigin)==null?void 0:$e.x,(Me=q.transformOrigin)==null?void 0:Me.y].join(" "),...((Be=q.hide)==null?void 0:Be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:_.jsx(G$,{scope:t,placedSide:ie,onArrowChange:X,arrowX:J,arrowY:pe,shouldHideArrow:Ee,children:_.jsx(mt.div,{"data-side":ie,"data-align":ee,...I,ref:z,style:{...I.style,animation:ge?void 0:"none"}})})})});fE.displayName=Ym;var pE="PopperArrow",Q$={top:"bottom",right:"left",bottom:"top",left:"right"},mE=T.forwardRef(function(e,t){const{__scopePopper:r,...o}=e,a=K$(pE,r),u=Q$[a.placedSide];return _.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:_.jsx(W$,{...o,ref:t,style:{...o.style,display:"block"}})})});mE.displayName=pE;function Y$(n){return n!==null}var X$=n=>({name:"transformOrigin",options:n,fn(e){var A,N,D;const{placement:t,rects:r,middlewareData:o}=e,u=((A=o.arrow)==null?void 0:A.centerOffset)!==0,c=u?0:n.arrowWidth,h=u?0:n.arrowHeight,[p,g]=gE(t),x={start:"0%",center:"50%",end:"100%"}[g],w=(((N=o.arrow)==null?void 0:N.x)??0)+c/2,C=(((D=o.arrow)==null?void 0:D.y)??0)+h/2;let k="",I="";return p==="bottom"?(k=u?x:`${w}px`,I=`${-h}px`):p==="top"?(k=u?x:`${w}px`,I=`${r.floating.height+h}px`):p==="right"?(k=`${-h}px`,I=u?x:`${C}px`):p==="left"&&(k=`${r.floating.width+h}px`,I=u?x:`${C}px`),{data:{x:k,y:I}}}});function gE(n){const[e,t="center"]=n.split("-");return[e,t]}var J$=cE,Z$=hE,eN=fE,tN=mE,nN="Portal",yE=T.forwardRef((n,e)=>{var c;const{container:t,...r}=n,[o,a]=T.useState(!1);Cn(()=>a(!0),[]);const u=t||o&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return u?yI.createPortal(_.jsx(mt.div,{...r,ref:e}),u):null});yE.displayName=nN;function Xx({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,o]=rN({defaultProp:e,onChange:t}),a=n!==void 0,u=a?n:r,c=di(t),h=T.useCallback(p=>{if(a){const x=typeof p=="function"?p(n):p;x!==n&&c(x)}else o(p)},[a,n,o,c]);return[u,h]}function rN({defaultProp:n,onChange:e}){const t=T.useState(n),[r]=t,o=T.useRef(r),a=di(e);return T.useEffect(()=>{o.current!==r&&(a(r),o.current=r)},[r,o,a]),t}function iN(n){const e=T.useRef({value:n,previous:n});return T.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var sN="VisuallyHidden",vE=T.forwardRef((n,e)=>_.jsx(mt.span,{...n,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}));vE.displayName=sN;var oN=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Go=new WeakMap,Mc=new WeakMap,Vc={},Zf=0,xE=function(n){return n&&(n.host||xE(n.parentNode))},aN=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=xE(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},lN=function(n,e,t,r){var o=aN(e,Array.isArray(n)?n:[n]);Vc[t]||(Vc[t]=new WeakMap);var a=Vc[t],u=[],c=new Set,h=new Set(o),p=function(x){!x||c.has(x)||(c.add(x),p(x.parentNode))};o.forEach(p);var g=function(x){!x||h.has(x)||Array.prototype.forEach.call(x.children,function(w){if(c.has(w))g(w);else try{var C=w.getAttribute(r),k=C!==null&&C!=="false",I=(Go.get(w)||0)+1,A=(a.get(w)||0)+1;Go.set(w,I),a.set(w,A),u.push(w),I===1&&k&&Mc.set(w,!0),A===1&&w.setAttribute(t,"true"),k||w.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",w,N)}})};return g(e),c.clear(),Zf++,function(){u.forEach(function(x){var w=Go.get(x)-1,C=a.get(x)-1;Go.set(x,w),a.set(x,C),w||(Mc.has(x)||x.removeAttribute(r),Mc.delete(x)),C||x.removeAttribute(t)}),Zf--,Zf||(Go=new WeakMap,Go=new WeakMap,Mc=new WeakMap,Vc={})}},uN=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),o=oN(n);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),lN(r,o,t,"aria-hidden")):function(){return null}},nd="right-scroll-bar-position",rd="width-before-scroll-bar",cN="with-scroll-bars-hidden",dN="--removed-body-scroll-bar-size";function ep(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function hN(n,e){var t=T.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var o=t.value;o!==r&&(t.value=r,t.callback(r,o))}}}})[0];return t.callback=e,t.facade}var fN=typeof window<"u"?T.useLayoutEffect:T.useEffect,Jx=new WeakMap;function pN(n,e){var t=hN(null,function(r){return n.forEach(function(o){return ep(o,r)})});return fN(function(){var r=Jx.get(t);if(r){var o=new Set(r),a=new Set(n),u=t.current;o.forEach(function(c){a.has(c)||ep(c,null)}),a.forEach(function(c){o.has(c)||ep(c,u)})}Jx.set(t,n)},[n]),t}function mN(n){return n}function gN(n,e){e===void 0&&(e=mN);var t=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var u=e(a,r);return t.push(u),function(){t=t.filter(function(c){return c!==u})}},assignSyncMedium:function(a){for(r=!0;t.length;){var u=t;t=[],u.forEach(a)}t={push:function(c){return a(c)},filter:function(){return t}}},assignMedium:function(a){r=!0;var u=[];if(t.length){var c=t;t=[],c.forEach(a),u=t}var h=function(){var g=u;u=[],g.forEach(a)},p=function(){return Promise.resolve().then(h)};p(),t={push:function(g){u.push(g),p()},filter:function(g){return u=u.filter(g),t}}}};return o}function yN(n){n===void 0&&(n={});var e=gN(null);return e.options=Er({async:!0,ssr:!1},n),e}var wE=function(n){var e=n.sideCar,t=ru(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,Er({},t))};wE.isSideCarExport=!0;function vN(n,e){return n.useMedium(e),wE}var _E=yN(),tp=function(){},Jd=T.forwardRef(function(n,e){var t=T.useRef(null),r=T.useState({onScrollCapture:tp,onWheelCapture:tp,onTouchMoveCapture:tp}),o=r[0],a=r[1],u=n.forwardProps,c=n.children,h=n.className,p=n.removeScrollBar,g=n.enabled,x=n.shards,w=n.sideCar,C=n.noIsolation,k=n.inert,I=n.allowPinchZoom,A=n.as,N=A===void 0?"div":A,D=n.gapMode,z=ru(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),K=w,X=pN([t,e]),ne=Er(Er({},z),o);return T.createElement(T.Fragment,null,g&&T.createElement(K,{sideCar:_E,removeScrollBar:p,shards:x,noIsolation:C,inert:k,setCallbacks:a,allowPinchZoom:!!I,lockRef:t,gapMode:D}),u?T.cloneElement(T.Children.only(c),Er(Er({},ne),{ref:X})):T.createElement(N,Er({},ne,{className:h,ref:X}),c))});Jd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Jd.classNames={fullWidth:rd,zeroRight:nd};var xN=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function wN(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=xN();return e&&n.setAttribute("nonce",e),n}function _N(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function EN(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var CN=function(){var n=0,e=null;return{add:function(t){n==0&&(e=wN())&&(_N(e,t),EN(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},SN=function(){var n=CN();return function(e,t){T.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},EE=function(){var n=SN(),e=function(t){var r=t.styles,o=t.dynamic;return n(r,o),null};return e},TN={left:0,top:0,right:0,gap:0},np=function(n){return parseInt(n||"",10)||0},IN=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],o=e[n==="padding"?"paddingRight":"marginRight"];return[np(t),np(r),np(o)]},kN=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return TN;var e=IN(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},AN=EE(),sa="data-scroll-locked",PN=function(n,e,t,r){var o=n.left,a=n.top,u=n.right,c=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(cN,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(sa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(nd,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(rd,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(nd," .").concat(nd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(rd," .").concat(rd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(sa,`] {
    `).concat(dN,": ").concat(c,`px;
  }
`)},Zx=function(){var n=parseInt(document.body.getAttribute(sa)||"0",10);return isFinite(n)?n:0},RN=function(){T.useEffect(function(){return document.body.setAttribute(sa,(Zx()+1).toString()),function(){var n=Zx()-1;n<=0?document.body.removeAttribute(sa):document.body.setAttribute(sa,n.toString())}},[])},bN=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,o=r===void 0?"margin":r;RN();var a=T.useMemo(function(){return kN(o)},[o]);return T.createElement(AN,{styles:PN(a,!e,o,t?"":"!important")})},Lp=!1;if(typeof window<"u")try{var jc=Object.defineProperty({},"passive",{get:function(){return Lp=!0,!0}});window.addEventListener("test",jc,jc),window.removeEventListener("test",jc,jc)}catch{Lp=!1}var Ko=Lp?{passive:!1}:!1,$N=function(n){return n.tagName==="TEXTAREA"},CE=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!$N(n)&&t[e]==="visible")},NN=function(n){return CE(n,"overflowY")},FN=function(n){return CE(n,"overflowX")},ew=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=SE(n,r);if(o){var a=TE(n,r),u=a[1],c=a[2];if(u>c)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},LN=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},ON=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},SE=function(n,e){return n==="v"?NN(e):FN(e)},TE=function(n,e){return n==="v"?LN(e):ON(e)},DN=function(n,e){return n==="h"&&e==="rtl"?-1:1},MN=function(n,e,t,r,o){var a=DN(n,window.getComputedStyle(e).direction),u=a*r,c=t.target,h=e.contains(c),p=!1,g=u>0,x=0,w=0;do{var C=TE(n,c),k=C[0],I=C[1],A=C[2],N=I-A-a*k;(k||N)&&SE(n,c)&&(x+=N,w+=k),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!h&&c!==document.body||h&&(e.contains(c)||e===c));return(g&&Math.abs(x)<1||!g&&Math.abs(w)<1)&&(p=!0),p},Uc=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},tw=function(n){return[n.deltaX,n.deltaY]},nw=function(n){return n&&"current"in n?n.current:n},VN=function(n,e){return n[0]===e[0]&&n[1]===e[1]},jN=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},UN=0,Qo=[];function BN(n){var e=T.useRef([]),t=T.useRef([0,0]),r=T.useRef(),o=T.useState(UN++)[0],a=T.useState(EE)[0],u=T.useRef(n);T.useEffect(function(){u.current=n},[n]),T.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(o));var I=Z1([n.lockRef.current],(n.shards||[]).map(nw),!0).filter(Boolean);return I.forEach(function(A){return A.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),I.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(o))})}}},[n.inert,n.lockRef.current,n.shards]);var c=T.useCallback(function(I,A){if("touches"in I&&I.touches.length===2||I.type==="wheel"&&I.ctrlKey)return!u.current.allowPinchZoom;var N=Uc(I),D=t.current,z="deltaX"in I?I.deltaX:D[0]-N[0],K="deltaY"in I?I.deltaY:D[1]-N[1],X,ne=I.target,b=Math.abs(z)>Math.abs(K)?"h":"v";if("touches"in I&&b==="h"&&ne.type==="range")return!1;var R=ew(b,ne);if(!R)return!0;if(R?X=b:(X=b==="v"?"h":"v",R=ew(b,ne)),!R)return!1;if(!r.current&&"changedTouches"in I&&(z||K)&&(r.current=X),!X)return!0;var $=r.current||X;return MN($,A,I,$==="h"?z:K)},[]),h=T.useCallback(function(I){var A=I;if(!(!Qo.length||Qo[Qo.length-1]!==a)){var N="deltaY"in A?tw(A):Uc(A),D=e.current.filter(function(X){return X.name===A.type&&(X.target===A.target||A.target===X.shadowParent)&&VN(X.delta,N)})[0];if(D&&D.should){A.cancelable&&A.preventDefault();return}if(!D){var z=(u.current.shards||[]).map(nw).filter(Boolean).filter(function(X){return X.contains(A.target)}),K=z.length>0?c(A,z[0]):!u.current.noIsolation;K&&A.cancelable&&A.preventDefault()}}},[]),p=T.useCallback(function(I,A,N,D){var z={name:I,delta:A,target:N,should:D,shadowParent:zN(N)};e.current.push(z),setTimeout(function(){e.current=e.current.filter(function(K){return K!==z})},1)},[]),g=T.useCallback(function(I){t.current=Uc(I),r.current=void 0},[]),x=T.useCallback(function(I){p(I.type,tw(I),I.target,c(I,n.lockRef.current))},[]),w=T.useCallback(function(I){p(I.type,Uc(I),I.target,c(I,n.lockRef.current))},[]);T.useEffect(function(){return Qo.push(a),n.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:w}),document.addEventListener("wheel",h,Ko),document.addEventListener("touchmove",h,Ko),document.addEventListener("touchstart",g,Ko),function(){Qo=Qo.filter(function(I){return I!==a}),document.removeEventListener("wheel",h,Ko),document.removeEventListener("touchmove",h,Ko),document.removeEventListener("touchstart",g,Ko)}},[]);var C=n.removeScrollBar,k=n.inert;return T.createElement(T.Fragment,null,k?T.createElement(a,{styles:jN(o)}):null,C?T.createElement(bN,{gapMode:n.gapMode}):null)}function zN(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const WN=vN(_E,BN);var IE=T.forwardRef(function(n,e){return T.createElement(Jd,Er({},n,{ref:e,sideCar:WN}))});IE.classNames=Jd.classNames;var HN=[" ","Enter","ArrowUp","ArrowDown"],qN=[" ","Enter"],hu="Select",[Zd,eh,GN]=Cb(hu),[Pa,yO]=jm(hu,[GN,lE]),th=lE(),[KN,ls]=Pa(hu),[QN,YN]=Pa(hu),kE=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:o,onOpenChange:a,value:u,defaultValue:c,onValueChange:h,dir:p,name:g,autoComplete:x,disabled:w,required:C,form:k}=n,I=th(e),[A,N]=T.useState(null),[D,z]=T.useState(null),[K,X]=T.useState(!1),ne=Tb(p),[b=!1,R]=Xx({prop:r,defaultProp:o,onChange:a}),[$,O]=Xx({prop:u,defaultProp:c,onChange:h}),V=T.useRef(null),M=A?k||!!A.closest("form"):!0,[F,ve]=T.useState(new Set),Fe=Array.from(F).map(we=>we.props.value).join(";");return _.jsx(J$,{...I,children:_.jsxs(KN,{required:C,scope:e,trigger:A,onTriggerChange:N,valueNode:D,onValueNodeChange:z,valueNodeHasChildren:K,onValueNodeHasChildrenChange:X,contentId:Um(),value:$,onValueChange:O,open:b,onOpenChange:R,dir:ne,triggerPointerDownPosRef:V,disabled:w,children:[_.jsx(Zd.Provider,{scope:e,children:_.jsx(QN,{scope:n.__scopeSelect,onNativeOptionAdd:T.useCallback(we=>{ve(ge=>new Set(ge).add(we))},[]),onNativeOptionRemove:T.useCallback(we=>{ve(ge=>{const q=new Set(ge);return q.delete(we),q})},[]),children:t})}),M?_.jsxs(JE,{"aria-hidden":!0,required:C,tabIndex:-1,name:g,autoComplete:x,value:$,onChange:we=>O(we.target.value),disabled:w,form:k,children:[$===void 0?_.jsx("option",{value:""}):null,Array.from(F)]},Fe):null]})})};kE.displayName=hu;var AE="SelectTrigger",PE=T.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...o}=n,a=th(t),u=ls(AE,t),c=u.disabled||r,h=Bt(e,u.onTriggerChange),p=eh(t),g=T.useRef("touch"),[x,w,C]=ZE(I=>{const A=p().filter(z=>!z.disabled),N=A.find(z=>z.value===u.value),D=eC(A,I,N);D!==void 0&&u.onValueChange(D.value)}),k=I=>{c||(u.onOpenChange(!0),C()),I&&(u.triggerPointerDownPosRef.current={x:Math.round(I.pageX),y:Math.round(I.pageY)})};return _.jsx(Z$,{asChild:!0,...a,children:_.jsx(mt.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":XE(u.value)?"":void 0,...o,ref:h,onClick:xt(o.onClick,I=>{I.currentTarget.focus(),g.current!=="mouse"&&k(I)}),onPointerDown:xt(o.onPointerDown,I=>{g.current=I.pointerType;const A=I.target;A.hasPointerCapture(I.pointerId)&&A.releasePointerCapture(I.pointerId),I.button===0&&I.ctrlKey===!1&&I.pointerType==="mouse"&&(k(I),I.preventDefault())}),onKeyDown:xt(o.onKeyDown,I=>{const A=x.current!=="";!(I.ctrlKey||I.altKey||I.metaKey)&&I.key.length===1&&w(I.key),!(A&&I.key===" ")&&HN.includes(I.key)&&(k(),I.preventDefault())})})})});PE.displayName=AE;var RE="SelectValue",bE=T.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:o,children:a,placeholder:u="",...c}=n,h=ls(RE,t),{onValueNodeHasChildrenChange:p}=h,g=a!==void 0,x=Bt(e,h.onValueNodeChange);return Cn(()=>{p(g)},[p,g]),_.jsx(mt.span,{...c,ref:x,style:{pointerEvents:"none"},children:XE(h.value)?_.jsx(_.Fragment,{children:u}):a})});bE.displayName=RE;var XN="SelectIcon",$E=T.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...o}=n;return _.jsx(mt.span,{"aria-hidden":!0,...o,ref:e,children:r||"▼"})});$E.displayName=XN;var JN="SelectPortal",NE=n=>_.jsx(yE,{asChild:!0,...n});NE.displayName=JN;var qs="SelectContent",FE=T.forwardRef((n,e)=>{const t=ls(qs,n.__scopeSelect),[r,o]=T.useState();if(Cn(()=>{o(new DocumentFragment)},[]),!t.open){const a=r;return a?eu.createPortal(_.jsx(LE,{scope:n.__scopeSelect,children:_.jsx(Zd.Slot,{scope:n.__scopeSelect,children:_.jsx("div",{children:n.children})})}),a):null}return _.jsx(OE,{...n,ref:e})});FE.displayName=qs;var tr=10,[LE,us]=Pa(qs),ZN="SelectContentImpl",OE=T.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:u,side:c,sideOffset:h,align:p,alignOffset:g,arrowPadding:x,collisionBoundary:w,collisionPadding:C,sticky:k,hideWhenDetached:I,avoidCollisions:A,...N}=n,D=ls(qs,t),[z,K]=T.useState(null),[X,ne]=T.useState(null),b=Bt(e,ce=>K(ce)),[R,$]=T.useState(null),[O,V]=T.useState(null),M=eh(t),[F,ve]=T.useState(!1),Fe=T.useRef(!1);T.useEffect(()=>{if(z)return uN(z)},[z]),Ob();const we=T.useCallback(ce=>{const[_e,...Oe]=M().map(Be=>Be.ref.current),[$e]=Oe.slice(-1),Me=document.activeElement;for(const Be of ce)if(Be===Me||(Be==null||Be.scrollIntoView({block:"nearest"}),Be===_e&&X&&(X.scrollTop=0),Be===$e&&X&&(X.scrollTop=X.scrollHeight),Be==null||Be.focus(),document.activeElement!==Me))return},[M,X]),ge=T.useCallback(()=>we([R,z]),[we,R,z]);T.useEffect(()=>{F&&ge()},[F,ge]);const{onOpenChange:q,triggerPointerDownPosRef:ie}=D;T.useEffect(()=>{if(z){let ce={x:0,y:0};const _e=$e=>{var Me,Be;ce={x:Math.abs(Math.round($e.pageX)-(((Me=ie.current)==null?void 0:Me.x)??0)),y:Math.abs(Math.round($e.pageY)-(((Be=ie.current)==null?void 0:Be.y)??0))}},Oe=$e=>{ce.x<=10&&ce.y<=10?$e.preventDefault():z.contains($e.target)||q(!1),document.removeEventListener("pointermove",_e),ie.current=null};return ie.current!==null&&(document.addEventListener("pointermove",_e),document.addEventListener("pointerup",Oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_e),document.removeEventListener("pointerup",Oe,{capture:!0})}}},[z,q,ie]),T.useEffect(()=>{const ce=()=>q(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[q]);const[ee,U]=ZE(ce=>{const _e=M().filter(Me=>!Me.disabled),Oe=_e.find(Me=>Me.ref.current===document.activeElement),$e=eC(_e,ce,Oe);$e&&setTimeout(()=>$e.ref.current.focus())}),J=T.useCallback((ce,_e,Oe)=>{const $e=!Fe.current&&!Oe;(D.value!==void 0&&D.value===_e||$e)&&($(ce),$e&&(Fe.current=!0))},[D.value]),pe=T.useCallback(()=>z==null?void 0:z.focus(),[z]),Ee=T.useCallback((ce,_e,Oe)=>{const $e=!Fe.current&&!Oe;(D.value!==void 0&&D.value===_e||$e)&&V(ce)},[D.value]),Se=r==="popper"?Op:DE,Ae=Se===Op?{side:c,sideOffset:h,align:p,alignOffset:g,arrowPadding:x,collisionBoundary:w,collisionPadding:C,sticky:k,hideWhenDetached:I,avoidCollisions:A}:{};return _.jsx(LE,{scope:t,content:z,viewport:X,onViewportChange:ne,itemRefCallback:J,selectedItem:R,onItemLeave:pe,itemTextRefCallback:Ee,focusSelectedItem:ge,selectedItemText:O,position:r,isPositioned:F,searchRef:ee,children:_.jsx(IE,{as:ya,allowPinchZoom:!0,children:_.jsx(Q_,{asChild:!0,trapped:D.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:xt(o,ce=>{var _e;(_e=D.trigger)==null||_e.focus({preventScroll:!0}),ce.preventDefault()}),children:_.jsx(G_,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>D.onOpenChange(!1),children:_.jsx(Se,{role:"listbox",id:D.contentId,"data-state":D.open?"open":"closed",dir:D.dir,onContextMenu:ce=>ce.preventDefault(),...N,...Ae,onPlaced:()=>ve(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:xt(N.onKeyDown,ce=>{const _e=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!_e&&ce.key.length===1&&U(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let $e=M().filter(Me=>!Me.disabled).map(Me=>Me.ref.current);if(["ArrowUp","End"].includes(ce.key)&&($e=$e.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const Me=ce.target,Be=$e.indexOf(Me);$e=$e.slice(Be+1)}setTimeout(()=>we($e)),ce.preventDefault()}})})})})})})});OE.displayName=ZN;var eF="SelectItemAlignedPosition",DE=T.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...o}=n,a=ls(qs,t),u=us(qs,t),[c,h]=T.useState(null),[p,g]=T.useState(null),x=Bt(e,b=>g(b)),w=eh(t),C=T.useRef(!1),k=T.useRef(!0),{viewport:I,selectedItem:A,selectedItemText:N,focusSelectedItem:D}=u,z=T.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&p&&I&&A&&N){const b=a.trigger.getBoundingClientRect(),R=p.getBoundingClientRect(),$=a.valueNode.getBoundingClientRect(),O=N.getBoundingClientRect();if(a.dir!=="rtl"){const Me=O.left-R.left,Be=$.left-Me,ct=b.left-Be,Pt=b.width+ct,Sn=Math.max(Pt,R.width),On=window.innerWidth-tr,Dn=Fx(Be,[tr,Math.max(tr,On-Sn)]);c.style.minWidth=Pt+"px",c.style.left=Dn+"px"}else{const Me=R.right-O.right,Be=window.innerWidth-$.right-Me,ct=window.innerWidth-b.right-Be,Pt=b.width+ct,Sn=Math.max(Pt,R.width),On=window.innerWidth-tr,Dn=Fx(Be,[tr,Math.max(tr,On-Sn)]);c.style.minWidth=Pt+"px",c.style.right=Dn+"px"}const V=w(),M=window.innerHeight-tr*2,F=I.scrollHeight,ve=window.getComputedStyle(p),Fe=parseInt(ve.borderTopWidth,10),we=parseInt(ve.paddingTop,10),ge=parseInt(ve.borderBottomWidth,10),q=parseInt(ve.paddingBottom,10),ie=Fe+we+F+q+ge,ee=Math.min(A.offsetHeight*5,ie),U=window.getComputedStyle(I),J=parseInt(U.paddingTop,10),pe=parseInt(U.paddingBottom,10),Ee=b.top+b.height/2-tr,Se=M-Ee,Ae=A.offsetHeight/2,ce=A.offsetTop+Ae,_e=Fe+we+ce,Oe=ie-_e;if(_e<=Ee){const Me=V.length>0&&A===V[V.length-1].ref.current;c.style.bottom="0px";const Be=p.clientHeight-I.offsetTop-I.offsetHeight,ct=Math.max(Se,Ae+(Me?pe:0)+Be+ge),Pt=_e+ct;c.style.height=Pt+"px"}else{const Me=V.length>0&&A===V[0].ref.current;c.style.top="0px";const ct=Math.max(Ee,Fe+I.offsetTop+(Me?J:0)+Ae)+Oe;c.style.height=ct+"px",I.scrollTop=_e-Ee+I.offsetTop}c.style.margin=`${tr}px 0`,c.style.minHeight=ee+"px",c.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>C.current=!0)}},[w,a.trigger,a.valueNode,c,p,I,A,N,a.dir,r]);Cn(()=>z(),[z]);const[K,X]=T.useState();Cn(()=>{p&&X(window.getComputedStyle(p).zIndex)},[p]);const ne=T.useCallback(b=>{b&&k.current===!0&&(z(),D==null||D(),k.current=!1)},[z,D]);return _.jsx(nF,{scope:t,contentWrapper:c,shouldExpandOnScrollRef:C,onScrollButtonChange:ne,children:_.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:K},children:_.jsx(mt.div,{...o,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});DE.displayName=eF;var tF="SelectPopperPosition",Op=T.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:o=tr,...a}=n,u=th(t);return _.jsx(eN,{...u,...a,ref:e,align:r,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Op.displayName=tF;var[nF,Xm]=Pa(qs,{}),Dp="SelectViewport",ME=T.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...o}=n,a=us(Dp,t),u=Xm(Dp,t),c=Bt(e,a.onViewportChange),h=T.useRef(0);return _.jsxs(_.Fragment,{children:[_.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),_.jsx(Zd.Slot,{scope:t,children:_.jsx(mt.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:xt(o.onScroll,p=>{const g=p.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:w}=u;if(w!=null&&w.current&&x){const C=Math.abs(h.current-g.scrollTop);if(C>0){const k=window.innerHeight-tr*2,I=parseFloat(x.style.minHeight),A=parseFloat(x.style.height),N=Math.max(I,A);if(N<k){const D=N+C,z=Math.min(k,D),K=D-z;x.style.height=z+"px",x.style.bottom==="0px"&&(g.scrollTop=K>0?K:0,x.style.justifyContent="flex-end")}}}h.current=g.scrollTop})})})]})});ME.displayName=Dp;var VE="SelectGroup",[rF,iF]=Pa(VE),sF=T.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=Um();return _.jsx(rF,{scope:t,id:o,children:_.jsx(mt.div,{role:"group","aria-labelledby":o,...r,ref:e})})});sF.displayName=VE;var jE="SelectLabel",UE=T.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=iF(jE,t);return _.jsx(mt.div,{id:o.id,...r,ref:e})});UE.displayName=jE;var Id="SelectItem",[oF,BE]=Pa(Id),zE=T.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:o=!1,textValue:a,...u}=n,c=ls(Id,t),h=us(Id,t),p=c.value===r,[g,x]=T.useState(a??""),[w,C]=T.useState(!1),k=Bt(e,D=>{var z;return(z=h.itemRefCallback)==null?void 0:z.call(h,D,r,o)}),I=Um(),A=T.useRef("touch"),N=()=>{o||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return _.jsx(oF,{scope:t,value:r,disabled:o,textId:I,isSelected:p,onItemTextChange:T.useCallback(D=>{x(z=>z||((D==null?void 0:D.textContent)??"").trim())},[]),children:_.jsx(Zd.ItemSlot,{scope:t,value:r,disabled:o,textValue:g,children:_.jsx(mt.div,{role:"option","aria-labelledby":I,"data-highlighted":w?"":void 0,"aria-selected":p&&w,"data-state":p?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:k,onFocus:xt(u.onFocus,()=>C(!0)),onBlur:xt(u.onBlur,()=>C(!1)),onClick:xt(u.onClick,()=>{A.current!=="mouse"&&N()}),onPointerUp:xt(u.onPointerUp,()=>{A.current==="mouse"&&N()}),onPointerDown:xt(u.onPointerDown,D=>{A.current=D.pointerType}),onPointerMove:xt(u.onPointerMove,D=>{var z;A.current=D.pointerType,o?(z=h.onItemLeave)==null||z.call(h):A.current==="mouse"&&D.currentTarget.focus({preventScroll:!0})}),onPointerLeave:xt(u.onPointerLeave,D=>{var z;D.currentTarget===document.activeElement&&((z=h.onItemLeave)==null||z.call(h))}),onKeyDown:xt(u.onKeyDown,D=>{var K;((K=h.searchRef)==null?void 0:K.current)!==""&&D.key===" "||(qN.includes(D.key)&&N(),D.key===" "&&D.preventDefault())})})})})});zE.displayName=Id;var Nl="SelectItemText",WE=T.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:o,...a}=n,u=ls(Nl,t),c=us(Nl,t),h=BE(Nl,t),p=YN(Nl,t),[g,x]=T.useState(null),w=Bt(e,N=>x(N),h.onItemTextChange,N=>{var D;return(D=c.itemTextRefCallback)==null?void 0:D.call(c,N,h.value,h.disabled)}),C=g==null?void 0:g.textContent,k=T.useMemo(()=>_.jsx("option",{value:h.value,disabled:h.disabled,children:C},h.value),[h.disabled,h.value,C]),{onNativeOptionAdd:I,onNativeOptionRemove:A}=p;return Cn(()=>(I(k),()=>A(k)),[I,A,k]),_.jsxs(_.Fragment,{children:[_.jsx(mt.span,{id:h.textId,...a,ref:w}),h.isSelected&&u.valueNode&&!u.valueNodeHasChildren?eu.createPortal(a.children,u.valueNode):null]})});WE.displayName=Nl;var HE="SelectItemIndicator",qE=T.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return BE(HE,t).isSelected?_.jsx(mt.span,{"aria-hidden":!0,...r,ref:e}):null});qE.displayName=HE;var Mp="SelectScrollUpButton",GE=T.forwardRef((n,e)=>{const t=us(Mp,n.__scopeSelect),r=Xm(Mp,n.__scopeSelect),[o,a]=T.useState(!1),u=Bt(e,r.onScrollButtonChange);return Cn(()=>{if(t.viewport&&t.isPositioned){let c=function(){const p=h.scrollTop>0;a(p)};const h=t.viewport;return c(),h.addEventListener("scroll",c),()=>h.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),o?_.jsx(QE,{...n,ref:u,onAutoScroll:()=>{const{viewport:c,selectedItem:h}=t;c&&h&&(c.scrollTop=c.scrollTop-h.offsetHeight)}}):null});GE.displayName=Mp;var Vp="SelectScrollDownButton",KE=T.forwardRef((n,e)=>{const t=us(Vp,n.__scopeSelect),r=Xm(Vp,n.__scopeSelect),[o,a]=T.useState(!1),u=Bt(e,r.onScrollButtonChange);return Cn(()=>{if(t.viewport&&t.isPositioned){let c=function(){const p=h.scrollHeight-h.clientHeight,g=Math.ceil(h.scrollTop)<p;a(g)};const h=t.viewport;return c(),h.addEventListener("scroll",c),()=>h.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),o?_.jsx(QE,{...n,ref:u,onAutoScroll:()=>{const{viewport:c,selectedItem:h}=t;c&&h&&(c.scrollTop=c.scrollTop+h.offsetHeight)}}):null});KE.displayName=Vp;var QE=T.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...o}=n,a=us("SelectScrollButton",t),u=T.useRef(null),c=eh(t),h=T.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return T.useEffect(()=>()=>h(),[h]),Cn(()=>{var g;const p=c().find(x=>x.ref.current===document.activeElement);(g=p==null?void 0:p.ref.current)==null||g.scrollIntoView({block:"nearest"})},[c]),_.jsx(mt.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:xt(o.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(r,50))}),onPointerMove:xt(o.onPointerMove,()=>{var p;(p=a.onItemLeave)==null||p.call(a),u.current===null&&(u.current=window.setInterval(r,50))}),onPointerLeave:xt(o.onPointerLeave,()=>{h()})})}),aF="SelectSeparator",YE=T.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return _.jsx(mt.div,{"aria-hidden":!0,...r,ref:e})});YE.displayName=aF;var jp="SelectArrow",lF=T.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=th(t),a=ls(jp,t),u=us(jp,t);return a.open&&u.position==="popper"?_.jsx(tN,{...o,...r,ref:e}):null});lF.displayName=jp;function XE(n){return n===""||n===void 0}var JE=T.forwardRef((n,e)=>{const{value:t,...r}=n,o=T.useRef(null),a=Bt(e,o),u=iN(t);return T.useEffect(()=>{const c=o.current,h=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(h,"value").set;if(u!==t&&g){const x=new Event("change",{bubbles:!0});g.call(c,t),c.dispatchEvent(x)}},[u,t]),_.jsx(vE,{asChild:!0,children:_.jsx("select",{...r,ref:a,defaultValue:t})})});JE.displayName="BubbleSelect";function ZE(n){const e=di(n),t=T.useRef(""),r=T.useRef(0),o=T.useCallback(u=>{const c=t.current+u;e(c),function h(p){t.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>h(""),1e3))}(c)},[e]),a=T.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,o,a]}function eC(n,e,t){const o=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let u=uF(n,Math.max(a,0));o.length===1&&(u=u.filter(p=>p!==t));const h=u.find(p=>p.textValue.toLowerCase().startsWith(o.toLowerCase()));return h!==t?h:void 0}function uF(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var cF=kE,tC=PE,dF=bE,hF=$E,fF=NE,nC=FE,pF=ME,rC=UE,iC=zE,mF=WE,gF=qE,sC=GE,oC=KE,aC=YE;/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ar=(n,e)=>{const t=T.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:a=2,absoluteStrokeWidth:u,className:c="",children:h,...p},g)=>T.createElement("svg",{ref:g,...yF,width:o,height:o,stroke:r,strokeWidth:u?Number(a)*24/Number(o):a,className:["lucide",`lucide-${vF(n)}`,c].join(" "),...p},[...e.map(([x,w])=>T.createElement(x,w)),...Array.isArray(h)?h:[h]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=ar("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=ar("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=ar("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=ar("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=ar("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=ar("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=ar("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=ar("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=ar("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=ar("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=ar("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);function dC(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=dC(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function hC(){for(var n,e,t=0,r="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=dC(n))&&(r&&(r+=" "),r+=e);return r}const Jm="-",kF=n=>{const e=PF(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:u=>{const c=u.split(Jm);return c[0]===""&&c.length!==1&&c.shift(),fC(c,e)||AF(u)},getConflictingClassGroupIds:(u,c)=>{const h=t[u]||[];return c&&r[u]?[...h,...r[u]]:h}}},fC=(n,e)=>{var u;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),o=r?fC(n.slice(1),r):void 0;if(o)return o;if(e.validators.length===0)return;const a=n.join(Jm);return(u=e.validators.find(({validator:c})=>c(a)))==null?void 0:u.classGroupId},rw=/^\[(.+)\]$/,AF=n=>{if(rw.test(n)){const e=rw.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},PF=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return bF(Object.entries(n.classGroups),t).forEach(([a,u])=>{Up(u,r,a,e)}),r},Up=(n,e,t,r)=>{n.forEach(o=>{if(typeof o=="string"){const a=o===""?e:iw(e,o);a.classGroupId=t;return}if(typeof o=="function"){if(RF(o)){Up(o(r),e,t,r);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([a,u])=>{Up(u,iw(e,a),t,r)})})},iw=(n,e)=>{let t=n;return e.split(Jm).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},RF=n=>n.isThemeGetter,bF=(n,e)=>e?n.map(([t,r])=>{const o=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([u,c])=>[e+u,c])):a);return[t,o]}):n,$F=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const o=(a,u)=>{t.set(a,u),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let u=t.get(a);if(u!==void 0)return u;if((u=r.get(a))!==void 0)return o(a,u),u},set(a,u){t.has(a)?t.set(a,u):o(a,u)}}},pC="!",NF=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,o=e[0],a=e.length,u=c=>{const h=[];let p=0,g=0,x;for(let A=0;A<c.length;A++){let N=c[A];if(p===0){if(N===o&&(r||c.slice(A,A+a)===e)){h.push(c.slice(g,A)),g=A+a;continue}if(N==="/"){x=A;continue}}N==="["?p++:N==="]"&&p--}const w=h.length===0?c:c.substring(g),C=w.startsWith(pC),k=C?w.substring(1):w,I=x&&x>g?x-g:void 0;return{modifiers:h,hasImportantModifier:C,baseClassName:k,maybePostfixModifierPosition:I}};return t?c=>t({className:c,parseClassName:u}):u},FF=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},LF=n=>({cache:$F(n.cacheSize),parseClassName:NF(n),...kF(n)}),OF=/\s+/,DF=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:o}=e,a=[],u=n.trim().split(OF);let c="";for(let h=u.length-1;h>=0;h-=1){const p=u[h],{modifiers:g,hasImportantModifier:x,baseClassName:w,maybePostfixModifierPosition:C}=t(p);let k=!!C,I=r(k?w.substring(0,C):w);if(!I){if(!k){c=p+(c.length>0?" "+c:c);continue}if(I=r(w),!I){c=p+(c.length>0?" "+c:c);continue}k=!1}const A=FF(g).join(":"),N=x?A+pC:A,D=N+I;if(a.includes(D))continue;a.push(D);const z=o(I,k);for(let K=0;K<z.length;++K){const X=z[K];a.push(N+X)}c=p+(c.length>0?" "+c:c)}return c};function MF(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=mC(e))&&(r&&(r+=" "),r+=t);return r}const mC=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=mC(n[r]))&&(t&&(t+=" "),t+=e);return t};function VF(n,...e){let t,r,o,a=u;function u(h){const p=e.reduce((g,x)=>x(g),n());return t=LF(p),r=t.cache.get,o=t.cache.set,a=c,c(h)}function c(h){const p=r(h);if(p)return p;const g=DF(h,t);return o(h,g),g}return function(){return a(MF.apply(null,arguments))}}const nt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},gC=/^\[(?:([a-z-]+):)?(.+)\]$/i,jF=/^\d+\/\d+$/,UF=new Set(["px","full","screen"]),BF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zF=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,WF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,HF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,qF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ei=n=>oa(n)||UF.has(n)||jF.test(n),Ui=n=>Ra(n,"length",eL),oa=n=>!!n&&!Number.isNaN(Number(n)),rp=n=>Ra(n,"number",oa),Il=n=>!!n&&Number.isInteger(Number(n)),GF=n=>n.endsWith("%")&&oa(n.slice(0,-1)),De=n=>gC.test(n),Bi=n=>BF.test(n),KF=new Set(["length","size","percentage"]),QF=n=>Ra(n,KF,yC),YF=n=>Ra(n,"position",yC),XF=new Set(["image","url"]),JF=n=>Ra(n,XF,nL),ZF=n=>Ra(n,"",tL),kl=()=>!0,Ra=(n,e,t)=>{const r=gC.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},eL=n=>zF.test(n)&&!WF.test(n),yC=()=>!1,tL=n=>HF.test(n),nL=n=>qF.test(n),rL=()=>{const n=nt("colors"),e=nt("spacing"),t=nt("blur"),r=nt("brightness"),o=nt("borderColor"),a=nt("borderRadius"),u=nt("borderSpacing"),c=nt("borderWidth"),h=nt("contrast"),p=nt("grayscale"),g=nt("hueRotate"),x=nt("invert"),w=nt("gap"),C=nt("gradientColorStops"),k=nt("gradientColorStopPositions"),I=nt("inset"),A=nt("margin"),N=nt("opacity"),D=nt("padding"),z=nt("saturate"),K=nt("scale"),X=nt("sepia"),ne=nt("skew"),b=nt("space"),R=nt("translate"),$=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",De,e],M=()=>[De,e],F=()=>["",ei,Ui],ve=()=>["auto",oa,De],Fe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],we=()=>["solid","dashed","dotted","double","none"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],ie=()=>["","0",De],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[oa,De];return{cacheSize:500,separator:":",theme:{colors:[kl],spacing:[ei,Ui],blur:["none","",Bi,De],brightness:U(),borderColor:[n],borderRadius:["none","","full",Bi,De],borderSpacing:M(),borderWidth:F(),contrast:U(),grayscale:ie(),hueRotate:U(),invert:ie(),gap:M(),gradientColorStops:[n],gradientColorStopPositions:[GF,Ui],inset:V(),margin:V(),opacity:U(),padding:M(),saturate:U(),scale:U(),sepia:ie(),skew:U(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",De]}],container:["container"],columns:[{columns:[Bi]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Fe(),De]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[I]}],"inset-x":[{"inset-x":[I]}],"inset-y":[{"inset-y":[I]}],start:[{start:[I]}],end:[{end:[I]}],top:[{top:[I]}],right:[{right:[I]}],bottom:[{bottom:[I]}],left:[{left:[I]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Il,De]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",De]}],grow:[{grow:ie()}],shrink:[{shrink:ie()}],order:[{order:["first","last","none",Il,De]}],"grid-cols":[{"grid-cols":[kl]}],"col-start-end":[{col:["auto",{span:["full",Il,De]},De]}],"col-start":[{"col-start":ve()}],"col-end":[{"col-end":ve()}],"grid-rows":[{"grid-rows":[kl]}],"row-start-end":[{row:["auto",{span:[Il,De]},De]}],"row-start":[{"row-start":ve()}],"row-end":[{"row-end":ve()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",De]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",De]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[D]}],px:[{px:[D]}],py:[{py:[D]}],ps:[{ps:[D]}],pe:[{pe:[D]}],pt:[{pt:[D]}],pr:[{pr:[D]}],pb:[{pb:[D]}],pl:[{pl:[D]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",De,e]}],"min-w":[{"min-w":[De,e,"min","max","fit"]}],"max-w":[{"max-w":[De,e,"none","full","min","max","fit","prose",{screen:[Bi]},Bi]}],h:[{h:[De,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[De,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[De,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[De,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Bi,Ui]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",rp]}],"font-family":[{font:[kl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",De]}],"line-clamp":[{"line-clamp":["none",oa,rp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ei,De]}],"list-image":[{"list-image":["none",De]}],"list-style-type":[{list:["none","disc","decimal",De]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...we(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ei,Ui]}],"underline-offset":[{"underline-offset":["auto",ei,De]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",De]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",De]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Fe(),YF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",QF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},JF]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[C]}],"gradient-via":[{via:[C]}],"gradient-to":[{to:[C]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...we(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:we()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...we()]}],"outline-offset":[{"outline-offset":[ei,De]}],"outline-w":[{outline:[ei,Ui]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[ei,Ui]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Bi,ZF]}],"shadow-color":[{shadow:[kl]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...ge(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ge()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Bi,De]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[x]}],saturate:[{saturate:[z]}],sepia:[{sepia:[X]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[z]}],"backdrop-sepia":[{"backdrop-sepia":[X]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",De]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",De]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",De]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[K]}],"scale-x":[{"scale-x":[K]}],"scale-y":[{"scale-y":[K]}],rotate:[{rotate:[Il,De]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[ne]}],"skew-y":[{"skew-y":[ne]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",De]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",De]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",De]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[ei,Ui,rp]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},iL=VF(rL);function wt(...n){return iL(hC(n))}const sL=cF,oL=dF,vC=T.forwardRef(({className:n,children:e,...t},r)=>_.jsxs(tC,{ref:r,className:wt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...t,children:[e,_.jsx(hF,{asChild:!0,children:_.jsx(uC,{className:"h-4 w-4 opacity-50"})})]}));vC.displayName=tC.displayName;const xC=T.forwardRef(({className:n,...e},t)=>_.jsx(sC,{ref:t,className:wt("flex cursor-default items-center justify-center py-1",n),...e,children:_.jsx(TF,{className:"h-4 w-4"})}));xC.displayName=sC.displayName;const wC=T.forwardRef(({className:n,...e},t)=>_.jsx(oC,{ref:t,className:wt("flex cursor-default items-center justify-center py-1",n),...e,children:_.jsx(uC,{className:"h-4 w-4"})}));wC.displayName=oC.displayName;const _C=T.forwardRef(({className:n,children:e,position:t="popper",...r},o)=>_.jsx(fF,{children:_.jsxs(nC,{ref:o,className:wt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-white text-gray-900 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[_.jsx(xC,{}),_.jsx(pF,{className:wt("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),_.jsx(wC,{})]})}));_C.displayName=nC.displayName;const aL=T.forwardRef(({className:n,...e},t)=>_.jsx(rC,{ref:t,className:wt("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...e}));aL.displayName=rC.displayName;const er=T.forwardRef(({className:n,children:e,...t},r)=>_.jsxs(iC,{ref:r,className:wt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[_.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:_.jsx(gF,{children:_.jsx(SF,{className:"h-4 w-4"})})}),_.jsx(mF,{children:e})]}));er.displayName=iC.displayName;const lL=T.forwardRef(({className:n,...e},t)=>_.jsx(aC,{ref:t,className:wt("-mx-1 my-1 h-px bg-muted",n),...e}));lL.displayName=aC.displayName;const ae={LONG_CALL:"LONG_CALL",COVERED_CALL:"COVERED_CALL",CASH_SECURED_PUT:"CASH_SECURED_PUT",COLLAR_STRATEGY:"COLLAR_STRATEGY",OPTIONS_THEORY:"OPTIONS_THEORY",PROTECTIVE_PUT:"PROTECTIVE_PUT",LONG_PUT:"LONG_PUT",LONG_CALL_SPREAD:"LONG_CALL_SPREAD",LONG_PUT_SPREAD:"LONG_PUT_SPREAD",FIG_LEAF:"FIG_LEAF"},xr={[ae.LONG_CALL]:"Long Call",[ae.COVERED_CALL]:"Covered Call",[ae.CASH_SECURED_PUT]:"Cash Secured Put",[ae.COLLAR_STRATEGY]:"Collar Strategy",[ae.OPTIONS_THEORY]:"Options Theory",[ae.PROTECTIVE_PUT]:"Protective Put",[ae.LONG_PUT]:"Long Put",[ae.LONG_CALL_SPREAD]:"Long Call Spread",[ae.LONG_PUT_SPREAD]:"Long Put Spread",[ae.FIG_LEAF]:"Fig Leaf"},uL={[ae.LONG_CALL]:"Learn how to profit from stock price increases with limited risk using long call options.",[ae.COVERED_CALL]:"Learn how to generate income by selling call options against stock you own.",[ae.CASH_SECURED_PUT]:"Selling the Cash Secured Put obligates you to buy stock at strike price if the option is assigned.",[ae.COLLAR_STRATEGY]:"Protect stock positions while generating income through a combined put and call strategy.",[ae.OPTIONS_THEORY]:"Learn Stock Options",[ae.PROTECTIVE_PUT]:"Purchasing a protective put gives you the right to sell stock you already own at strike price.",[ae.LONG_PUT]:"Purchasing a put option, typically in anticipation of a decline in the underlying asset.",[ae.LONG_CALL_SPREAD]:"Bullish strategy: Buy lower-strike call, sell higher-strike call. Limited risk and reward, cheaper than buying calls.",[ae.LONG_PUT_SPREAD]:"A bearish options strategy that buys a put and sells a lower-strike put to reduce cost but caps profit",[ae.FIG_LEAF]:"Fig Leaf strategy buys a deep ITM LEAPS call while selling short-term OTM calls against it, creating a leveraged covered call."},cL=({selectedStrategy:n,onStrategyChange:e})=>{const{isPremium:t}=Vm();return _.jsxs("div",{className:"space-y-4",children:[_.jsx("div",{className:"flex flex-col space-y-2",children:_.jsxs(sL,{value:n,onValueChange:r=>e(r),children:[_.jsx(vC,{className:"w-[280px]",children:_.jsx(oL,{placeholder:"Select a strategy"})}),_.jsxs(_C,{children:[_.jsx(er,{value:ae.OPTIONS_THEORY,children:xr[ae.OPTIONS_THEORY]}),_.jsx(er,{value:ae.COVERED_CALL,children:xr[ae.COVERED_CALL]}),_.jsxs(er,{value:ae.CASH_SECURED_PUT,children:[xr[ae.CASH_SECURED_PUT]," ",!t&&"(Premium)"]}),_.jsxs(er,{value:ae.PROTECTIVE_PUT,children:[xr[ae.PROTECTIVE_PUT]," ",!t&&"(Premium)"]}),_.jsxs(er,{value:ae.LONG_CALL,children:[xr[ae.LONG_CALL]," ",!t&&"(Premium)"]}),_.jsxs(er,{value:ae.LONG_PUT,children:[xr[ae.LONG_PUT]," ",!t&&"(Premium)"]}),_.jsxs(er,{value:ae.COLLAR_STRATEGY,children:[xr[ae.COLLAR_STRATEGY]," ",!t&&"(Premium)"]}),_.jsxs(er,{value:ae.LONG_CALL_SPREAD,children:[xr[ae.LONG_CALL_SPREAD]," ",!t&&"(Premium)"]}),_.jsxs(er,{value:ae.LONG_PUT_SPREAD,children:[xr[ae.LONG_PUT_SPREAD]," ",!t&&"(Premium)"]}),_.jsxs(er,{value:ae.FIG_LEAF,children:[xr[ae.FIG_LEAF]," ",!t&&"(Premium)"]})]})]})}),n&&_.jsx("p",{className:"text-sm text-gray-600",children:uL[n]})]})},sw=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,ow=hC,EC=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return ow(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:o,defaultVariants:a}=e,u=Object.keys(o).map(p=>{const g=t==null?void 0:t[p],x=a==null?void 0:a[p];if(g===null)return null;const w=sw(g)||sw(x);return o[p][w]}),c=t&&Object.entries(t).reduce((p,g)=>{let[x,w]=g;return w===void 0||(p[x]=w),p},{}),h=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:x,className:w,...C}=g;return Object.entries(C).every(k=>{let[I,A]=k;return Array.isArray(A)?A.includes({...a,...c}[I]):{...a,...c}[I]===A})?[...p,x,w]:p},[]);return ow(n,u,h,t==null?void 0:t.class,t==null?void 0:t.className)},dL=EC("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Gs=T.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...o},a)=>{const u=r?ya:"button";return _.jsx(u,{className:wt(dL({variant:e,size:t,className:n})),ref:a,...o})});Gs.displayName="Button";const hL=()=>_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",className:"w-4 h-4 mr-2",children:[_.jsx("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),_.jsx("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),_.jsx("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),_.jsx("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),_.jsx("path",{fill:"none",d:"M0 0h48v48H0z"})]}),fL=()=>{const{user:n,signInWithGoogle:e,logout:t}=Ia();return _.jsx("div",{className:"flex items-center gap-4",children:n?_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("img",{src:n.photoURL,alt:n.displayName,className:"w-8 h-8 rounded-full"}),_.jsx("span",{className:"text-sm text-gray-700",children:n.displayName}),_.jsx(Gs,{onClick:t,variant:"outline",className:"text-sm",children:"Logout"})]}):_.jsxs(Gs,{onClick:e,className:"bg-white text-gray-600 border border-gray-300 hover:bg-gray-50",children:[_.jsx(hL,{}),"Sign in with Google"]})})};var CC="https://js.stripe.com/v3",pL=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/;var mL=function(){for(var e=document.querySelectorAll('script[src^="'.concat(CC,'"]')),t=0;t<e.length;t++){var r=e[t];if(pL.test(r.src))return r}return null},aw=function(e){var t="",r=document.createElement("script");r.src="".concat(CC).concat(t);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(r),r},gL=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"5.4.0",startTime:t})},Al=null,Bc=null,zc=null,yL=function(e){return function(){e(new Error("Failed to load Stripe.js"))}},vL=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},xL=function(e){return Al!==null?Al:(Al=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var o=mL();if(!(o&&e)){if(!o)o=aw(e);else if(o&&zc!==null&&Bc!==null){var a;o.removeEventListener("load",zc),o.removeEventListener("error",Bc),(a=o.parentNode)===null||a===void 0||a.removeChild(o),o=aw(e)}}zc=vL(t,r),Bc=yL(r),o.addEventListener("load",zc),o.addEventListener("error",Bc)}catch(u){r(u);return}}),Al.catch(function(t){return Al=null,Promise.reject(t)}))},wL=function(e,t,r){if(e===null)return null;var o=e.apply(void 0,t);return gL(o,r),o},Pl,SC=!1,TC=function(){return Pl||(Pl=xL(null).catch(function(e){return Pl=null,Promise.reject(e)}),Pl)};Promise.resolve().then(function(){return TC()}).catch(function(n){SC||console.warn(n)});var _L=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];SC=!0;var o=Date.now();return TC().then(function(a){return wL(a,t,o)})};const EL=_L("pk_live_51QZ41vGVXFEMO3WwnZnV3OYuy3PVMYqwcLVayxmJOeMqVFHS496xoUfca4zb7CUmvqAoRoiEIxUY4yjvcFIbtJgl00GDYDN7OP"),CL=async(n,e)=>{try{const t=await EL,{error:r}=await t.redirectToCheckout({lineItems:[{price:"price_1QgWwcGVXFEMO3WwdKO0U4va",quantity:1}],mode:"payment",successUrl:`${window.location.origin}/#/success?userId=${n}`,cancelUrl:`${window.location.origin}/`,customerEmail:e});if(r)throw console.error("Stripe error:",r),r}catch(t){throw console.error("Error initiating checkout:",t),t}},$r=T.forwardRef(({className:n,...e},t)=>_.jsx("div",{ref:t,className:wt("rounded-xl border bg-card text-card-foreground shadow",n),...e}));$r.displayName="Card";const eo=T.forwardRef(({className:n,...e},t)=>_.jsx("div",{ref:t,className:wt("flex flex-col space-y-1.5 p-6",n),...e}));eo.displayName="CardHeader";const to=T.forwardRef(({className:n,...e},t)=>_.jsx("h3",{ref:t,className:wt("font-semibold leading-none tracking-tight",n),...e}));to.displayName="CardTitle";const Zm=T.forwardRef(({className:n,...e},t)=>_.jsx("p",{ref:t,className:wt("text-sm text-muted-foreground",n),...e}));Zm.displayName="CardDescription";const Nr=T.forwardRef(({className:n,...e},t)=>_.jsx("div",{ref:t,className:wt("p-6 pt-0",n),...e}));Nr.displayName="CardContent";const SL=T.forwardRef(({className:n,...e},t)=>_.jsx("div",{ref:t,className:wt("flex items-center p-6 pt-0",n),...e}));SL.displayName="CardFooter";const TL=EC("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),fu=T.forwardRef(({className:n,variant:e,...t},r)=>_.jsx("div",{ref:r,role:"alert",className:wt(TL({variant:e}),n),...t}));fu.displayName="Alert";const IC=T.forwardRef(({className:n,...e},t)=>_.jsx("h5",{ref:t,className:wt("mb-1 font-medium leading-none tracking-tight",n),...e}));IC.displayName="AlertTitle";const pu=T.forwardRef(({className:n,...e},t)=>_.jsx("div",{ref:t,className:wt("text-sm [&_p]:leading-relaxed",n),...e}));pu.displayName="AlertDescription";const IL=()=>{const{user:n}=Ia(),[e,t]=T.useState(!1),[r,o]=T.useState(null),a=async()=>{if(!n){o("Please sign in to continue");return}t(!0),o(null);try{console.log("Price ID:","price_1QgWwcGVXFEMO3WwdKO0U4va"),await CL(n.uid,n.email)}catch(u){console.error("Payment error:",u),o(u.message||"Unable to initiate checkout. Please try again."),t(!1)}};return _.jsxs($r,{className:"max-w-md mx-auto",children:[_.jsx(eo,{children:_.jsx(to,{children:"Upgrade to Premium Access"})}),_.jsx(Nr,{className:"space-y-6",children:_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("h3",{className:"font-medium",children:"Premium Features Include:"}),_.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[_.jsx("li",{children:"Access to All Advanced Options Strategies"}),_.jsx("li",{children:"Detailed Strategy-Specific Practice Scenarios"}),_.jsx("li",{children:"Easily get the value for your money by practicing scenarios."}),_.jsx("li",{children:"One time Payment. Lifetime Subscription."})]})]}),_.jsxs("div",{className:"text-center py-4",children:[_.jsx("span",{className:"text-3xl font-bold",children:"$4.99"}),_.jsx("span",{className:"text-gray-500 ml-2",children:"one-time payment"})]}),r&&_.jsx(fu,{variant:"destructive",className:"bg-red-50",children:_.jsx(pu,{children:r})}),_.jsx(Gs,{onClick:a,className:"w-full bg-purple-600 hover:bg-purple-700 text-white",disabled:e,children:e?_.jsxs(_.Fragment,{children:[_.jsx(cC,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):"Upgrade Now"}),_.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Secure payment powered by Stripe"})]})})]})},kC=T.forwardRef(({className:n,type:e,...t},r)=>_.jsx("input",{type:e,className:wt("flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",n),ref:r,...t}));kC.displayName="Input";var kL="Label",AC=T.forwardRef((n,e)=>_.jsx(mt.label,{...n,ref:e,onMouseDown:t=>{var o;t.target.closest("button, input, select, textarea")||((o=n.onMouseDown)==null||o.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));AC.displayName=kL;var PC=AC;const RC=T.forwardRef(({className:n,...e},t)=>_.jsx(PC,{ref:t,className:wt("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",n),...e}));RC.displayName=PC.displayName;const AL=async(n,e,t,r,o)=>{try{const a=Y2(Mm,"scores");await db(a,{userId:n,score:e,totalQuestions:t,symbol:r,date:new Date,tradeDate:o})}catch(a){throw console.error("Error saving score:",a),a}},Or=n=>{const e=[...n];for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1));[e[t],e[r]]=[e[r],e[t]]}return e},PL=(n,e,t,r,o,a,u)=>{const c=parseFloat(n),h=parseFloat(e),p=parseFloat(t),g=parseFloat(o),x=h+p,w=p*100,C=c*1.1,k=c*.9;return[{id:1,question:`If ${r} rises to $${C.toFixed(2)} (10% increase) before expiration, what would be your profit?`,options:[{text:`$${((C-h)*100-w).toFixed(2)}`,isCorrect:!0},{text:`$${w.toFixed(2)}`,isCorrect:!1},{text:`$${((C-h)*100).toFixed(2)}`,isCorrect:!1},{text:`$${((C-c)*100).toFixed(2)}`,isCorrect:!1}],explanation:`At $${C.toFixed(2)}, the profit is: (Stock Price - Strike Price) × 100 shares - Premium Paid = ($${C.toFixed(2)} - $${h.toFixed(2)}) × 100 - $${w.toFixed(2)} = $${((C-h)*100-w).toFixed(2)}`},{id:2,question:`If ${r} drops to $${k.toFixed(2)} (10% decrease), what is your maximum loss?`,options:[{text:`$${((c-k)*100).toFixed(2)}`,isCorrect:!1},{text:`$${w.toFixed(2)}`,isCorrect:!0},{text:`$${(c*100).toFixed(2)}`,isCorrect:!1},{text:`$${((h-k)*100).toFixed(2)}`,isCorrect:!1}],explanation:`With a long call option, your maximum loss is limited to the premium paid ($${w.toFixed(2)}), no matter how low the stock price goes.`},{id:3,question:`For your ${r} call option, what is the break-even stock price at expiration?`,options:[{text:`$${c.toFixed(2)} (Current Price)`,isCorrect:!1},{text:`$${h.toFixed(2)} (Strike Price)`,isCorrect:!1},{text:`$${x.toFixed(2)} (Strike + Premium)`,isCorrect:!0},{text:`$${(h-p).toFixed(2)}`,isCorrect:!1}],explanation:`Break-even price at expiration = Strike Price + Premium per share = $${h.toFixed(2)} + $${p.toFixed(2)} = $${x.toFixed(2)}`},{id:4,question:`With ${r} currently at $${c.toFixed(2)}, what happens if the stock expires exactly at the strike price of $${h.toFixed(2)}?`,options:[{text:"You break even",isCorrect:!1},{text:`You lose $${w.toFixed(2)} (the premium paid)`,isCorrect:!0},{text:`You lose $${(w/2).toFixed(2)}`,isCorrect:!1},{text:"You make a small profit",isCorrect:!1}],explanation:`At expiration, if the stock price equals the strike price, the option expires at-the-money and worthless. You lose the entire premium paid ($${w.toFixed(2)}).`},{id:5,question:`On ${a}, ${r} closed at $${o}. What was your actual profit/loss on this trade?`,options:[{text:g>h?`Profit of $${((g-h)*100-w).toFixed(2)}`:`Loss of $${w.toFixed(2)}`,isCorrect:!0},{text:g>c?`Profit of $${((g-c)*100).toFixed(2)}`:`Loss of $${((c-g)*100).toFixed(2)}`,isCorrect:!1},{text:g>h?`Profit of $${((g-h)*100).toFixed(2)}`:`Loss of $${((h-g)*100).toFixed(2)}`,isCorrect:!1},{text:`Profit of $${w.toFixed(2)}`,isCorrect:!1}],explanation:g>h?`The stock closed above the strike price ($${h.toFixed(2)}), so your call option was in-the-money. Your profit calculation is:
           1. Option value at expiration = (Final Price - Strike Price) × 100 shares
           2. Option value = ($${g.toFixed(2)} - $${h.toFixed(2)}) × 100 = $${((g-h)*100).toFixed(2)}
           3. Final P/L = Option value - Premium paid
           4. P/L = $${((g-h)*100).toFixed(2)} - $${w.toFixed(2)} = $${((g-h)*100-w).toFixed(2)}`:`The stock closed below the strike price ($${h.toFixed(2)}), so your call option expired worthless (out-of-the-money). In this case, you lose the entire premium paid: -$${w.toFixed(2)}. This is the maximum loss possible on a long call option.`},{id:6,question:`Between ${u} and ${a}, ${r} moved from $${c} to $${o}. What was your return on investment (ROI) for this call option trade?`,options:[{text:g>h?`Gain of ${(((g-h)*100-w)/w*100).toFixed(2)}% (based on premium invested)`:"Loss of 100% (total premium lost)",isCorrect:!0},{text:`${((g-c)/c*100).toFixed(2)}% (stock price return)`,isCorrect:!1},{text:g>h?`Gain of ${((g-h)/h*100).toFixed(2)}% (from strike price)`:`Loss of ${((h-g)/h*100).toFixed(2)}% (from strike price)`,isCorrect:!1},{text:g>h?`Gain of ${((g-c)/w*100).toFixed(2)}% (price change / premium)`:`Loss of ${((c-g)/w*100).toFixed(2)}% (price change / premium)`,isCorrect:!1}],explanation:g>h?`ROI = (Profit / Premium Paid) × 100. With final value of $${((g-h)*100).toFixed(2)} and premium paid of $${w.toFixed(2)}, your ROI is ${(((g-h)*100-w)/w*100).toFixed(2)}%.`:`Since the option expired worthless, you lost your entire premium of $${w.toFixed(2)}, resulting in an ROI of -100%.`},{id:7,question:`Your ${r} long call with strike $${h.toFixed(2)} has gained value. The stock is at $${(h*1.15).toFixed(2)}, and your option can be sold for $${(h*.18).toFixed(2)} (original premium paid: $${p.toFixed(2)}). Should you close early?`,options:[{text:`Yes, lock in a profit of $${((h*.18-p)*100).toFixed(2)} now rather than risk time decay`,isCorrect:!0},{text:"No, hold until expiration for maximum profit potential",isCorrect:!1},{text:`No, wait for the stock to reach $${(h*1.25).toFixed(2)} first`,isCorrect:!1},{text:"Exercise the option immediately to own the shares",isCorrect:!1}],explanation:`With the option showing a profit of $${((h*.18-p)*100).toFixed(2)} (($${(h*.18).toFixed(2)} - $${p.toFixed(2)}) × 100), it's often wise to close early. This locks in gains and avoids theta decay, especially if implied volatility is high. Remember: you don't need to hold options to expiration to profit.`},{id:8,question:`Your ${r} call option has lost value, with the stock dropping to $${k.toFixed(2)}. The option now trades at $${(p*.4).toFixed(2)} (original premium: $${p.toFixed(2)}). What's the best action?`,options:[{text:`Sell the option to salvage $${(p*.4*100).toFixed(2)} of your initial investment`,isCorrect:!0},{text:"Hold until expiration hoping for recovery",isCorrect:!1},{text:"Buy another call to average down your cost",isCorrect:!1},{text:`Exercise the option to buy shares at $${h.toFixed(2)}`,isCorrect:!1}],explanation:`When a long call moves significantly out-of-the-money, selling to salvage remaining value ($${(p*.4*100).toFixed(2)}) can be prudent. This reduces your maximum loss from $${(p*100).toFixed(2)} to $${((p-p*.4)*100).toFixed(2)} and frees up capital for other opportunities.`},{id:9,question:`Your ${r} call has doubled in value due to increased volatility, trading at $${(p*2).toFixed(2)} (cost basis: $${p.toFixed(2)}). The stock price is still near $${(c*1.02).toFixed(2)}. What should you consider?`,options:[{text:`Sell the call to profit from the volatility spike, potential gain: $${(p*100).toFixed(2)}`,isCorrect:!0},{text:"Hold the position since the stock hasn't moved much",isCorrect:!1},{text:"Buy more calls at the higher premium",isCorrect:!1},{text:"Exercise the option early",isCorrect:!1}],explanation:`When implied volatility causes your option to double in value without significant stock movement, it's often profitable to sell. You're capturing $${(p*100).toFixed(2)} profit from volatility expansion alone, which could decrease even if the stock moves favorably later.`},{id:10,question:`You bought a ${r} $${h.toFixed(2)} call for $${p.toFixed(2)}. Now the stock is at $${(h*1.1).toFixed(2)}, and a major earnings report is coming. The call is worth $${(p*1.8).toFixed(2)}. What's the strategic consideration?`,options:[{text:`Sell before earnings to lock in $${((p*1.8-p)*100).toFixed(2)} profit and avoid earnings volatility risk`,isCorrect:!0},{text:"Hold through earnings for potentially larger gains",isCorrect:!1},{text:"Exercise the option before earnings",isCorrect:!1},{text:"Buy more calls to increase potential earnings gains",isCorrect:!1}],explanation:`With a profit of $${((p*1.8-p)*100).toFixed(2)} before earnings, selling is often prudent. Earnings events can cause dramatic moves in both stock price and volatility. Even if the stock rises, your option could lose value if implied volatility drops post-earnings (volatility crush).`}]},RL=(n,e,t,r,o,a,u)=>(console.log("Generating questions with:",{stockPrice:n,strikePrice:e,premium:t,symbol:r,futurePrice:o,expirationDate:a,selectedDate:u}),PL(n,e,t,r,o,a,u).map(h=>{const p=Or(h.options),g=p.findIndex(x=>x.isCorrect);return{id:h.id,question:h.question,options:p.map(x=>x.text),correctAnswer:g,explanation:h.explanation}})),bL=(n,e,t,r,o,a,u)=>{const c=parseFloat(n),h=parseFloat(e),p=parseFloat(t),g=parseFloat(o),x=c*1.1,w=c*.9,C=p*.3,k=(p-C)*100;return[{id:1,question:`For a covered call on ${r}, you own 100 shares at $${c} and sell a $${h} call for $${p} premium. What's your maximum profit if the stock is called away?`,options:[{text:`$${((h-c)*100+p*100).toFixed(2)}`,isCorrect:!0},{text:`$${(p*100).toFixed(2)}`,isCorrect:!1},{text:`$${((h-c)*100).toFixed(2)}`,isCorrect:!1},{text:`$${(h*100).toFixed(2)}`,isCorrect:!1}],explanation:`Maximum profit = (Strike Price - Purchase Price) × 100 + Premium = ($${h} - $${c}) × 100 + $${(p*100).toFixed(2)} = $${((h-c)*100+p*100).toFixed(2)}`},{id:2,question:`You bought ${r} at $${c} and sold a $${h} call for $${p} premium. If ${r} drops to $${(c*.8).toFixed(2)} at expiration, what's your actual loss per share compared to just holding the stock?`,options:[{text:`$${(c*.8-(c-p)).toFixed(2)} loss with covered call vs $${(c*.8-c).toFixed(2)} loss with stock only`,isCorrect:!0},{text:`$${(c*.8-c).toFixed(2)} loss for both strategies`,isCorrect:!1},{text:`$${p.toFixed(2)} profit with covered call vs $${(c*.8-c).toFixed(2)} loss with stock only`,isCorrect:!1},{text:`$${(c-c*.8).toFixed(2)} loss for both strategies`,isCorrect:!1}],explanation:`With a covered call, your cost basis is reduced from $${c} to $${(c-p).toFixed(2)} due to the premium received. At $${(c*.8).toFixed(2)}, your actual loss is $${(c*.8-(c-p)).toFixed(2)} per share. Without the covered call, you would lose $${(c*.8-c).toFixed(2)} per share. The premium received ($${p}) provides this much downside protection.`},{id:3,question:`If ${r} rises to $${g.toFixed(2)} by ${a}, what happens to your covered call position?`,options:[{text:`Your shares will be called away at $${h.toFixed(2)}, and you'll keep the $${(p*100).toFixed(2)} premium`,isCorrect:g>h},{text:`The option expires worthless, and you keep your shares and the $${(p*100).toFixed(2)} premium`,isCorrect:g<=h},{text:"You must buy back the option at a loss",isCorrect:!1},{text:"You can exercise your option",isCorrect:!1}],explanation:g>h?`Since the stock price ($${g.toFixed(2)}) is above the strike price ($${h.toFixed(2)}), your shares will be called away, but you keep the premium.`:`Since the stock price ($${g.toFixed(2)}) is below the strike price ($${h.toFixed(2)}), the option expires worthless and you keep both shares and premium.`},{id:4,question:`On ${u}, what's your break-even price point for this covered call position in ${r}?`,options:[{text:`$${(c-p).toFixed(2)}`,isCorrect:!0},{text:`$${c.toFixed(2)}`,isCorrect:!1},{text:`$${h.toFixed(2)}`,isCorrect:!1},{text:`$${(h+p).toFixed(2)}`,isCorrect:!1}],explanation:`Break-even = Stock Purchase Price - Premium Received = $${c.toFixed(2)} - $${p.toFixed(2)} = $${(c-p).toFixed(2)}`},{id:5,question:`What's your maximum potential loss on this ${r} covered call position?`,options:[{text:`$${((c-p)*100).toFixed(2)}`,isCorrect:!0},{text:`$${(p*100).toFixed(2)}`,isCorrect:!1},{text:`$${(c*100).toFixed(2)}`,isCorrect:!1},{text:"Unlimited loss",isCorrect:!1}],explanation:`Maximum loss occurs if stock goes to zero: (Stock price - Premium) × 100 = ($${c.toFixed(2)} - $${p.toFixed(2)}) × 100 = $${((c-p)*100).toFixed(2)}. The premium received reduces your potential loss.`},{id:6,question:`If ${r} changes from $${c.toFixed(2)} to $${Math.min(h-.01,x).toFixed(2)} (below the $${h} strike price), compare your returns: holding 100 shares versus a covered call strategy that collects $${(p*100).toFixed(2)} premium.`,options:[{text:`Stock only: $${((Math.min(h-.01,x)-c)*100).toFixed(2)} profit vs. Covered Call: $${((Math.min(h-.01,x)-c)*100+p*100).toFixed(2)} profit`,isCorrect:!0},{text:`Both strategies would earn $${((Math.min(h-.01,x)-c)*100).toFixed(2)}`,isCorrect:!1},{text:`Stock only: $${((Math.min(h-.01,x)-c)*100).toFixed(2)} profit vs. Covered Call: $${(p*100).toFixed(2)} profit`,isCorrect:!1},{text:`Stock only: $${(Math.min(h-.01,x)*100).toFixed(2)} profit vs. Covered Call: $${(h*100+p*100).toFixed(2)} profit`,isCorrect:!1}],explanation:`With stock only, your profit is the price increase: ($${Math.min(h-.01,x).toFixed(2)} - $${c.toFixed(2)}) × 100 = $${((Math.min(h-.01,x)-c)*100).toFixed(2)}. With a covered call, you keep both this stock appreciation AND the premium collected: $${((Math.min(h-.01,x)-c)*100).toFixed(2)} + $${(p*100).toFixed(2)} = $${((Math.min(h-.01,x)-c)*100+p*100).toFixed(2)}. This shows how covered calls can enhance returns when the stock price rises but stays below the strike price.`},{id:7,question:`${r} drops to $${w.toFixed(2)} halfway to expiration, and your sold call is now worth $${C.toFixed(2)}. Should you consider buying back the call?`,options:[{text:`Yes, buy it back and save $${k.toFixed(2)} in premium, potentially reselling a new call later`,isCorrect:!0},{text:"No, keep the original position as the stock might recover",isCorrect:!1},{text:"No, the loss on the stock negates any benefit from the call",isCorrect:!1},{text:"Yes, buy it back and sell the stock immediately",isCorrect:!1}],explanation:`With the stock down significantly, the call option's value has decreased to $${C.toFixed(2)}. Buying it back saves $${k.toFixed(2)} of the original premium, and you could potentially sell another call at a lower strike price to generate new premium income.`},{id:8,question:`In the scenario where ${r} drops to $${w.toFixed(2)}, let's analyze the covered call management. You originally sold the call for $${p.toFixed(2)} (premium received = $${(p*100).toFixed(2)}) and can now buy it back for $${C.toFixed(2)} (cost = $${(C*100).toFixed(2)}). What's the return on investment (ROI) if you buy back the call?`,options:[{text:`${(k/(p*100)*100).toFixed(2)}% on the option component ($${k.toFixed(2)} profit / $${(p*100).toFixed(2)} initial premium)`,isCorrect:!0},{text:`${((w-c)/c*100).toFixed(2)}% (stock loss only: $${((w-c)*100).toFixed(2)})`,isCorrect:!1},{text:`${((w-c+p)/c*100).toFixed(2)}% (stock loss plus original premium: $${((w-c)*100+p*100).toFixed(2)})`,isCorrect:!1},{text:"0% as the loss on stock offsets option gains",isCorrect:!1}],explanation:`Let's break down the ROI calculation:
1. Original premium received: $${(p*100).toFixed(2)}
2. Buy-back cost: $${(C*100).toFixed(2)}
3. Premium saved/profit: $${k.toFixed(2)}
4. ROI = (Premium Saved / Original Premium) × 100
   = ($${k.toFixed(2)} / $${(p*100).toFixed(2)}) × 100
   = ${(k/(p*100)*100).toFixed(2)}%

While the stock position shows a loss of ${((w-c)/c*100).toFixed(2)}%, managing the option position independently has resulted in a profit on the option component.`},{id:9,question:`If you buy back the ${r} call for $${C.toFixed(2)} when the stock is at $${w.toFixed(2)}, and you believe the stock will remain range-bound between $${(w*.95).toFixed(2)} and $${(w*1.05).toFixed(2)} for the next month, what's the most appropriate action to maximize income while holding the stock?`,options:[{text:`Sell a new covered call at a lower strike price (around $${(w*1.02).toFixed(2)}) to generate additional premium while the stock trades sideways`,isCorrect:!0},{text:`Wait for the stock to recover to $${c.toFixed(2)} before selling another call, missing out on potential premium in the meantime`,isCorrect:!1},{text:`Sell the stock immediately at $${w.toFixed(2)} and take the loss`,isCorrect:!1},{text:"Buy another call option, which would increase your risk and cost basis",isCorrect:!1}],explanation:`Given the expectation of range-bound trading, selling a new covered call at a lower strike price (around $${(w*1.02).toFixed(2)}) is optimal because: 1. It generates immediate premium income to help offset the stock decline. 2. With sideways trading expected, the new premium has a high probability of being retained. 3. The lower strike price reflects the new trading range while still allowing for some upside. 4. If the stock does recover sharply, you can manage the position again by rolling up. This strategy maximizes income potential while maintaining the position in a sideways market.`},{id:10,question:`For ${r}, you bought shares at $${c.toFixed(2)} and sold a call at strike $${h.toFixed(2)} for $${p.toFixed(2)} premium. The stock rises sharply to $${(h*1.2).toFixed(2)} (20% above strike), and the call now costs $${(h*.22).toFixed(2)} to buy back. What should you do?`,options:[{text:`Buy back the call despite a $${((h*.22-p)*100).toFixed(2)} loss to capture the stock's upside potential`,isCorrect:!0},{text:`Let the shares be called away at $${h.toFixed(2)}, limiting your profit to $${((h-c+p)*100).toFixed(2)}`,isCorrect:!1},{text:`Sell the stock at $${(h*1.2).toFixed(2)} while keeping the short call open`,isCorrect:!1},{text:"Wait until expiration, since the premium received offsets any lost stock gains",isCorrect:!1}],explanation:`When a stock shows strong upward momentum, it may be worth buying back the call even at a loss. Here, letting the stock be called away limits your profit to $${((h-c+p)*100).toFixed(2)}, while buying back the call for a $${((h*.22-p)*100).toFixed(2)} loss allows you to capture all future gains above $${(h*1.2).toFixed(2)}. The loss on the call could be recovered by just a small additional move higher in the stock.`}]},$L=(n,e,t,r,o,a,u)=>(console.log("Generating questions with:",{stockPrice:n,strikePrice:e,premium:t,symbol:r,futurePrice:o,expirationDate:a,selectedDate:u}),bL(n,e,t,r,o,a,u).map(h=>{const p=Or(h.options),g=p.findIndex(x=>x.isCorrect);return{id:h.id,question:h.question,options:p.map(x=>x.text),correctAnswer:g,explanation:h.explanation}})),NL=(n,e,t,r,o,a,u)=>{const c=parseFloat(n),h=parseFloat(e),p=parseFloat(t),g=parseFloat(o),x=h+p,w=100,C=p*w;return[{id:1,question:`For ${r} trading at $${c}, which best describes your rights if you buy a call option with strike price $${h}?`,options:[{text:`Right to buy ${r} at $${h} regardless of how high the stock price goes`,isCorrect:!0},{text:`Obligation to buy ${r} at $${h} if the stock goes up`,isCorrect:!1},{text:`Right to sell ${r} at $${h} if the stock goes down`,isCorrect:!1},{text:`Right to buy ${r} at $${c} anytime before expiration`,isCorrect:!1}],explanation:`When buying a call option on ${r}, you have the right (but not obligation) to buy the stock at the strike price of $${h}, even if the stock price rises significantly above this level. Your maximum loss is limited to the premium paid of $${C.toFixed(2)}.`},{id:2,question:`If ${r} is trading at $${c} now, when would the $${h} call option be considered in-the-money (ITM)?`,options:[{text:`When ${r} trades above $${h}`,isCorrect:!0},{text:`When ${r} trades below $${h}`,isCorrect:!1},{text:`When ${r} trades exactly at $${h}`,isCorrect:!1},{text:`When ${r} trades above $${x.toFixed(2)}`,isCorrect:!1}],explanation:`A call option is in-the-money when the stock price is above the strike price. For this ${r} option, any price above $${h} means the option has intrinsic value, though you need the price above $${x.toFixed(2)} to be profitable after considering the premium paid.`},{id:3,question:`Given the $${t} premium for this ${r} option, what's the break-even price at expiration?`,options:[{text:`$${x.toFixed(2)}`,isCorrect:!0},{text:`$${h}`,isCorrect:!1},{text:`$${c}`,isCorrect:!1},{text:`$${(h-p).toFixed(2)}`,isCorrect:!1}],explanation:`The break-even price for a call option at expiration is the strike price ($${h}) plus the premium paid per share ($${t}), which equals $${x.toFixed(2)}. At this price, the intrinsic value exactly equals the premium paid.`},{id:4,question:`If you sell a put option on ${r} with a $${h} strike price, what is your obligation?`,options:[{text:`To buy ${r} at $${h} if assigned, requiring $${(h*w).toFixed(2)} in cash`,isCorrect:!0},{text:`To sell ${r} at $${h} if the stock price rises`,isCorrect:!1},{text:`To pay the difference if ${r} falls below $${h}`,isCorrect:!1},{text:`To buy ${r} at the market price if assigned`,isCorrect:!1}],explanation:`When selling a put option on ${r}, you are obligated to buy 100 shares at the strike price ($${h}) if assigned, requiring $${(h*w).toFixed(2)} in cash. This is true regardless of how low the stock price might fall.`},{id:5,question:`For the ${r} option expiring on ${a}, what happens to the time value portion of the $${t} premium as we approach expiration?`,options:[{text:"Time value consistently decreases as expiration approaches",isCorrect:!0},{text:"Time value increases as expiration approaches",isCorrect:!1},{text:"Time value stays constant until expiration day",isCorrect:!1},{text:"Time value fluctuates randomly until expiration",isCorrect:!1}],explanation:`The time value portion of your $${t} premium will decay (decrease) as we approach the ${a} expiration, with the decay accelerating in the final weeks. At expiration, only intrinsic value (if any) remains.`},{id:6,question:`If implied volatility increases after you buy the ${r} $${h} call option for $${t}, what typically happens to the option's price?`,options:[{text:"The option's price typically increases",isCorrect:!0},{text:"The option's price typically decreases",isCorrect:!1},{text:"The option's price remains unchanged",isCorrect:!1},{text:"The option's intrinsic value changes",isCorrect:!1}],explanation:`An increase in implied volatility typically increases the option's price, assuming all other factors remain constant. This would increase the time value portion of your ${r} option above the initial $${t} premium paid.`},{id:7,question:`What is the maximum possible loss when buying this ${r} call option with $${h} strike price?`,options:[{text:`$${C.toFixed(2)} (the total premium paid)`,isCorrect:!0},{text:`$${(h*w).toFixed(2)} (the strike price value)`,isCorrect:!1},{text:`$${(c*w).toFixed(2)} (the current stock value)`,isCorrect:!1},{text:"Unlimited loss potential",isCorrect:!1}],explanation:`When buying this call option on ${r}, your maximum loss is limited to the total premium paid of $${C.toFixed(2)} ($${t} × 100 shares). This occurs if the stock is below $${h} at expiration.`},{id:8,question:`On ${a}, ${r} closed at $${o}. What term describes the $${h} call option's status?`,options:[{text:g>h?"In-the-money (ITM)":g<h?"Out-of-the-money (OTM)":"At-the-money (ATM)",isCorrect:!0},{text:g>h?"Out-of-the-money (OTM)":"In-the-money (ITM)",isCorrect:!1},{text:"Equal-to-the-money",isCorrect:!1},{text:g>x?"Profitable":"Unprofitable",isCorrect:!1}],explanation:`With ${r} closing at $${o} and the strike at $${h}, the option was ${g>h?"in-the-money by $"+(g-h).toFixed(2)+" per share":g<h?"out-of-the-money by $"+(h-g).toFixed(2)+" per share":"exactly at-the-money"}.`},{id:9,question:`From ${u} to ${a}, ${r} moved from $${c} to $${o}. What was the better choice?`,options:[{text:(()=>{const k=(g-c)*w,I=g>h?(g-h-p)*w:-C;return Math.abs(k)<Math.abs(I)||k>I?`Buying the stock directly (${k>=0?"profit":"loss"}: $${Math.abs(k).toFixed(2)})`:`Buying the call option (${I>=0?"profit":"loss"}: $${Math.abs(I).toFixed(2)})`})(),isCorrect:!0},{text:(()=>{const k=(g-c)*w,I=g>h?(g-h-p)*w:-C;return Math.abs(k)<Math.abs(I)||k>I?`Buying the call option (${I>=0?"profit":"loss"}: $${Math.abs(I).toFixed(2)})`:`Buying the stock directly (${k>=0?"profit":"loss"}: $${Math.abs(k).toFixed(2)})`})(),isCorrect:!1},{text:"Neither - staying in cash",isCorrect:!1},{text:"Both would have the same profit",isCorrect:!1}],explanation:`With ${r} moving from $${c} to $${o}:
    Stock P/L: ${(g-c)*w>=0?"Profit":"Loss"} of $${Math.abs((g-c)*w).toFixed(2)}
    Option P/L: ${g>h?`Profit of $${((g-h-p)*w).toFixed(2)}`:`Loss of $${C.toFixed(2)}`}
    
    In this case, ${Math.abs((g-c)*w)<Math.abs(g>h?(g-h-p)*w:-C)?"the stock position":"the options position"} had a smaller loss, making it the better choice.`},{id:10,question:`For your ${r} $${h} call option trading at $${p}, which statement best describes the impact of time value?`,options:[{text:h>c?`Since the option is out-of-the-money by $${(h-c).toFixed(2)}, time value represents 100% of the premium`:`With the option in-the-money by $${(c-h).toFixed(2)}, part of the premium is intrinsic value`,isCorrect:!0},{text:h>c?`The option has equal parts of time value and intrinsic value at $${(p/2).toFixed(2)} each`:"Time value and intrinsic value are always equal for in-the-money options",isCorrect:!1},{text:`Time value doesn't matter since expiration is ${Math.round((new Date(a)-new Date(u))/(1e3*60*60*24))} days away`,isCorrect:!1},{text:`Time value is only relevant if the stock price exceeds $${(c*1.1).toFixed(2)}`,isCorrect:!1}],explanation:h>c?`With ${r} at $${c} and the strike at $${h}, this call option is out-of-the-money. The entire premium of $${p} is time value, which will decay as expiration approaches. If the stock doesn't rise above $${h} by expiration, all time value will be lost.`:`With ${r} at $${c} and the strike at $${h}, this call has intrinsic value of $${(c-h).toFixed(2)} and time value of $${(p-(c-h)).toFixed(2)}. While intrinsic value remains as long as the stock stays above the strike, time value will decay to zero by expiration.`}]},FL=(n,e,t,r,o,a,u)=>(console.log("Generating questions with:",{stockPrice:n,strikePrice:e,premium:t,symbol:r,futurePrice:o,expirationDate:a,selectedDate:u}),NL(n,e,t,r,o,a,u).map(h=>{const p=Or(h.options),g=p.findIndex(x=>x.isCorrect);return{id:h.id,question:h.question,options:p.map(x=>x.text),correctAnswer:g,explanation:h.explanation}})),LL=(n,e,t,r,o,a,u)=>{const c=parseFloat(n),h=parseFloat(e),p=c*.9,g=parseFloat(t),x=parseFloat(t)*.8,w=parseFloat(o),C=x-g,k=h-c-C,I=c-p+C;return[{id:1,question:`You establish a collar on ${r} at $${c.toFixed(2)} by buying a put at $${p.toFixed(2)} and selling a call at $${h.toFixed(2)}. What's your maximum possible profit?`,options:[{text:`$${k.toFixed(2)}`,isCorrect:!0},{text:`$${(h-c).toFixed(2)}`,isCorrect:!1},{text:"Unlimited profit",isCorrect:!1},{text:`$${(p-c).toFixed(2)}`,isCorrect:!1}],explanation:`The maximum profit is limited to the call strike ($${h.toFixed(2)}) minus current stock price ($${c.toFixed(2)}) minus the net debit ($${C.toFixed(2)}) = $${k.toFixed(2)}`},{id:2,question:`For your ${r} collar, what is your maximum potential loss?`,options:[{text:`$${I.toFixed(2)}`,isCorrect:!0},{text:"Unlimited loss",isCorrect:!1},{text:`$${(c-p).toFixed(2)}`,isCorrect:!1},{text:`$${x.toFixed(2)}`,isCorrect:!1}],explanation:`The maximum loss is limited to the current stock price ($${c.toFixed(2)}) minus put strike ($${p.toFixed(2)}) plus the net debit ($${C.toFixed(2)}) = $${I.toFixed(2)}`},{id:3,question:`On ${r}, you paid $${x.toFixed(2)} for the put and received $${g.toFixed(2)} for the call. What was the net cost of establishing this collar?`,options:[{text:`Net debit of $${C.toFixed(2)}`,isCorrect:!0},{text:`Net credit of $${(g-x).toFixed(2)}`,isCorrect:!1},{text:`$${(x+g).toFixed(2)}`,isCorrect:!1},{text:"$0 (Zero-cost collar)",isCorrect:!1}],explanation:`The net cost is the put premium paid ($${x.toFixed(2)}) minus the call premium received ($${g.toFixed(2)}) = Net debit of $${C.toFixed(2)}`},{id:4,question:`At expiration, ${r} is at $${w.toFixed(2)}. What happened to your position?`,options:[{text:w>h?`Stock was called away at $${h.toFixed(2)}`:w<p?`Put protection kicked in at $${p.toFixed(2)}`:"Stock was retained, both options expired worthless",isCorrect:!0},{text:"You must sell the stock at market price",isCorrect:!1},{text:"You must buy more stock",isCorrect:!1},{text:"You lost both the stock and the premium",isCorrect:!1}],explanation:w>h?`Since the stock price ($${w.toFixed(2)}) exceeded the call strike ($${h.toFixed(2)}), your stock was called away at the strike price`:w<p?`Since the stock price ($${w.toFixed(2)}) fell below the put strike ($${p.toFixed(2)}), your put protection limited your losses`:`The stock price ($${w.toFixed(2)}) stayed between your put strike ($${p.toFixed(2)}) and call strike ($${h.toFixed(2)}), so both options expired worthless`},{id:5,question:`What is your profit/loss on ${r} at the current price of $${w.toFixed(2)}?`,options:[{text:`$${(w>h?k:w<p?-I:w-c-C).toFixed(2)}`,isCorrect:!0},{text:`$${(w-c).toFixed(2)}`,isCorrect:!1},{text:`$${(p-c).toFixed(2)}`,isCorrect:!1},{text:`$${C.toFixed(2)}`,isCorrect:!1}],explanation:w>h?`Stock was called away, resulting in maximum profit of $${k.toFixed(2)}`:w<p?`Put protection limited your loss to $${I.toFixed(2)}`:`Stock price movement ($${(w-c).toFixed(2)}) minus net debit ($${C.toFixed(2)}) = $${(w-c-C).toFixed(2)}`},{id:6,question:`If ${r} drops by 15% to $${(c*.85).toFixed(2)}, how does your collar compare to just owning the stock?`,options:[{text:`Collar limits loss to $${I.toFixed(2)} vs stock loss of $${(c*.15).toFixed(2)}`,isCorrect:!0},{text:"Both strategies lose the same amount",isCorrect:!1},{text:"Collar loses more due to premium paid",isCorrect:!1},{text:"Cannot be determined",isCorrect:!1}],explanation:`With just stock ownership, a 15% drop means a loss of $${(c*.15).toFixed(2)}. The collar's put strike at $${p.toFixed(2)} limits your loss to $${I.toFixed(2)}`}]},OL=(n,e,t,r,o,a,u)=>(console.log("Generating Collar Strategy questions with:",{stockPrice:n,strikePrice:e,premium:t,symbol:r,futurePrice:o,expirationDate:a,selectedDate:u}),LL(n,e,t,r,o).map(h=>{const p=Or(h.options),g=p.findIndex(x=>x.isCorrect);return{id:h.id,question:h.question,options:p.map(x=>x.text),correctAnswer:g,explanation:h.explanation}})),DL=(n,e,t,r,o,a,u)=>{const c=parseFloat(n),h=parseFloat(e),p=parseFloat(t),g=parseFloat(o),x=h-p,w=p*100,C=c*.9,k=h*100;return[{id:1,question:`You sold a cash secured put on ${r} with strike $${h} for $${p} premium. What is your break-even price?`,options:[{text:`$${x.toFixed(2)}`,isCorrect:!0},{text:`$${h.toFixed(2)}`,isCorrect:!1},{text:`$${(h+p).toFixed(2)}`,isCorrect:!1},{text:`$${c.toFixed(2)}`,isCorrect:!1}],explanation:`Break-even = Strike Price - Premium = $${h.toFixed(2)} - $${p.toFixed(2)} = $${x.toFixed(2)}. This is the price below which you start losing money if assigned.`},{id:2,question:`How much cash must you have secured for this ${r} put option?`,options:[{text:`$${k.toFixed(2)}`,isCorrect:!0},{text:`$${(k-w).toFixed(2)}`,isCorrect:!1},{text:`$${(c*100).toFixed(2)}`,isCorrect:!1},{text:`$${w.toFixed(2)}`,isCorrect:!1}],explanation:`You must secure $${k.toFixed(2)} (Strike Price × 100 shares) to cover potential assignment, regardless of the premium received.`},{id:3,question:`If ${r} drops to $${C.toFixed(2)} halfway to expiration, what's your unrealized loss if assigned?`,options:[{text:`$${((h-C-p)*100).toFixed(2)}`,isCorrect:!0},{text:`$${((h-C)*100).toFixed(2)}`,isCorrect:!1},{text:`$${w.toFixed(2)}`,isCorrect:!1},{text:`$${((c-C)*100).toFixed(2)}`,isCorrect:!1}],explanation:`Your loss would be: (Strike Price - Current Price - Premium) × 100 = ($${h.toFixed(2)} - $${C.toFixed(2)} - $${p.toFixed(2)}) × 100 = $${((h-C-p)*100).toFixed(2)}.`},{id:4,question:`${r} is now at $${C.toFixed(2)}. Should you consider closing the position early?`,options:[{text:"Yes, to avoid potential further losses if stock continues dropping",isCorrect:!0},{text:"No, always hold until expiration to keep full premium",isCorrect:!1},{text:"No, the loss is just on paper",isCorrect:!1},{text:"Yes, and sell another put at a lower strike",isCorrect:!1}],explanation:"With the stock below your strike price, closing early can prevent larger losses if the stock continues to fall. Managing risk is often more important than maximizing premium."},{id:5,question:`What's your maximum potential gain on this ${r} cash secured put?`,options:[{text:`$${w.toFixed(2)}`,isCorrect:!0},{text:`$${k.toFixed(2)}`,isCorrect:!1},{text:`$${(h*100).toFixed(2)}`,isCorrect:!1},{text:"Unlimited gain",isCorrect:!1}],explanation:`Maximum gain is limited to the premium received: $${p.toFixed(2)} × 100 shares = $${w.toFixed(2)}. This occurs if the stock stays above the strike price.`},{id:6,question:`If ${r} expires at $${g.toFixed(2)}, will you be assigned shares?`,options:[{text:`Yes, you'll buy 100 shares at $${h.toFixed(2)} per share`,isCorrect:g<h},{text:"No, you keep the premium and avoid assignment",isCorrect:g>=h},{text:"Maybe, it depends on the buyer's decision",isCorrect:!1},{text:"No, you can choose to decline assignment",isCorrect:!1}],explanation:g<h?`Since $${g.toFixed(2)} is below the strike price of $${h.toFixed(2)}, you'll be assigned and must buy 100 shares at the strike price.`:`Since $${g.toFixed(2)} is above the strike price of $${h.toFixed(2)}, the put expires worthless and you keep the full premium.`},{id:7,question:`What's your return on investment (ROI) if ${r} stays above $${h.toFixed(2)} until expiration?`,options:[{text:`${(w/k*100).toFixed(2)}%`,isCorrect:!0},{text:`${(w/(c*100)*100).toFixed(2)}%`,isCorrect:!1},{text:`${(p/h*100).toFixed(2)}%`,isCorrect:!1},{text:"100%",isCorrect:!1}],explanation:`ROI = (Premium / Cash Secured) × 100 = ($${w.toFixed(2)} / $${k.toFixed(2)}) × 100 = ${(w/k*100).toFixed(2)}%. This represents return on the cash you must set aside.`},{id:8,question:`If ${r} drops significantly below your put strike of $${h.toFixed(2)}, which action might be best?`,options:[{text:"Close the position and preserve capital",isCorrect:!0},{text:"Wait for assignment no matter what",isCorrect:!1},{text:"Sell another put at a lower strike",isCorrect:!1},{text:"Buy shares at market price",isCorrect:!1}],explanation:"When a stock drops significantly below your put strike, closing the position can prevent larger losses and free up capital for better opportunities. The premium received doesn't justify holding a losing position indefinitely."},{id:9,question:`How does your cost basis compare to the current market price if ${r} gets assigned at $${h.toFixed(2)}?`,options:[{text:`$${x.toFixed(2)} vs market price of $${g.toFixed(2)}`,isCorrect:!0},{text:`$${h.toFixed(2)} vs market price of $${g.toFixed(2)}`,isCorrect:!1},{text:`$${c.toFixed(2)} vs market price of $${g.toFixed(2)}`,isCorrect:!1},{text:`$${(h+p).toFixed(2)} vs market price of $${g.toFixed(2)}`,isCorrect:!1}],explanation:`Your effective cost basis is the strike price minus the premium received ($${x.toFixed(2)}). This is what you compare to the market price to determine your position's profit or loss.`},{id:10,question:`What percentage of your cash secured amount ($${k.toFixed(2)}) are you risking if ${r} goes to zero?`,options:[{text:`${((h-p)/h*100).toFixed(2)}%`,isCorrect:!0},{text:"100%",isCorrect:!1},{text:`${(p/h*100).toFixed(2)}%`,isCorrect:!1},{text:"0%",isCorrect:!1}],explanation:`Maximum risk is strike price minus premium ($${(h-p).toFixed(2)} per share or $${((h-p)*100).toFixed(2)} total), which is ${((h-p)/h*100).toFixed(2)}% of your secured cash. The premium received slightly reduces your total risk.`}]},ML=(n,e,t,r,o,a,u)=>(console.log("Generating Cash Secured Put questions with:",{stockPrice:n,strikePrice:e,premium:t,symbol:r,futurePrice:o,expirationDate:a,selectedDate:u}),DL(n,e,t,r,o).map(h=>{const p=Or(h.options),g=p.findIndex(x=>x.isCorrect);return{id:h.id,question:h.question,options:p.map(x=>x.text),correctAnswer:g,explanation:h.explanation}})),VL=(n,e,t,r,o,a,u)=>{const c=parseFloat(n),h=parseFloat(e),p=parseFloat(t),g=parseFloat(o),x=(c-h+p)*100,w=c*.8,C=c*1.1;return[{id:1,question:`You own 100 shares of ${r} at $${c.toFixed(2)} and buy a protective put at strike $${h.toFixed(2)} for $${p.toFixed(2)}. What's your maximum possible loss per share?`,options:[{text:`$${(c-h+p).toFixed(2)}`,isCorrect:!0},{text:`$${c.toFixed(2)}`,isCorrect:!1},{text:`$${p.toFixed(2)}`,isCorrect:!1},{text:`$${h.toFixed(2)}`,isCorrect:!1}],explanation:`Your maximum loss is limited to the difference between your stock purchase price ($${c.toFixed(2)}) and the put strike price ($${h.toFixed(2)}), plus the premium paid ($${p.toFixed(2)}). This equals $${(c-h+p).toFixed(2)} per share.`},{id:2,question:`If ${r} crashes to $${w.toFixed(2)} (20% drop), how much protection does your protective put provide?`,options:[{text:`$${((h-w)*100).toFixed(2)}`,isCorrect:!0},{text:`$${((c-w)*100).toFixed(2)}`,isCorrect:!1},{text:`$${(p*100).toFixed(2)}`,isCorrect:!1},{text:"$0.00",isCorrect:!1}],explanation:`The protective put allows you to sell at $${h.toFixed(2)} even though the market price is $${w.toFixed(2)}. This provides protection of $${((h-w)*100).toFixed(2)} for your 100 shares, offsetting much of the stock's decline.`},{id:3,question:`If ${r} rises to $${C.toFixed(2)} (10% increase), what's your net profit considering the cost of protection?`,options:[{text:`$${((C-c)*100-p*100).toFixed(2)}`,isCorrect:!0},{text:`$${((C-c)*100).toFixed(2)}`,isCorrect:!1},{text:`$${((C-h)*100).toFixed(2)}`,isCorrect:!1},{text:`$${(p*100).toFixed(2)}`,isCorrect:!1}],explanation:`Your profit is the stock's gain ($${((C-c)*100).toFixed(2)}) minus the cost of the put protection ($${(p*100).toFixed(2)}), resulting in a net profit of $${((C-c)*100-p*100).toFixed(2)}.`},{id:4,question:`When would be the most cost-effective time to buy this protective put for ${r}?`,options:[{text:"After the stock has had a significant rally and you want to protect gains",isCorrect:!0},{text:"When the stock is at its lowest point",isCorrect:!1},{text:"Right before earnings announcement",isCorrect:!1},{text:"When the stock is trending downward",isCorrect:!1}],explanation:"It's often most psychologically and financially optimal to buy protective puts after a stock has rallied. This way, you're using some of your paper profits to protect against a downturn, rather than spending additional capital when the stock is already down."},{id:5,question:`Comparing a protective put to a stop-loss order for ${r}, which statement is most accurate?`,options:[{text:"A protective put provides guaranteed protection at a specific price but costs a premium",isCorrect:!0},{text:"A stop-loss order is always more effective in a crash",isCorrect:!1},{text:"A protective put and stop-loss provide identical protection",isCorrect:!1},{text:"A stop-loss is more expensive but more reliable",isCorrect:!1}],explanation:"While a stop-loss order is free, it might execute at a much lower price if the stock gaps down overnight. A protective put guarantees your exit price regardless of how quickly the stock falls, though you pay a premium for this insurance."},{id:6,question:`What happens to your protective put strategy on ${r} if implied volatility increases significantly?`,options:[{text:"The put option becomes more valuable, offsetting some of its time decay",isCorrect:!0},{text:"The strategy becomes less effective",isCorrect:!1},{text:"There is no effect on the protective put",isCorrect:!1},{text:"The maximum loss increases",isCorrect:!1}],explanation:"An increase in implied volatility will increase the value of your put option. This is beneficial as it can help offset the negative effect of time decay and potentially allow you to sell the put for a profit if you no longer need the protection."},{id:7,question:`By ${a}, ${r} is at $${o}. What was the outcome of your protective put strategy?`,options:[{text:g>c?`Profit of $${((g-c)*100-p*100).toFixed(2)}`:g<h?`Loss limited to $${x.toFixed(2)}`:`Loss of $${((c-g)*100+p*100).toFixed(2)}`,isCorrect:!0},{text:"Loss of entire investment",isCorrect:!1},{text:"Profit equal to put premium",isCorrect:!1},{text:"Break-even regardless of stock price",isCorrect:!1}],explanation:g>c?`The stock rose, giving you a profit of $${((g-c)*100).toFixed(2)} minus the put cost of $${(p*100).toFixed(2)}.`:g<h?`The stock fell below the put strike, but your loss was limited to $${x.toFixed(2)} thanks to the protective put.`:"The stock fell but not below the put strike. Your loss is the stock decline plus the put premium."},{id:8,question:`In what market conditions would this protective put strategy on ${r} be most valuable?`,options:[{text:"During high market uncertainty or ahead of major events",isCorrect:!0},{text:"In a steadily rising market",isCorrect:!1},{text:"During low volatility periods",isCorrect:!1},{text:"When the stock is trending downward",isCorrect:!1}],explanation:"Protective puts are most valuable during periods of high uncertainty or before major events (earnings, FDA decisions, etc.) where the stock could gap down significantly. They provide insurance against sudden, sharp declines that might bypass stop-loss orders."},{id:9,question:`What's the break-even point for your ${r} position including the protective put?`,options:[{text:`$${(c+p).toFixed(2)}`,isCorrect:!0},{text:`$${c.toFixed(2)}`,isCorrect:!1},{text:`$${h.toFixed(2)}`,isCorrect:!1},{text:`$${(h+p).toFixed(2)}`,isCorrect:!1}],explanation:`Your break-even point is your stock purchase price ($${c.toFixed(2)}) plus the cost of the put protection ($${p.toFixed(2)}), or $${(c+p).toFixed(2)}. The stock needs to rise by at least the cost of the put for you to profit.`},{id:10,question:`If you're worried about a potential market correction, which strike price selection would provide the best protection for ${r}?`,options:[{text:`At-the-money strike near $${c.toFixed(2)}`,isCorrect:!0},{text:`Deep out-of-the-money strike at $${(c*.7).toFixed(2)}`,isCorrect:!1},{text:`Deep in-the-money strike at $${(c*1.3).toFixed(2)}`,isCorrect:!1},{text:"Multiple strikes at different prices",isCorrect:!1}],explanation:"An at-the-money protective put provides the best balance of cost and protection. While it's more expensive than an OTM put, it starts protecting your position immediately if the stock falls. ITM puts provide immediate protection but are unnecessarily expensive."}]},jL=(n,e,t,r,o,a,u)=>(console.log("Generating Protective Put questions with:",{stockPrice:n,strikePrice:e,premium:t,symbol:r,futurePrice:o,expirationDate:a,selectedDate:u}),VL(n,e,t,r,o,a).map(h=>{const p=Or(h.options),g=p.findIndex(x=>x.isCorrect);return{id:h.id,question:h.question,options:p.map(x=>x.text),correctAnswer:g,explanation:h.explanation}})),UL=(n,e,t,r,o,a,u)=>{const c=parseFloat(n),h=parseFloat(e),p=parseFloat(t),g=parseFloat(o),x=h-p,w=p*100,C=c*1.1,k=c*.9;return[{id:1,question:`If ${r} falls to $${k.toFixed(2)} (10% decrease) before expiration, what would be your profit?`,options:[{text:`$${((h-k)*100-w).toFixed(2)}`,isCorrect:!0},{text:`$${w.toFixed(2)}`,isCorrect:!1},{text:`$${((h-k)*100).toFixed(2)}`,isCorrect:!1},{text:`$${((c-k)*100).toFixed(2)}`,isCorrect:!1}],explanation:`At $${k.toFixed(2)}, the profit is: (Strike Price - Stock Price) × 100 shares - Premium Paid = ($${h.toFixed(2)} - $${k.toFixed(2)}) × 100 - $${w.toFixed(2)} = $${((h-k)*100-w).toFixed(2)}`},{id:2,question:`If ${r} rises to $${C.toFixed(2)} (10% increase), what is your maximum loss?`,options:[{text:`$${((C-c)*100).toFixed(2)}`,isCorrect:!1},{text:`$${w.toFixed(2)}`,isCorrect:!0},{text:`$${(c*100).toFixed(2)}`,isCorrect:!1},{text:`$${((C-h)*100).toFixed(2)}`,isCorrect:!1}],explanation:`With a long put option, your maximum loss is limited to the premium paid ($${w.toFixed(2)}), no matter how high the stock price goes.`},{id:3,question:`For your ${r} put option, what is the break-even stock price at expiration?`,options:[{text:`$${c.toFixed(2)} (Current Price)`,isCorrect:!1},{text:`$${h.toFixed(2)} (Strike Price)`,isCorrect:!1},{text:`$${x.toFixed(2)} (Strike - Premium)`,isCorrect:!0},{text:`$${(h+p).toFixed(2)}`,isCorrect:!1}],explanation:`Break-even price at expiration = Strike Price - Premium per share = $${h.toFixed(2)} - $${p.toFixed(2)} = $${x.toFixed(2)}`},{id:4,question:`How does time decay (theta) affect your long put position in ${r}?`,options:[{text:"Time decay helps the position by increasing the put's value",isCorrect:!1},{text:"Time decay hurts the position by reducing the put's value",isCorrect:!0},{text:"Time decay has no effect on the position",isCorrect:!1},{text:"Time decay only affects in-the-money puts",isCorrect:!1}],explanation:"Time decay (theta) is your enemy when buying options. Each day that passes, your put option loses some time value, assuming all other factors remain constant."},{id:5,question:`On ${a}, ${r} closed at $${o}. What was your actual profit/loss on this trade?`,options:[{text:`$${((g<h?(h-g)*100:0)-w).toFixed(2)}`,isCorrect:!0},{text:`$${((c-g)*100).toFixed(2)}`,isCorrect:!1},{text:`$${((h-g)*100).toFixed(2)}`,isCorrect:!1},{text:`$${w.toFixed(2)}`,isCorrect:!1}],explanation:g<h?`The stock closed below the strike price, so your profit is: (Strike Price - Final Price) × 100 - Premium = ($${h.toFixed(2)} - $${g.toFixed(2)}) × 100 - $${w.toFixed(2)} = $${((h-g)*100-w).toFixed(2)}`:`The stock closed above the strike price, so the option expired worthless. Your loss is the premium paid: $${w.toFixed(2)}`},{id:6,question:`What's the maximum profit potential for your ${r} long put position?`,options:[{text:`$${w.toFixed(2)}`,isCorrect:!1},{text:`$${(h*100).toFixed(2)}`,isCorrect:!1},{text:`$${(h*100-w).toFixed(2)}`,isCorrect:!0},{text:"Unlimited profit potential",isCorrect:!1}],explanation:`The maximum profit occurs if the stock goes to $0. At that point, you can sell shares at the strike price ($${h.toFixed(2)}) that cost $0, for a profit of (Strike Price × 100) - Premium = $${(h*100-w).toFixed(2)}`},{id:7,question:`How would an increase in implied volatility affect your ${r} put option?`,options:[{text:"It would increase the put's value",isCorrect:!0},{text:"It would decrease the put's value",isCorrect:!1},{text:"It would have no effect on the put's value",isCorrect:!1},{text:"It only affects call options",isCorrect:!1}],explanation:"Higher implied volatility increases option premiums for both calls and puts. As a put buyer, you benefit from increased volatility as it raises the value of your option."},{id:8,question:`If ${r} trades sideways and stays at $${c.toFixed(2)} until expiration, what happens to your put option?`,options:[{text:"You break even",isCorrect:!1},{text:`You lose the entire premium of $${w.toFixed(2)}`,isCorrect:c>=h},{text:"You make a partial profit",isCorrect:c<h},{text:"The option extends to the next expiration",isCorrect:!1}],explanation:c>=h?`If the stock stays at $${c.toFixed(2)}, which is above the strike price of $${h.toFixed(2)}, your put expires worthless and you lose the entire premium paid ($${w.toFixed(2)})`:`If the stock stays at $${c.toFixed(2)}, which is below the strike price of $${h.toFixed(2)}, you'll make a partial profit of $${((h-c)*100-w).toFixed(2)}`},{id:9,question:`How does your ${r} put compare to shorting 100 shares at $${c.toFixed(2)}?`,options:[{text:"The put has limited risk while shorting has unlimited risk",isCorrect:!0},{text:"Shorting has limited risk while the put has unlimited risk",isCorrect:!1},{text:"Both strategies have the same risk profile",isCorrect:!1},{text:"Both strategies have unlimited risk",isCorrect:!1}],explanation:`A long put limits your risk to the premium paid ($${w.toFixed(2)}), while shorting stock exposes you to unlimited risk if the stock price rises.`},{id:10,question:`What's the best scenario for your ${r} put option?`,options:[{text:"Stock price rises significantly",isCorrect:!1},{text:"Stock price stays at current level",isCorrect:!1},{text:"Stock price falls significantly below break-even",isCorrect:!0},{text:"Stock price stays above strike price",isCorrect:!1}],explanation:`The best scenario is a significant drop in stock price below your break-even of $${x.toFixed(2)}. This maximizes your profit potential while your risk remains limited to the premium paid.`}]},BL=(n,e,t,r,o,a,u)=>(console.log("Generating Long Put questions with:",{stockPrice:n,strikePrice:e,premium:t,symbol:r,futurePrice:o,expirationDate:a,selectedDate:u}),UL(n,e,t,r,o,a).map(h=>{const p=Or(h.options),g=p.findIndex(x=>x.isCorrect);return{id:h.id,question:h.question,options:p.map(x=>x.text),correctAnswer:g,explanation:h.explanation}})),zL=(n,e,t,r,o,a,u)=>{const c=parseFloat(n),h=parseFloat(e)*.95,p=parseFloat(e)*1.05,g=parseFloat(t)*1.2,x=parseFloat(t)*.8,w=parseFloat(o),C=g-x,k=p-h-C,I=h+C;return[{id:1,question:`You set up a call spread on ${r} by buying a call at strike $${h.toFixed(2)} for $${g.toFixed(2)} and selling a call at strike $${p.toFixed(2)} for $${x.toFixed(2)}. What's your net debit?`,options:[{text:`$${C.toFixed(2)}`,isCorrect:!0},{text:`$${(g+x).toFixed(2)}`,isCorrect:!1},{text:`$${x.toFixed(2)}`,isCorrect:!1},{text:`$${(p-h).toFixed(2)}`,isCorrect:!1}],explanation:`The net debit is the long call premium paid ($${g.toFixed(2)}) minus the short call premium received ($${x.toFixed(2)}) = $${C.toFixed(2)}`},{id:2,question:`What's your maximum potential profit on this ${r} call spread?`,options:[{text:`$${k.toFixed(2)}`,isCorrect:!0},{text:`$${(p-h).toFixed(2)}`,isCorrect:!1},{text:"Unlimited profit",isCorrect:!1},{text:`$${(p-c).toFixed(2)}`,isCorrect:!1}],explanation:`Maximum profit is the difference between strikes ($${p.toFixed(2)} - $${h.toFixed(2)} = $${(p-h).toFixed(2)}) minus the net debit ($${C.toFixed(2)}) = $${k.toFixed(2)}`},{id:3,question:`What's your maximum potential loss on this ${r} call spread?`,options:[{text:`$${C.toFixed(2)}`,isCorrect:!0},{text:`$${g.toFixed(2)}`,isCorrect:!1},{text:`$${(p-h).toFixed(2)}`,isCorrect:!1},{text:"Unlimited loss",isCorrect:!1}],explanation:`The maximum loss is limited to the net debit paid ($${C.toFixed(2)}), which occurs if ${r} stays below the lower strike price of $${h.toFixed(2)}`},{id:4,question:`What's your break-even point at expiration for this ${r} call spread?`,options:[{text:`$${I.toFixed(2)}`,isCorrect:!0},{text:`$${h.toFixed(2)}`,isCorrect:!1},{text:`$${p.toFixed(2)}`,isCorrect:!1},{text:`$${c.toFixed(2)}`,isCorrect:!1}],explanation:`Break-even = Lower strike ($${h.toFixed(2)}) + Net debit ($${C.toFixed(2)}) = $${I.toFixed(2)}`},{id:5,question:`At expiration, ${r} is at $${w.toFixed(2)}. What is your profit/loss?`,options:[{text:`$${(w>=p?k:w<=h?-C:w-h-C).toFixed(2)}`,isCorrect:!0},{text:`$${(w-c).toFixed(2)}`,isCorrect:!1},{text:`$${(w-I).toFixed(2)}`,isCorrect:!1},{text:`$${(p-h).toFixed(2)}`,isCorrect:!1}],explanation:w>=p?`Stock is above upper strike ($${p.toFixed(2)}), resulting in maximum profit of $${k.toFixed(2)}`:w<=h?`Stock is below lower strike ($${h.toFixed(2)}), resulting in maximum loss of $${C.toFixed(2)}`:`Stock is between strikes, profit = Stock price - Lower strike - Net debit = $${(w-h-C).toFixed(2)}`},{id:6,question:`How does implied volatility affect your ${r} call spread when the stock is near the upper strike of $${p.toFixed(2)}?`,options:[{text:"A decrease in implied volatility is beneficial",isCorrect:!0},{text:"An increase in implied volatility is beneficial",isCorrect:!1},{text:"Implied volatility has no effect",isCorrect:!1},{text:"The effect depends on time to expiration",isCorrect:!1}],explanation:"When the stock is near the upper strike, a decrease in implied volatility helps because it decreases the value of the near-the-money option you sold faster than the in-the-money option you bought"},{id:7,question:`If ${r} rises to $${(p*1.2).toFixed(2)}, well above your upper strike, what's your regret cost compared to just buying a call?`,options:[{text:`$${((p*1.2-p)*100).toFixed(2)}`,isCorrect:!0},{text:"No regret cost, maximum profit achieved",isCorrect:!1},{text:`$${k.toFixed(2)}`,isCorrect:!1},{text:`$${C.toFixed(2)}`,isCorrect:!1}],explanation:`You missed out on $${((p*1.2-p)*100).toFixed(2)} of potential profit above your short strike, but remember you accepted this limited profit in exchange for reduced risk`},{id:8,question:`What happens to your ${r} position if the stock price stays flat at $${c.toFixed(2)} as time decay increases?`,options:[{text:"Both options lose value, net effect is minimal",isCorrect:!0},{text:"Position becomes more valuable",isCorrect:!1},{text:"You lose the entire net debit immediately",isCorrect:!1},{text:"Only the short call loses value",isCorrect:!1}],explanation:"Time decay affects both options, the one you bought and the one you sold, making the net effect relatively neutral when the stock price doesn't move significantly"},{id:9,question:`What's the ideal price target for your ${r} call spread at expiration?`,options:[{text:`$${p.toFixed(2)} or slightly higher`,isCorrect:!0},{text:`$${h.toFixed(2)}`,isCorrect:!1},{text:`$${I.toFixed(2)}`,isCorrect:!1},{text:`$${(p*1.2).toFixed(2)}`,isCorrect:!1}],explanation:`The ideal target is the upper strike ($${p.toFixed(2)}) or slightly above, as this gives you the maximum profit of $${k.toFixed(2)}`},{id:10,question:`For your ${r} call spread, how much capital is at risk compared to buying 100 shares?`,options:[{text:`$${C.toFixed(2)} vs $${(c*100).toFixed(2)}`,isCorrect:!0},{text:`$${g.toFixed(2)} vs $${(c*100).toFixed(2)}`,isCorrect:!1},{text:`$${(p-h).toFixed(2)} vs $${(c*100).toFixed(2)}`,isCorrect:!1},{text:"Same risk for both strategies",isCorrect:!1}],explanation:`The call spread risks only the net debit ($${C.toFixed(2)}), while buying 100 shares would risk $${(c*100).toFixed(2)}, showing the spread's capital efficiency`}]},WL=(n,e,t,r,o,a,u)=>(console.log("Generating Call Spread questions with:",{stockPrice:n,strikePrice:e,premium:t,symbol:r,futurePrice:o,expirationDate:a,selectedDate:u}),zL(n,e,t,r,o).map(h=>{const p=Or(h.options),g=p.findIndex(x=>x.isCorrect);return{id:h.id,question:h.question,options:p.map(x=>x.text),correctAnswer:g,explanation:h.explanation}})),HL=(n,e,t,r,o,a,u)=>{const c=parseFloat(n),h=parseFloat(e),p=h*.95,g=parseFloat(t),x=g*.7,w=g-x,C=h-p-w,k=parseFloat(o),I=h-w;return[{id:1,question:`You establish a long put spread on ${r} with strike prices $${h.toFixed(2)} (buy) and $${p.toFixed(2)} (sell). What's your maximum possible profit?`,options:[{text:`$${(C*100).toFixed(2)}`,isCorrect:!0},{text:`$${(h-p).toFixed(2)}`,isCorrect:!1},{text:`$${(g*100).toFixed(2)}`,isCorrect:!1},{text:"Unlimited profit",isCorrect:!1}],explanation:`The maximum profit is the difference between strikes ($${h.toFixed(2)} - $${p.toFixed(2)} = $${(h-p).toFixed(2)}) minus the net debit paid ($${w.toFixed(2)}) × 100 = $${(C*100).toFixed(2)}`},{id:2,question:`What is your maximum potential loss on this ${r} put spread?`,options:[{text:`$${(w*100).toFixed(2)}`,isCorrect:!0},{text:`$${(g*100).toFixed(2)}`,isCorrect:!1},{text:`$${(h-p).toFixed(2)}`,isCorrect:!1},{text:"Unlimited loss",isCorrect:!1}],explanation:`The maximum loss is limited to the net debit paid: Premium paid for higher strike ($${g.toFixed(2)}) minus premium received for lower strike ($${x.toFixed(2)}) × 100 = $${(w*100).toFixed(2)}`},{id:3,question:`What is the break-even price for your ${r} put spread at expiration?`,options:[{text:`$${I.toFixed(2)}`,isCorrect:!0},{text:`$${h.toFixed(2)}`,isCorrect:!1},{text:`$${p.toFixed(2)}`,isCorrect:!1},{text:`$${c.toFixed(2)}`,isCorrect:!1}],explanation:`Break-even price = Higher strike price ($${h.toFixed(2)}) minus net debit ($${w.toFixed(2)}) = $${I.toFixed(2)}`},{id:4,question:`At expiration, ${r} is at $${k.toFixed(2)}. What is your profit/loss?`,options:[{text:`$${(k<=p?C*100:k>=h?-(w*100):(h-k-w)*100).toFixed(2)}`,isCorrect:!0},{text:`$${((h-k)*100).toFixed(2)}`,isCorrect:!1},{text:`$${((p-k)*100).toFixed(2)}`,isCorrect:!1},{text:`$${(w*100).toFixed(2)}`,isCorrect:!1}],explanation:k<=p?`Stock is below both strikes, achieving maximum profit of $${(C*100).toFixed(2)}`:k>=h?`Stock is above both strikes, resulting in maximum loss of $${(w*100).toFixed(2)}`:`Stock is between strikes, profit/loss = (Higher strike - Stock price - Net debit) × 100 = $${((h-k-w)*100).toFixed(2)}`},{id:5,question:`If ${r}'s implied volatility increases significantly, how should it affect your position if the stock is currently near $${(h*1.02).toFixed(2)}?`,options:[{text:"Beneficial, as it increases the value of your long put more than the short put",isCorrect:!0},{text:"Harmful, as it increases the value of your short put more",isCorrect:!1},{text:"No effect, as the changes cancel each other out",isCorrect:!1},{text:"Harmful to both puts equally",isCorrect:!1}],explanation:"When the stock is above the higher strike, increased implied volatility helps because it increases the value of your out-of-the-money long put more than the further out-of-the-money short put."},{id:6,question:`What happens to your ${r} put spread if the stock drops to $${(p*.95).toFixed(2)} before expiration?`,options:[{text:`Achieves maximum profit of $${(C*100).toFixed(2)}`,isCorrect:!0},{text:`Results in a loss of $${(w*100).toFixed(2)}`,isCorrect:!1},{text:"Breaks even",isCorrect:!1},{text:"Profit continues to increase as stock falls further",isCorrect:!1}],explanation:`When the stock falls below the lower strike price ($${p.toFixed(2)}), the spread reaches its maximum value of $${((h-p)*100).toFixed(2)}, resulting in the maximum profit of $${(C*100).toFixed(2)} after subtracting the net debit paid.`},{id:7,question:`For your ${r} put spread, how does time decay (theta) affect the position when the stock is at $${(h*.98).toFixed(2)}?`,options:[{text:"Relatively neutral as it affects both puts",isCorrect:!0},{text:"Strongly negative as both puts lose value",isCorrect:!1},{text:"Strongly positive as short put decays faster",isCorrect:!1},{text:"Only affects the long put position",isCorrect:!1}],explanation:"Time decay has a relatively neutral effect on a put spread because it's eroding the value of both the long put you bought and the short put you sold, partially offsetting each other."},{id:8,question:`If ${r} is at $${(p*.97).toFixed(2)} at expiration, what actions should you take?`,options:[{text:"Exercise your long put and get assigned on your short put",isCorrect:!0},{text:"Only exercise your long put",isCorrect:!1},{text:"Let both puts expire",isCorrect:!1},{text:"Only get assigned on your short put",isCorrect:!1}],explanation:`With the stock below both strikes at expiration, both puts are in-the-money. You'll exercise your long put to sell at $${h.toFixed(2)} and be assigned on your short put to buy at $${p.toFixed(2)}, realizing the maximum profit.`},{id:9,question:`Compared to buying just the $${h.toFixed(2)} put on ${r}, what's the main advantage of this spread?`,options:[{text:"Lower cost and defined risk",isCorrect:!0},{text:"Higher potential profit",isCorrect:!1},{text:"No obligation to buy stock",isCorrect:!1},{text:"Unlimited profit potential",isCorrect:!1}],explanation:`The spread reduces your cost from $${(g*100).toFixed(2)} to $${(w*100).toFixed(2)} by selling the lower strike put. While this limits your profit potential, it reduces your risk and cost basis.`},{id:10,question:`What's the ideal market condition for your ${r} put spread position?`,options:[{text:`Moderate downside move to $${p.toFixed(2)} by expiration`,isCorrect:!0},{text:`Sharp upward move above $${h.toFixed(2)}`,isCorrect:!1},{text:"Stock staying at current price",isCorrect:!1},{text:`Extreme drop well below $${(p*.8).toFixed(2)}`,isCorrect:!1}],explanation:`The ideal scenario is a moderate decline to or below the lower strike price ($${p.toFixed(2)}) by expiration, which would allow the spread to achieve its maximum value of $${((h-p)*100).toFixed(2)}.`}]},qL=(n,e,t,r,o,a,u)=>(console.log("Generating Long Put Spread questions with:",{stockPrice:n,strikePrice:e,premium:t,symbol:r,futurePrice:o,expirationDate:a,selectedDate:u}),HL(n,e,t,r,o).map(h=>{const p=Or(h.options),g=p.findIndex(x=>x.isCorrect);return{id:h.id,question:h.question,options:p.map(x=>x.text),correctAnswer:g,explanation:h.explanation}})),GL=(n,e,t,r,o,a,u)=>{const c=parseFloat(n),h=parseFloat(e),p=c*.8,g=parseFloat(t),x=g*3,w=x-g;return[{id:1,question:`You implement a Fig Leaf on ${r} at $${c.toFixed(2)} by buying a LEAPS call at strike $${p.toFixed(2)} for $${x.toFixed(2)} and selling a 30-day call at strike $${h.toFixed(2)} for $${g.toFixed(2)}. What's your initial net investment?`,options:[{text:`$${(w*100).toFixed(2)}`,isCorrect:!0},{text:`$${(x*100).toFixed(2)}`,isCorrect:!1},{text:`$${(g*100).toFixed(2)}`,isCorrect:!1},{text:`$${(c*100).toFixed(2)}`,isCorrect:!1}],explanation:`The net investment is the LEAPS premium paid ($${x.toFixed(2)}) minus the short call premium received ($${g.toFixed(2)}) multiplied by 100 shares = $${(w*100).toFixed(2)}`},{id:2,question:`For your ${r} Fig Leaf, what happens if the stock price rises above your short strike of $${h.toFixed(2)} before the short call expires?`,options:[{text:"You should consider closing the entire position for a profit",isCorrect:!0},{text:"Exercise your LEAPS call to cover the assignment",isCorrect:!1},{text:"Let assignment happen and maintain the LEAPS position",isCorrect:!1},{text:"Roll the short call to a higher strike price",isCorrect:!1}],explanation:"If the stock rises above the short strike before expiration, it's often best to close the entire position for a profit rather than risk assignment, as early assignment would require complex management of the LEAPS position."},{id:3,question:`What's the approximate delta of your ${r} LEAPS call at the $${p.toFixed(2)} strike, and why is this important?`,options:[{text:"Around 0.80, making it a good stock substitute",isCorrect:!0},{text:"Around 0.50, providing balanced exposure",isCorrect:!1},{text:"Around 0.30, minimizing risk",isCorrect:!1},{text:"Around 0.95, providing maximum leverage",isCorrect:!1}],explanation:`The LEAPS call should have a delta of about 0.80 or higher to act as an effective stock substitute, which is why we chose a strike 20% in-the-money at $${p.toFixed(2)}.`},{id:4,question:`If ${r} drops to $${(c*.85).toFixed(2)} before the short call expires, what's the best action?`,options:[{text:"Buy back the short call and sell another at a lower strike",isCorrect:!0},{text:"Exercise the LEAPS call immediately",isCorrect:!1},{text:"Close the entire position for a loss",isCorrect:!1},{text:"Add another short call at the same strike",isCorrect:!1}],explanation:"When the stock price drops significantly, you can buy back the short call (which has lost value) and sell another at a lower strike to continue generating income while maintaining the position."},{id:5,question:`What's your maximum potential loss on this ${r} Fig Leaf position?`,options:[{text:`$${(w*100).toFixed(2)} (net debit paid)`,isCorrect:!0},{text:`$${(x*100).toFixed(2)} (LEAPS premium)`,isCorrect:!1},{text:`$${(c*100).toFixed(2)} (stock value)`,isCorrect:!1},{text:"Unlimited loss potential",isCorrect:!1}],explanation:`The maximum loss is limited to your initial net debit of $${(w*100).toFixed(2)}, which occurs if the stock drops significantly and both options expire worthless.`},{id:6,question:`If ${r} is at $${(h*1.1).toFixed(2)} at short call expiration, what should you do?`,options:[{text:"Close both positions to lock in the profit",isCorrect:!0},{text:"Exercise the LEAPS to cover assignment",isCorrect:!1},{text:"Roll the short call up and out",isCorrect:!1},{text:"Let assignment occur naturally",isCorrect:!1}],explanation:`With the stock above the short strike at $${(h*1.1).toFixed(2)}, the position is profitable and should be closed to avoid assignment complications with the LEAPS call.`},{id:7,question:`How does the leverage in your ${r} Fig Leaf compare to a regular covered call?`,options:[{text:"Higher leverage due to lower capital requirement",isCorrect:!0},{text:"Lower leverage due to option premium costs",isCorrect:!1},{text:"Same leverage as a covered call",isCorrect:!1},{text:"No leverage effect",isCorrect:!1}],explanation:`The Fig Leaf provides higher leverage because you're only paying $${(w*100).toFixed(2)} instead of $${(c*100).toFixed(2)} for a covered call, while still collecting similar call premium.`},{id:8,question:`What happens to your ${r} position if you're assigned on the short call?`,options:[{text:"Sell the LEAPS and buy stock to cover, preserving time value",isCorrect:!0},{text:"Exercise the LEAPS call immediately",isCorrect:!1},{text:"Let the stock be called away",isCorrect:!1},{text:"Roll the short call forward",isCorrect:!1}],explanation:"If assigned, you should sell the LEAPS call (preserving any remaining time value) and use the proceeds plus additional capital to buy stock to cover the assignment."},{id:9,question:`If ${r} remains at $${c.toFixed(2)} until short call expiration, what's your best course of action?`,options:[{text:"Sell another short-term call against your LEAPS",isCorrect:!0},{text:"Close the entire position",isCorrect:!1},{text:"Exercise the LEAPS call",isCorrect:!1},{text:"Buy back the short call only",isCorrect:!1}],explanation:"With the stock price unchanged, you can continue the strategy by selling another short-term call to generate more premium while maintaining your LEAPS position."},{id:10,question:`What's the key risk difference between your ${r} Fig Leaf and a regular covered call?`,options:[{text:"The LEAPS call expires worthless if the stock drops significantly",isCorrect:!0},{text:"The short call has more risk",isCorrect:!1},{text:"The position has unlimited risk",isCorrect:!1},{text:"There is no difference in risk",isCorrect:!1}],explanation:`Unlike stock in a covered call, your LEAPS call can expire worthless if ${r} drops significantly, potentially losing your entire $${(w*100).toFixed(2)} investment.`}]},KL=(n,e,t,r,o,a,u)=>(console.log("Generating Fig Leaf questions with:",{stockPrice:n,strikePrice:e,premium:t,symbol:r,futurePrice:o,expirationDate:a,selectedDate:u}),GL(n,e,t,r).map(h=>{const p=Or(h.options),g=p.findIndex(x=>x.isCorrect);return{id:h.id,question:h.question,options:p.map(x=>x.text),correctAnswer:g,explanation:h.explanation}})),QL=({stockPrice:n,strikePrice:e,premium:t,symbol:r,futurePrice:o,expirationDate:a,selectedDate:u,strategy:c})=>{const{user:h}=Ia(),[p,g]=T.useState(0),[x,w]=T.useState(!1),[C,k]=T.useState(null),[I,A]=T.useState(0);T.useEffect(()=>{console.log("ConceptQuiz received props:",{stockPrice:n,strikePrice:e,premium:t,symbol:r,futurePrice:o,expirationDate:a,selectedDate:u})},[n,e,t,r,o,a,u]);const N=T.useMemo(()=>{console.log("Generating questions with props:",{stockPrice:n,strikePrice:e,premium:t,symbol:r,futurePrice:o,expirationDate:a,selectedDate:u});const b=!!(n&&e&&t&&r&&o&&a&&u);if(console.log("All props available:",b),b)switch(console.log("All props available: ",b),c){case ae.LONG_CALL:return console.log("Selecting generate Long Call"),RL(n,e,t,r,o,a,u);case ae.COVERED_CALL:return console.log("Selecting Covered Call"),$L(n,e,t,r,o,a,u);case ae.OPTIONS_THEORY:return console.log("Selecting Options Theory"),FL(n,e,t,r,o,a,u);case ae.COLLAR_STRATEGY:return console.log("Selecting Collar Strategy"),OL(n,e,t,r,o,a,u);case ae.CASH_SECURED_PUT:return console.log("Selecting Cash Secured Put"),ML(n,e,t,r,o,a,u);case ae.PROTECTIVE_PUT:return console.log("Selecting Protectivated Put"),jL(n,e,t,r,o,a,u);case ae.LONG_PUT:return console.log("Selecting Long Put"),BL(n,e,t,r,o,a,u);case ae.LONG_CALL_SPREAD:return console.log("Selecting Long Call Spread"),WL(n,e,t,r,o,a,u);case ae.LONG_PUT_SPREAD:return console.log("Selecting Long Put Spread"),qL(n,e,t,r,o,a,u);case ae.FIG_LEAF:return console.log("Selecting Fig Leaf Strategy"),KL(n,e,t,r,o,a,u);default:return[]}return[]},[n,e,t,r,o,a,u,c]);T.useEffect(()=>{console.log("Questions array updated:",N)},[N]);const D=b=>{k(b),w(!0),b===N[p].correctAnswer&&A(I+1)},z=()=>{p<N.length-1&&(g(p+1),k(null),w(!1))},K=async()=>{if(h)try{await AL(h.uid,I,N.length,r,u)}catch(b){console.error("Error saving score:",b)}},X=()=>{g(0),k(null),w(!1),A(0)};if(T.useEffect(()=>{p===N.length-1&&x&&K()},[p,x,N.length]),N.length===0)return console.log("Rendering empty state - no questions available"),_.jsx("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:_.jsx("p",{children:"Generate a question to see practical scenarios based on real market data."})});console.log("Rendering question:",p);const ne=N[p];return _.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("h3",{className:"text-lg font-semibold",children:"Practice Scenarios"}),_.jsxs("span",{className:"text-sm text-blue-600",children:["Score: ",I,"/",N.length]})]}),_.jsxs("div",{className:"bg-white p-4 rounded-lg shadow",children:[_.jsx("p",{className:"font-medium mb-4",children:ne.question}),_.jsx("div",{className:"space-y-2",children:ne.options.map((b,R)=>_.jsx("button",{onClick:()=>D(R),disabled:x,className:`w-full p-3 text-left rounded ${x?R===ne.correctAnswer?"bg-green-100 border-green-500":R===C?"bg-red-100 border-red-500":"bg-gray-50":"bg-gray-50 hover:bg-purple-50"} border transition-colors`,children:b},R))}),x&&_.jsx("div",{className:"mt-4 p-4 bg-purple-50 rounded",children:_.jsx("p",{className:"text-sm",children:ne.explanation})}),x&&_.jsx("div",{className:"mt-4 flex justify-end",children:p<N.length-1?_.jsx(Gs,{onClick:z,className:"bg-purple-600 hover:bg-purple-700 text-white",children:"Next Question"}):_.jsx(Gs,{onClick:X,className:"bg-green-600 hover:bg-green-700 text-white",children:"Try New Scenarios"})})]})]})},lw=["MMM","AOS","ABT","ABBV","ACN","ATVI","ADM","ADBE","ADP","AAP","AES","AFL","A","APD","AKAM","ALK","ALB","ARE","ALGN","ALLE","LNT","ALL","GOOGL","GOOG","MO","AMZN","AMCR","AMD","AEE","AAL","AEP","AXP","AIG","AMT","AWK","AMP","ABC","AME","AMGN","APH","ADI","ANSS","AON","APA","AAPL","AMAT","APTV","ACGL","ANET","AJG","AIZ","T","ATO","ADSK","AZO","AVB","AVY","AXON","BKR","BALL","BAC","BBWI","BAX","BDX","WRB","BRK.B","BBY","BIO","TECH","BIIB","BLK","BK","BA","BKNG","BWA","BXP","BSX","BMY","AVGO","BR","BRO","BF.B","BG","CHRW","CDNS","CZR","CPT","CPB","COF","CAH","KMX","CCL","CARR","CTLT","CAT","CBOE","CBRE","CDW","CE","CNC","CNP","CDAY","CF","CRL","SCHW","CHTR","CVX","CMG","CB","CHD","CI","CINF","CTAS","CSCO","C","CFG","CLX","CME","CMS","KO","CTSH","CL","CMCSA","CMA","CAG","COP","ED","STZ","CEG","COO","CPRT","GLW","CTVA","CSGP","COST","CTRA","CCI","CSX","CMI","CVS","DHI","DHR","DRI","DVA","DE","DAL","XRAY","DVN","DXCM","FANG","DLR","DFS","DISH","DIS","DG","DLTR","D","DPZ","DOV","DOW","DTE","DUK","DD","DXC","EMN","ETN","EBAY","ECL","EIX","EW","EA","ELV","LLY","EMR","ENPH","ETR","EOG","EPAM","EQT","EFX","EQIX","EQR","ESS","EL","ETSY","RE","EVRG","ES","EXC","EXPE","EXPD","EXR","XOM","FFIV","FDS","FICO","FAST","FRT","FDX","FITB","FRC","FE","FIS","FISV","FMC","F","FTNT","FTV","FOXA","FOX","BEN","FCX","GRMN","IT","GEHC","GEN","GNRC","GD","GE","GIS","GM","GPC","GILD","GL","GPN","GS","HAL","HIG","HAS","HCA","PEAK","HSIC","HSY","HES","HPE","HLT","HOLX","HD","HON","HRL","HST","HWM","HPQ","HUM","HBAN","HII","IBM","IEX","IDXX","ITW","ILMN","INCY","IR","PODD","INTC","ICE","IFF","IP","IPG","INTU","ISRG","IVZ","INVH","IQV","IRM","JBHT","JKHY","J","JNJ","JCI","JPM","JNPR","K","KDP","KEY","KEYS","KMB","KIM","KMI","KLAC","KHC","KR","LHX","LH","LRCX","LW","LVS","LDOS","LEN","LNC","LIN","LYV","LKQ","LMT","L","LOW","LYB","MTB","MRO","MPC","MKTX","MAR","MMC","MLM","MAS","MA","MTCH","MKC","MCD","MCK","MDT","MRK","META","MET","MTD","MGM","MCHP","MU","MSFT","MAA","MRNA","MHK","MOH","TAP","MDLZ","MPWR","MNST","MCO","MS","MOS","MSI","MSCI","NDAQ","NTAP","NFLX","NWL","NEM","NWSA","NWS","NEE","NKE","NI","NDSN","NSC","NTRS","NOC","NCLH","NRG","NUE","NVDA","NVR","NXPI","ORLY","OXY","ODFL","OMC","ON","OKE","ORCL","OGN","OTIS","PCAR","PKG","PARA","PH","PAYX","PAYC","PYPL","PNR","PEP","PKI","PFE","PCG","PM","PSX","PNW","PXD","PNC","POOL","PPG","PPL","PFG","PG","PGR","PLD","PRU","PEG","PTC","PSA","PHM","QRVO","PWR","QCOM","DGX","RL","RJF","RTX","O","REG","REGN","RF","RSG","RMD","RHI","ROK","ROL","ROP","ROST","RCL","SPGI","CRM","SBAC","SLB","STX","SEE","SRE","NOW","SHW","SPG","SWKS","SJM","SNA","SEDG","SO","LUV","SWK","SBUX","STT","STLD","STE","SYK","SYF","SNPS","SYY","TMUS","TROW","TTWO","TPR","TRGP","TGT","TEL","TDY","TFX","TER","TSLA","TXN","TXT","TMO","TJX","TSCO","TT","TDG","TRV","TRMB","TFC","TYL","TSN","USB","UDR","ULTA","UNP","UAL","UPS","URI","UNH","UHS","VLO","VTR","VRSN","VRSK","VZ","VRTX","VFC","VTRS","VICI","V","VMC","WAB","WBA","WMT","WBD","WM","WAT","WEC","WFC","WELL","WST","WDC","WRK","WY","WHR","WMB","WTW","GWW","WYNN","XEL","XYL","YUM","ZBRA","ZBH","ZION","ZTS"],YL=()=>{const n=Ew(),{user:e}=Ia(),{setIsPremium:t}=Vm(),[r,o]=T.useState(null),[a,u]=T.useState(!1);return T.useEffect(()=>{(async()=>{if(console.log("SuccessPage: Starting payment success handling"),console.log("Current user:",e==null?void 0:e.uid),!e){console.error("No user found in SuccessPage"),o("User not found. Please try logging in again.");return}try{console.log("Updating subscription status in Firestore..."),await gb(e.uid,"active"),console.log("Setting premium status in context..."),await t(!0),console.log("Updating localStorage..."),localStorage.setItem(`premium_status_${e.uid}`,JSON.stringify({isPremium:!0,timestamp:Date.now()})),u(!0),console.log("All updates completed successfully"),setTimeout(()=>{console.log("Redirecting to home page..."),n("/")},3e3)}catch(h){console.error("Error in SuccessPage:",h),o(h.message||"Failed to update subscription status")}})()},[n,t,e]),_.jsx("div",{className:"min-h-screen bg-purple-50 flex items-center justify-center p-4",children:_.jsxs($r,{className:"max-w-md w-full",children:[_.jsxs(eo,{children:[_.jsx("div",{className:"flex items-center justify-center mb-4",children:r?_.jsx(xF,{className:"h-12 w-12 text-red-500"}):_.jsx(CF,{className:"h-12 w-12 text-green-500"})}),_.jsx(to,{className:"text-center",children:r?"Update Failed":"Payment Successful!"})]}),_.jsx(Nr,{className:"space-y-4",children:r?_.jsx(fu,{variant:"destructive",children:_.jsx(pu,{children:r})}):_.jsxs(_.Fragment,{children:[_.jsx("p",{className:"text-center text-gray-600",children:"Thank you for upgrading to premium access. You now have access to all advanced options trading strategies."}),_.jsxs("p",{className:"text-sm text-center text-gray-500",children:[a?"Premium status updated successfully! ":"","Redirecting you back to the application in a few seconds..."]})]})})]})})},XL=({companyName:n})=>{var c;const[e,t]=T.useState(null),[r,o]=T.useState(!1),[a,u]=T.useState(null);return T.useEffect(()=>{(async()=>{if(n){o(!0),u(null);try{const p=`https://en.wikipedia.org/w/api.php?action=query&list=search&srsearch=${n} company&format=json&origin=*`,x=await(await fetch(p)).json();if(x.query.search.length===0)throw new Error("No Wikipedia page found for this company");const w=x.query.search[0].pageid,C=`https://en.wikipedia.org/w/api.php?action=query&prop=extracts&exintro&explaintext&pageids=${w}&format=json&origin=*`,A=(await(await fetch(C)).json()).query.pages[w];t({title:A.title,extract:A.extract})}catch(p){u(p.message)}finally{o(!1)}}})()},[n]),_.jsxs($r,{className:"mt-4",children:[_.jsxs(eo,{children:[_.jsx(to,{children:"Company Information"}),_.jsx(Zm,{children:"Data from Wikipedia"})]}),_.jsxs(Nr,{children:[r&&_.jsx("div",{className:"text-gray-600",children:"Loading company information..."}),a&&_.jsxs(fu,{variant:"destructive",children:[_.jsx(lC,{className:"h-4 w-4"}),_.jsx(pu,{children:a})]}),e&&_.jsxs("div",{className:"space-y-2",children:[_.jsx("h3",{className:"font-semibold text-lg",children:e.title}),_.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:(c=e.extract)==null?void 0:c.split(`
`)[0]}),_.jsx("a",{href:`https://en.wikipedia.org/wiki/${encodeURIComponent(e.title)}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm",children:"Read more on Wikipedia"})]})]})]})},JL=({symbol:n})=>{const e=T.useRef(null),t=T.useRef(null);if(T.useEffect(()=>{if(!n)return;t.current&&t.current.remove();const o=document.createElement("script");return o.src="https://s3.tradingview.com/external-embedding/embed-widget-technical-analysis.js",o.type="text/javascript",o.async=!0,o.innerHTML=JSON.stringify({interval:"1W",width:"100%",isTransparent:!1,height:"400",symbol:`${n}`,showIntervalTabs:!0,displayMode:"single",locale:"en",colorTheme:"light"}),t.current=o,e.current&&e.current.appendChild(o),()=>{t.current&&t.current.remove()}},[n]),!n)return null;const r=`https://www.tradingview.com/symbols/${n}/`;return _.jsxs($r,{className:"mt-4",children:[_.jsxs(eo,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[_.jsx(to,{className:"text-sm font-medium",children:"Technical Analysis"}),_.jsxs("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1",children:["View on TradingView",_.jsx(IF,{className:"h-4 w-4"})]})]}),_.jsx(Nr,{children:_.jsx("div",{className:"tradingview-widget-container",ref:e,children:_.jsx("div",{className:"tradingview-widget-container__widget"})})})]})},ZL=({stockPrice:n,strikePrice:e,premium:t,companyDetails:r})=>{const o=u=>u?u>=1e6?`$${(u/1e6).toFixed(2)}T`:u>=1e3?`$${(u/1e3).toFixed(2)}B`:`$${u.toFixed(2)}M`:"N/A",a=u=>u?u>=1e3?`${(u/1e3).toFixed(2)}B shares`:`${u.toFixed(2)}M shares`:"N/A";return _.jsxs("div",{className:"space-y-4",children:[r&&_.jsx($r,{className:"bg-white",children:_.jsxs(Nr,{className:"pt-6",children:[_.jsxs("div",{className:"flex items-start space-x-4",children:[r.logo&&_.jsx("img",{src:r.logo,alt:`${r.name} logo`,className:"w-16 h-16 object-contain"}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-semibold",children:r.name}),_.jsx("p",{className:"text-sm text-gray-500",children:r.finnhubIndustry})]})]}),_.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-4",children:[_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx(EF,{className:"w-4 h-4 text-gray-500"}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Market Cap"}),_.jsx("p",{className:"font-medium",children:o(r.marketCapitalization)})]})]}),_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx(wF,{className:"w-4 h-4 text-gray-500"}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Shares Outstanding"}),_.jsx("p",{className:"font-medium",children:a(r.shareOutstanding)})]})]}),_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx(_F,{className:"w-4 h-4 text-gray-500"}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"IPO Date"}),_.jsx("p",{className:"font-medium",children:r.ipo||"N/A"})]})]})]})]})}),(r==null?void 0:r.name)&&_.jsx(XL,{companyName:r.name}),(r==null?void 0:r.ticker)&&_.jsx(JL,{symbol:r.ticker})]})},bC={LEAPS_PREMIUM_MULTIPLIER:3},wr=(n,e,t,r)=>{const o=parseFloat(e),a=parseFloat(t),u=parseFloat(r),c=u*1.2,h=u*.8,p=c-h,g=u,x=u*.7,w=g-x,k=u*bC.LEAPS_PREMIUM_MULTIPLIER-u;switch(n){case ae.COVERED_CALL:return{amount:(o*100).toFixed(2),description:"(100 shares)"};case ae.CASH_SECURED_PUT:return{amount:(a*100).toFixed(2),description:"(cash to buy 100 shares)"};case ae.LONG_CALL:return{amount:(u*100).toFixed(2),description:"(premium for 1 contract)"};case ae.PROTECTIVE_PUT:return{amount:(o*100+u*100).toFixed(2),description:"(100 shares + put premium)"};case ae.COLLAR_STRATEGY:return{amount:(o*100).toFixed(2),description:"(100 shares)"};case ae.LONG_PUT:return{amount:(u*100).toFixed(2),description:"(premium for 1 contract)"};case ae.LONG_CALL_SPREAD:return{amount:(p*100).toFixed(2),description:"(net debit for long call spread)"};case ae.LONG_PUT_SPREAD:return{amount:(w*100).toFixed(2),description:"(net debit for long put spread)"};case ae.FIG_LEAF:return{amount:(k*100).toFixed(2),description:"(net debit for LEAPS + short call)"};default:return{amount:"0.00",description:""}}},_r=(n,e,t,r)=>{const o=parseFloat(r),a=o*.8,u=o*1.2,c=o*.8,h=u-c,p=o,g=o*.7,x=p-g,C=o*bC.LEAPS_PREMIUM_MULTIPLIER-o;switch(n){case ae.COVERED_CALL:return{amount:(o*100).toFixed(2),description:"premium received"};case ae.CASH_SECURED_PUT:return{amount:(o*100).toFixed(2),description:"premium received"};case ae.LONG_CALL:return{amount:(o*100).toFixed(2),description:"premium paid"};case ae.PROTECTIVE_PUT:return{amount:(o*100).toFixed(2),description:"premium paid"};case ae.COLLAR_STRATEGY:const k=a-o;return{amount:Math.abs(k*100).toFixed(2),description:k>0?"net debit paid":"net credit received"};case ae.LONG_PUT:return{amount:(o*100).toFixed(2),description:"premium paid"};case ae.LONG_CALL_SPREAD:return{amount:(h*100).toFixed(2),description:"net debit paid"};case ae.LONG_PUT_SPREAD:return{amount:(x*100).toFixed(2),description:"net debit paid"};case ae.FIG_LEAF:return{amount:(C*100).toFixed(2),description:"net debit paid (LEAPS premium - short call premium)"};default:return{amount:"0.00",description:""}}},eO=({symbol:n})=>{const e=T.useRef(null),t=T.useRef(null);return T.useEffect(()=>{if(!n)return;t.current&&(t.current.remove(),t.current=null);const r=document.createElement("script");return r.type="text/javascript",r.src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js",r.async=!0,r.innerHTML=JSON.stringify({autosize:!0,symbol:`${n}`,timezone:"Etc/UTC",theme:"light",style:"2",locale:"en",hide_legend:!0,range:"1M",allow_symbol_change:!1,save_image:!1,calendar:!1,support_host:"https://www.tradingview.com"}),t.current=r,e.current&&e.current.appendChild(r),()=>{t.current&&(t.current.remove(),t.current=null)}},[n]),n?_.jsxs($r,{className:"mt-4",children:[_.jsx(eo,{children:_.jsxs(to,{className:"text-sm font-medium",children:[n," Price Chart"]})}),_.jsx(Nr,{children:_.jsx("div",{className:"w-full h-96",children:_.jsxs("div",{ref:e,className:"tradingview-widget-container w-full h-full",children:[_.jsx("div",{className:"tradingview-widget-container__widget",style:{height:"calc(100% - 32px)",width:"100%"}}),_.jsx("div",{className:"tradingview-widget-copyright",children:_.jsx("a",{href:"https://www.tradingview.com/",rel:"noopener nofollow",target:"_blank",className:"text-xs text-blue-600 hover:text-blue-800",children:"Track all markets on TradingView"})})]})})})]}):null};var $C={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},uw=Qt.createContext&&Qt.createContext($C),tO=["attr","size","title"];function nO(n,e){if(n==null)return{};var t=rO(n,e),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(o=0;o<a.length;o++)r=a[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function rO(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function kd(){return kd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},kd.apply(this,arguments)}function cw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Ad(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cw(Object(t),!0).forEach(function(r){iO(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cw(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function iO(n,e,t){return e=sO(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function sO(n){var e=oO(n,"string");return typeof e=="symbol"?e:e+""}function oO(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function NC(n){return n&&n.map((e,t)=>Qt.createElement(e.tag,Ad({key:t},e.attr),NC(e.child)))}function eg(n){return e=>Qt.createElement(aO,kd({attr:Ad({},n.attr)},e),NC(n.child))}function aO(n){var e=t=>{var{attr:r,size:o,title:a}=n,u=nO(n,tO),c=o||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),Qt.createElement("svg",kd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:h,style:Ad(Ad({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&Qt.createElement("title",null,a),n.children)};return uw!==void 0?Qt.createElement(uw.Consumer,null,t=>e(t)):e($C)}function lO(n){return eg({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(n)}function uO(n){return eg({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(n)}function cO(n){return eg({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"},child:[]}]})(n)}const dO=()=>{const n="text-[#646cff] hover:text-[#535bf2] transition-colors duration-300";return _.jsx("div",{className:"px-8 pb-8",children:_.jsx($r,{className:"max-w-4xl mx-auto bg-white",children:_.jsxs(Nr,{className:"py-6",children:[_.jsx("div",{className:"flex flex-col items-center space-y-4",children:_.jsxs("div",{className:"flex justify-center items-center space-x-6",children:[_.jsx("a",{href:"https://twitter.com/phoe6",target:"_blank",rel:"noopener noreferrer",className:n,"aria-label":"Twitter",children:_.jsx(cO,{className:"w-6 h-6"})}),_.jsx("a",{href:"https://github.com/orsenthil/options-quiz/",target:"_blank",rel:"noopener noreferrer",className:n,"aria-label":"GitHub",children:_.jsx(lO,{className:"w-6 h-6"})}),_.jsx("a",{href:"https://linkedin.com/in/orsenthil",target:"_blank",rel:"noopener noreferrer",className:n,"aria-label":"LinkedIn",children:_.jsx(uO,{className:"w-6 h-6"})})]})}),_.jsx("div",{className:"flex flex-col items-center space-y-6 space-x-6 p-4",children:_.jsx("p",{className:"text-xs text-gray-500",children:"This application helps users learn options trading. No statement on this website should be construed as a recommendation to purchase or sell securities or as investment advice. Before buying or selling options, you must receive a copy of 'Characteristics and Risks of Standardized Options' from your broker or The Options Clearing Corporation."})})]})})})},dw="ctff27hr01qi0nfd3lugctff27hr01qi0nfd3lv0",hO=()=>{const{user:n}=Ia(),{isPremium:e}=Vm(),t=()=>{const q=Math.floor(Math.random()*lw.length);return lw[q]},[r,o]=T.useState(ae.OPTIONS_THEORY),[a,u]=T.useState(()=>t()),[c,h]=T.useState(!1),[p,g]=T.useState(""),[x,w]=T.useState(""),[C,k]=T.useState(""),[I,A]=T.useState({show:!1,correct:!1,message:""}),[N,D]=T.useState(""),[z,K]=T.useState(""),[X,ne]=T.useState(null),[b,R]=T.useState(""),$=async q=>{try{const ee=await(await fetch(`https://finnhub.io/api/v1/stock/profile2?symbol=${q}&token=${dw}`)).json();ee&&ne(ee)}catch(ie){console.error("Error fetching company details:",ie)}},O=q=>![ae.OPTIONS_THEORY,ae.COVERED_CALL].includes(q),V=q=>{o(q),u(()=>t()),g(""),w(""),k(""),K(""),D(""),ne(null),R(""),A({show:!1,correct:!1,message:""}),h(!1)},M=(q,ie)=>{let ee=new Date(q),U=0;for(;U<ie;)ee.setDate(ee.getDate()+1),ee.getDay()!==0&&ee.getDay()!==6&&U++;return ee},F=(q,ie)=>{switch(ie){case ae.LONG_CALL:return q*1.05;case ae.COVERED_CALL:return q*1.08;case ae.CASH_SECURED_PUT:return q*.92;case ae.PROTECTIVE_PUT:return q*.9;case ae.COLLAR_STRATEGY:return q*1.1;case ae.FIG_LEAF:return q*1.05;default:return q*1.1}},ve=q=>{switch(q){case ae.COVERED_CALL:return .004;case ae.LONG_CALL:return .015;case ae.CASH_SECURED_PUT:return .008;case ae.PROTECTIVE_PUT:return .012;case ae.COLLAR_STRATEGY:return .006;case ae.FIG_LEAF:return .015;default:return .01}},Fe=async()=>{h(!0);try{console.log("Starting fetchStockData with:",{symbol:a}),await $(a);const q=r===ae.FIG_LEAF?M(new Date,30):M(new Date,10),ee=await(await fetch(`https://finnhub.io/api/v1/quote?symbol=${a}&token=${dw}`)).json();if(console.log("Quote data:",ee),ee.c){const U=ee.c,J=-.05,Ee=Math.random()*(.15-J)+J,Se=U*(1+Ee);console.log("Setting data with values:",{startingPrice:U,randomChange:`${(Ee*100).toFixed(2)}%`,futurePrice:Se}),g(U.toFixed(2));const Ae=F(U,r);w(Ae.toFixed(2));const ce=ve(r);return k((U*ce).toFixed(2)),K(Se.toFixed(2)),D(q.toISOString().split("T")[0]),console.log("Data set successfully:",{stockPrice:U.toFixed(2),strikePrice:(U*1.05).toFixed(2),premium:(U*.03).toFixed(2),futurePrice:Se.toFixed(2),expirationDate:q.toISOString().split("T")[0]}),!0}else return console.log("Missing required data:",{hasCurrentPrice:!!ee.c}),A({show:!0,correct:!1,message:"No data available for this symbol"}),!1}catch(q){return console.error("Error fetching data:",q),A({show:!0,correct:!1,message:"Error fetching stock data"}),!1}finally{h(!1)}},we=async()=>{if(!a){A({show:!0,correct:!1,message:"Please enter both symbol and date"});return}await Fe()&&A({show:!0,correct:!0,message:""})},ge=()=>{if(O(r)&&!e)return _.jsx("div",{className:"mt-8",children:_.jsx(IL,{})});const q=p&&x&&C&&z&&N;return _.jsx("div",{className:"space-y-8",children:q&&_.jsx("div",{className:"border-t pt-8",children:_.jsx(QL,{stockPrice:p,strikePrice:x,premium:C,symbol:a,expirationDate:N,futurePrice:z,selectedDate:new Date().toISOString().split("T")[0],strategy:r})})})};return _.jsx("div",{className:"p-8",children:_.jsxs($r,{className:"w-full max-w-4xl mx-auto bg-white mb-8",children:[_.jsx(eo,{children:_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("div",{children:[_.jsx(to,{className:"text-2xl font-bold text-purple-900",children:"Options Trading Guide"}),_.jsx(Zm,{children:"Learn options trading concepts with interactive examples"})]}),_.jsx(fL,{})]})}),_.jsxs(Nr,{className:"space-y-8",children:[_.jsx(cL,{selectedStrategy:r,onStrategyChange:V}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Options Analysis Tool"}),_.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx(RC,{htmlFor:"symbol",children:"Stock Symbol"}),_.jsx(kC,{id:"symbol",placeholder:`Enter symbol (e.g., ${t()})`,value:a,onChange:q=>u(q.target.value.toUpperCase()),className:"bg-purple-50"})]}),_.jsx(Gs,{onClick:we,className:"w-full bg-purple-600 hover:bg-purple-700 text-white",disabled:c,children:c?_.jsxs("span",{className:"flex items-center",children:[_.jsx(cC,{className:"animate-spin mr-2"}),"Loading..."]}):"Analyze Stock"}),p&&x&&C&&(!O(r)||e)?_.jsx(ZL,{stockPrice:p,strikePrice:x,premium:C,companyDetails:X}):null,I.show&&!I.correct&&_.jsxs(fu,{className:"bg-red-50",children:[_.jsx(lC,{className:"text-red-600"}),_.jsx(IC,{className:"text-red-800",children:"Error"}),_.jsx(pu,{className:"whitespace-pre-line",children:I.message})]})]}),_.jsx("div",{className:"space-y-4",children:_.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[_.jsx("h4",{className:"font-medium mb-2",children:"Analysis"}),p&&x&&(!O(r)||e)?_.jsxs(_.Fragment,{children:[_.jsx(eO,{symbol:a}),_.jsx("div",{className:"mt-6",children:_.jsx($r,{className:"bg-white",children:_.jsxs(Nr,{className:"pt-6",children:[_.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Options Details for Practice Scenario"}),(()=>{const q=parseFloat(C)*1.2,ie=parseFloat(C)*.8,ee=q-ie,U=parseFloat(x)*.95,J=parseFloat(x)*1.05,pe=J-U-ee,Ee=ee,Se=parseFloat(p)*.8,Ae=parseFloat(C)*3,ce=Ae-parseFloat(C);switch(r){case ae.FIG_LEAF:return _.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Current Stock Price"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",p]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"LEAPS Strike (ITM)"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",Se.toFixed(2)]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Short Call Strike (OTM)"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",x]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"LEAPS Premium (Paid)"}),_.jsxs("p",{className:"font-medium text-red-600 break-words whitespace-normal",children:["-$",Ae.toFixed(2)," per share"]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Short Call Premium (Received)"}),_.jsxs("p",{className:"font-medium text-green-600 break-words whitespace-normal",children:["+$",C," per share"]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Net Debit"}),_.jsxs("p",{className:"font-medium text-red-600 break-words whitespace-normal",children:["$",ce.toFixed(2)," per share"]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Required Collateral"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",wr(r,p,x,C).amount,_.jsx("span",{className:"text-sm text-gray-500 ml-1",children:wr(r,p,x,C).description})]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Initial Investment"}),_.jsxs("p",{className:"font-medium text-red-600 break-words whitespace-normal",children:["$",_r(r,p,x,C).amount,_.jsx("span",{className:"text-sm text-gray-500 ml-1",children:_r(r,p,x,C).description})]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Trade Date"}),_.jsx("p",{className:"font-medium break-words whitespace-normal",children:new Date().toISOString().split("T")[0]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Expiration Date"}),_.jsx("p",{className:"font-medium break-words whitespace-normal",children:N})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Break-even Price"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",(Se+ce).toFixed(2)]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Maximum Loss"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",(ce*100).toFixed(2)," (net debit paid)"]})]})]});case ae.LONG_PUT_SPREAD:return _.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Current Stock Price"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",p]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Long Put Strike (Higher)"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",x]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Short Put Strike (Lower)"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",(parseFloat(x)*.95).toFixed(2)]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Long Put Premium (Paid)"}),_.jsxs("p",{className:"font-medium text-red-600 break-words whitespace-normal",children:["-$",C," per share"]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Short Put Premium (Received)"}),_.jsxs("p",{className:"font-medium text-green-600 break-words whitespace-normal",children:["+$",(parseFloat(C)*.7).toFixed(2)," per share"]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Net Debit"}),_.jsxs("p",{className:"font-medium text-red-600 break-words whitespace-normal",children:["$",(parseFloat(C)*.3).toFixed(2)," per share"]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Maximum Profit"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",(parseFloat(x)-parseFloat(x)*.95-parseFloat(C)*.3).toFixed(2)," per share"]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Maximum Loss"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",(parseFloat(C)*.3).toFixed(2)," per share"]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Break-even Price"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",(parseFloat(x)-parseFloat(C)*.3).toFixed(2)]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Required Collateral"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",wr(r,p,x,C).amount,_.jsx("span",{className:"text-sm text-gray-500 ml-1",children:wr(r,p,x,C).description})]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Initial Investment"}),_.jsxs("p",{className:"font-medium text-red-600 break-words whitespace-normal",children:["$",_r(r,p,x,C).amount,_.jsx("span",{className:"text-sm text-gray-500 ml-1",children:_r(r,p,x,C).description})]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Trade Date"}),_.jsx("p",{className:"font-medium break-words whitespace-normal",children:new Date().toISOString().split("T")[0]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Expiration Date"}),_.jsx("p",{className:"font-medium break-words whitespace-normal",children:N})]})]});case ae.LONG_CALL_SPREAD:return _.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Current Stock Price"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",p]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Long Call Strike"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",U.toFixed(2)]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Short Call Strike"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",J.toFixed(2)]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Long Call Premium (Paid)"}),_.jsxs("p",{className:"font-medium text-red-600 break-words whitespace-normal",children:["-$",q.toFixed(2)," per share"]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Short Call Premium (Received)"}),_.jsxs("p",{className:"font-medium text-green-600 break-words whitespace-normal",children:["+$",ie.toFixed(2)," per share"]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Net Debit"}),_.jsxs("p",{className:"font-medium text-red-600 break-words whitespace-normal",children:["$",ee.toFixed(2)," per share"]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Maximum Profit"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",pe.toFixed(2)," per share"]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Maximum Loss"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",Ee.toFixed(2)," per share"]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Break-even Price"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",(U+ee).toFixed(2)]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Required Collateral"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",wr(r,p,x,C).amount,_.jsx("span",{className:"text-sm text-gray-500 ml-1",children:wr(r,p,x,C).description})]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Initial Investment"}),_.jsxs("p",{className:"font-medium text-red-600 break-words whitespace-normal",children:["$",_r(r,p,x,C).amount,_.jsx("span",{className:"text-sm text-gray-500 ml-1",children:_r(r,p,x,C).description})]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Trade Date"}),_.jsx("p",{className:"font-medium break-words whitespace-normal",children:new Date().toISOString().split("T")[0]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Expiration Date"}),_.jsx("p",{className:"font-medium break-words whitespace-normal",children:N})]})]});case ae.COLLAR_STRATEGY:return _.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Current Stock Price"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",p]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Call Strike (Short)"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",x]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Put Strike (Long)"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",(parseFloat(p)*.9).toFixed(2)]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Call Premium (Received)"}),_.jsxs("p",{className:"font-medium text-green-600 break-words whitespace-normal",children:["+$",C," per share"]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Put Premium (Paid)"}),_.jsxs("p",{className:"font-medium text-red-600 break-words whitespace-normal",children:["-$",(parseFloat(C)*.8).toFixed(2)," per share"]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Net Debit/Credit"}),_.jsxs("p",{className:`font-medium break-words whitespace-normal ${parseFloat(C)*.2>0?"text-green-600":"text-red-600"}`,children:["$",(parseFloat(C)*.2).toFixed(2)," per share"]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Maximum Profit"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",(parseFloat(x)-parseFloat(p)+parseFloat(C)*.2).toFixed(2)," per share"]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Maximum Loss"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",(parseFloat(p)-parseFloat(p)*.9-parseFloat(C)*.2).toFixed(2)," per share"]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Required Collateral"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",wr(r,p,x,C).amount,_.jsx("span",{className:"text-sm text-gray-500 ml-1",children:wr(r,p,x,C).description})]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Initial Cash Flow"}),_.jsxs("p",{className:`font-medium break-words whitespace-normal ${parseFloat(C)*.2>0?"text-green-600":"text-red-600"}`,children:["$",_r(r,p,x,C).amount,_.jsx("span",{className:"text-sm text-gray-500 ml-1",children:_r(r,p,x,C).description})]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Trade Date"}),_.jsx("p",{className:"font-medium break-words whitespace-normal",children:new Date().toISOString().split("T")[0]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Expiration Date"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",N]})]})]});default:return _.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Current Stock Price"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",p]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Strike Price"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",x]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Option Premium"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",C," per share"]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Total Cost"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",(parseFloat(C)*100).toFixed(2)]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Required Collateral"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",wr(r,p,x,C).amount,_.jsx("span",{className:"text-sm text-gray-500 ml-1",children:wr(r,p,x,C).description})]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Initial Cash Flow"}),_.jsxs("p",{className:`font-medium break-words whitespace-normal ${r===ae.COVERED_CALL||r===ae.CASH_SECURED_PUT?"text-green-600":"text-red-600"}`,children:[r===ae.COVERED_CALL||r===ae.CASH_SECURED_PUT?"+":"-","$",_r(r,p,x,C).amount,_.jsx("span",{className:"text-sm text-gray-500 ml-1",children:_r(r,p,x,C).description})]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Trade Date"}),_.jsx("p",{className:"font-medium break-words whitespace-normal",children:new Date().toISOString().split("T")[0]})]}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Expiration Date"}),_.jsxs("p",{className:"font-medium break-words whitespace-normal",children:["$",N]})]})]})}})()]})})})]}):_.jsx("p",{className:"text-gray-500",children:"Select a stock symbol and date to see analysis"})]})})]})]}),ge()]})]})})},fO=()=>_.jsxs("div",{className:"min-h-screen bg-purple-gradient",children:[" ",_.jsx("div",{className:"flex flex-col min-h-screen",children:_.jsxs("div",{className:"flex-grow p-2 sm:p-4 md:p-8 space-y-8",children:[_.jsx(pb,{children:_.jsx(yb,{children:_.jsxs(DT,{children:[_.jsx(sp,{path:"/",element:_.jsx(hO,{})}),_.jsx(sp,{path:"/success",element:_.jsx(YL,{})})]})})}),_.jsx(dO,{})]})})]});GS.createRoot(document.getElementById("root")).render(_.jsx(Qt.StrictMode,{children:_.jsx(aI,{children:_.jsx(fO,{})})}));
